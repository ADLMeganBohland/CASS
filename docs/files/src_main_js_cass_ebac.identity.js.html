<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src/main/js/cass/ebac.identity.js - CASS Javascript Library</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="http://docs.cassproject.org/img/customLogo-blue.png" title="CASS Javascript Library"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.2</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/AboutPage.html">AboutPage</a></li>
                                <li><a href="../classes/AcceptAction.html">AcceptAction</a></li>
                                <li><a href="../classes/Accommodation.html">Accommodation</a></li>
                                <li><a href="../classes/AccountingService.html">AccountingService</a></li>
                                <li><a href="../classes/AccreditAction.html">AccreditAction</a></li>
                                <li><a href="../classes/AchieveAction.html">AchieveAction</a></li>
                                <li><a href="../classes/Action.html">Action</a></li>
                                <li><a href="../classes/ActionStatusType.html">ActionStatusType</a></li>
                                <li><a href="../classes/ActivateAction.html">ActivateAction</a></li>
                                <li><a href="../classes/AddAction.html">AddAction</a></li>
                                <li><a href="../classes/AdministrativeArea.html">AdministrativeArea</a></li>
                                <li><a href="../classes/AdultEntertainment.html">AdultEntertainment</a></li>
                                <li><a href="../classes/AdvancedStandingAction.html">AdvancedStandingAction</a></li>
                                <li><a href="../classes/Agent.html">Agent</a></li>
                                <li><a href="../classes/AggregateOffer.html">AggregateOffer</a></li>
                                <li><a href="../classes/AggregateRating.html">AggregateRating</a></li>
                                <li><a href="../classes/AgreeAction.html">AgreeAction</a></li>
                                <li><a href="../classes/Airline.html">Airline</a></li>
                                <li><a href="../classes/Airport.html">Airport</a></li>
                                <li><a href="../classes/AlignmentObject.html">AlignmentObject</a></li>
                                <li><a href="../classes/AllocateAction.html">AllocateAction</a></li>
                                <li><a href="../classes/AmusementPark.html">AmusementPark</a></li>
                                <li><a href="../classes/AnimalShelter.html">AnimalShelter</a></li>
                                <li><a href="../classes/Answer.html">Answer</a></li>
                                <li><a href="../classes/Apartment.html">Apartment</a></li>
                                <li><a href="../classes/ApartmentComplex.html">ApartmentComplex</a></li>
                                <li><a href="../classes/APIReference.html">APIReference</a></li>
                                <li><a href="../classes/AppendAction.html">AppendAction</a></li>
                                <li><a href="../classes/ApplyAction.html">ApplyAction</a></li>
                                <li><a href="../classes/ApprenticeshipCertificate.html">ApprenticeshipCertificate</a></li>
                                <li><a href="../classes/ApproveAction.html">ApproveAction</a></li>
                                <li><a href="../classes/Aquarium.html">Aquarium</a></li>
                                <li><a href="../classes/ArriveAction.html">ArriveAction</a></li>
                                <li><a href="../classes/ArtGallery.html">ArtGallery</a></li>
                                <li><a href="../classes/Article.html">Article</a></li>
                                <li><a href="../classes/AskAction.html">AskAction</a></li>
                                <li><a href="../classes/ASNImport.html">ASNImport</a></li>
                                <li><a href="../classes/Assertion.html">Assertion</a></li>
                                <li><a href="../classes/AssertionProcessor.html">AssertionProcessor</a></li>
                                <li><a href="../classes/AssessAction.html">AssessAction</a></li>
                                <li><a href="../classes/Assessment.html">Assessment</a></li>
                                <li><a href="../classes/AssessmentProfile.html">AssessmentProfile</a></li>
                                <li><a href="../classes/AssignAction.html">AssignAction</a></li>
                                <li><a href="../classes/AssociateDegree.html">AssociateDegree</a></li>
                                <li><a href="../classes/Attorney.html">Attorney</a></li>
                                <li><a href="../classes/Audience.html">Audience</a></li>
                                <li><a href="../classes/AudioObject.html">AudioObject</a></li>
                                <li><a href="../classes/AuthorizeAction.html">AuthorizeAction</a></li>
                                <li><a href="../classes/AutoBodyShop.html">AutoBodyShop</a></li>
                                <li><a href="../classes/AutoDealer.html">AutoDealer</a></li>
                                <li><a href="../classes/AutomatedTeller.html">AutomatedTeller</a></li>
                                <li><a href="../classes/AutomotiveBusiness.html">AutomotiveBusiness</a></li>
                                <li><a href="../classes/AutoPartsStore.html">AutoPartsStore</a></li>
                                <li><a href="../classes/AutoRental.html">AutoRental</a></li>
                                <li><a href="../classes/AutoRepair.html">AutoRepair</a></li>
                                <li><a href="../classes/AutoWash.html">AutoWash</a></li>
                                <li><a href="../classes/BachelorDegree.html">BachelorDegree</a></li>
                                <li><a href="../classes/Badge.html">Badge</a></li>
                                <li><a href="../classes/Bakery.html">Bakery</a></li>
                                <li><a href="../classes/BankAccount.html">BankAccount</a></li>
                                <li><a href="../classes/BankOrCreditUnion.html">BankOrCreditUnion</a></li>
                                <li><a href="../classes/Barcode.html">Barcode</a></li>
                                <li><a href="../classes/BarOrPub.html">BarOrPub</a></li>
                                <li><a href="../classes/Beach.html">Beach</a></li>
                                <li><a href="../classes/BeautySalon.html">BeautySalon</a></li>
                                <li><a href="../classes/BedAndBreakfast.html">BedAndBreakfast</a></li>
                                <li><a href="../classes/BedDetails.html">BedDetails</a></li>
                                <li><a href="../classes/BefriendAction.html">BefriendAction</a></li>
                                <li><a href="../classes/BikeStore.html">BikeStore</a></li>
                                <li><a href="../classes/Blog.html">Blog</a></li>
                                <li><a href="../classes/BlogPosting.html">BlogPosting</a></li>
                                <li><a href="../classes/BoardingPolicyType.html">BoardingPolicyType</a></li>
                                <li><a href="../classes/BodyOfWater.html">BodyOfWater</a></li>
                                <li><a href="../classes/Book.html">Book</a></li>
                                <li><a href="../classes/BookFormatType.html">BookFormatType</a></li>
                                <li><a href="../classes/BookmarkAction.html">BookmarkAction</a></li>
                                <li><a href="../classes/BookSeries.html">BookSeries</a></li>
                                <li><a href="../classes/BookStore.html">BookStore</a></li>
                                <li><a href="../classes/BorrowAction.html">BorrowAction</a></li>
                                <li><a href="../classes/BowlingAlley.html">BowlingAlley</a></li>
                                <li><a href="../classes/Brand.html">Brand</a></li>
                                <li><a href="../classes/BreadcrumbList.html">BreadcrumbList</a></li>
                                <li><a href="../classes/Brewery.html">Brewery</a></li>
                                <li><a href="../classes/Bridge.html">Bridge</a></li>
                                <li><a href="../classes/BroadcastChannel.html">BroadcastChannel</a></li>
                                <li><a href="../classes/BroadcastEvent.html">BroadcastEvent</a></li>
                                <li><a href="../classes/BroadcastService.html">BroadcastService</a></li>
                                <li><a href="../classes/BuddhistTemple.html">BuddhistTemple</a></li>
                                <li><a href="../classes/BusinessAudience.html">BusinessAudience</a></li>
                                <li><a href="../classes/BusinessEntityType.html">BusinessEntityType</a></li>
                                <li><a href="../classes/BusinessEvent.html">BusinessEvent</a></li>
                                <li><a href="../classes/BusinessFunction.html">BusinessFunction</a></li>
                                <li><a href="../classes/BusReservation.html">BusReservation</a></li>
                                <li><a href="../classes/BusStation.html">BusStation</a></li>
                                <li><a href="../classes/BusStop.html">BusStop</a></li>
                                <li><a href="../classes/BusTrip.html">BusTrip</a></li>
                                <li><a href="../classes/BuyAction.html">BuyAction</a></li>
                                <li><a href="../classes/CableOrSatelliteService.html">CableOrSatelliteService</a></li>
                                <li><a href="../classes/CafeOrCoffeeShop.html">CafeOrCoffeeShop</a></li>
                                <li><a href="../classes/Campground.html">Campground</a></li>
                                <li><a href="../classes/CampingPitch.html">CampingPitch</a></li>
                                <li><a href="../classes/Canal.html">Canal</a></li>
                                <li><a href="../classes/CancelAction.html">CancelAction</a></li>
                                <li><a href="../classes/Car.html">Car</a></li>
                                <li><a href="../classes/CareerPathway.html">CareerPathway</a></li>
                                <li><a href="../classes/Casino.html">Casino</a></li>
                                <li><a href="../classes/Cass.html">Cass</a></li>
                                <li><a href="../classes/CatholicChurch.html">CatholicChurch</a></li>
                                <li><a href="../classes/Cemetery.html">Cemetery</a></li>
                                <li><a href="../classes/Certificate.html">Certificate</a></li>
                                <li><a href="../classes/Certification.html">Certification</a></li>
                                <li><a href="../classes/CheckAction.html">CheckAction</a></li>
                                <li><a href="../classes/CheckInAction.html">CheckInAction</a></li>
                                <li><a href="../classes/CheckOutAction.html">CheckOutAction</a></li>
                                <li><a href="../classes/CheckoutPage.html">CheckoutPage</a></li>
                                <li><a href="../classes/ChildCare.html">ChildCare</a></li>
                                <li><a href="../classes/ChildrensEvent.html">ChildrensEvent</a></li>
                                <li><a href="../classes/ChooseAction.html">ChooseAction</a></li>
                                <li><a href="../classes/Church.html">Church</a></li>
                                <li><a href="../classes/City.html">City</a></li>
                                <li><a href="../classes/CityHall.html">CityHall</a></li>
                                <li><a href="../classes/CivicStructure.html">CivicStructure</a></li>
                                <li><a href="../classes/ClaimReview.html">ClaimReview</a></li>
                                <li><a href="../classes/Clip.html">Clip</a></li>
                                <li><a href="../classes/ClothingStore.html">ClothingStore</a></li>
                                <li><a href="../classes/Code.html">Code</a></li>
                                <li><a href="../classes/Collection.html">Collection</a></li>
                                <li><a href="../classes/CollectionPage.html">CollectionPage</a></li>
                                <li><a href="../classes/CollegeOrUniversity.html">CollegeOrUniversity</a></li>
                                <li><a href="../classes/ComedyClub.html">ComedyClub</a></li>
                                <li><a href="../classes/ComedyEvent.html">ComedyEvent</a></li>
                                <li><a href="../classes/Comment.html">Comment</a></li>
                                <li><a href="../classes/CommentAction.html">CommentAction</a></li>
                                <li><a href="../classes/CommunicateAction.html">CommunicateAction</a></li>
                                <li><a href="../classes/Competency.html">Competency</a></li>
                                <li><a href="../classes/CompetencyFramework.html">CompetencyFramework</a></li>
                                <li><a href="../classes/CompoundPriceSpecification.html">CompoundPriceSpecification</a></li>
                                <li><a href="../classes/ComputerLanguage.html">ComputerLanguage</a></li>
                                <li><a href="../classes/ComputerStore.html">ComputerStore</a></li>
                                <li><a href="../classes/Concept.html">Concept</a></li>
                                <li><a href="../classes/ConceptScheme.html">ConceptScheme</a></li>
                                <li><a href="../classes/ConditionManifest.html">ConditionManifest</a></li>
                                <li><a href="../classes/ConditionProfile.html">ConditionProfile</a></li>
                                <li><a href="../classes/ConfirmAction.html">ConfirmAction</a></li>
                                <li><a href="../classes/ConsumeAction.html">ConsumeAction</a></li>
                                <li><a href="../classes/ContactPage.html">ContactPage</a></li>
                                <li><a href="../classes/ContactPoint.html">ContactPoint</a></li>
                                <li><a href="../classes/ContactPointOption.html">ContactPointOption</a></li>
                                <li><a href="../classes/Continent.html">Continent</a></li>
                                <li><a href="../classes/ControlAction.html">ControlAction</a></li>
                                <li><a href="../classes/ConvenienceStore.html">ConvenienceStore</a></li>
                                <li><a href="../classes/Conversation.html">Conversation</a></li>
                                <li><a href="../classes/CookAction.html">CookAction</a></li>
                                <li><a href="../classes/Corporation.html">Corporation</a></li>
                                <li><a href="../classes/CostManifest.html">CostManifest</a></li>
                                <li><a href="../classes/CostProfile.html">CostProfile</a></li>
                                <li><a href="../classes/Country.html">Country</a></li>
                                <li><a href="../classes/Course.html">Course</a></li>
                                <li><a href="../classes/CourseInstance.html">CourseInstance</a></li>
                                <li><a href="../classes/Courthouse.html">Courthouse</a></li>
                                <li><a href="../classes/CreateAction.html">CreateAction</a></li>
                                <li><a href="../classes/CreativeWork.html">CreativeWork</a></li>
                                <li><a href="../classes/CreativeWorkSeason.html">CreativeWorkSeason</a></li>
                                <li><a href="../classes/CreativeWorkSeries.html">CreativeWorkSeries</a></li>
                                <li><a href="../classes/Credential.html">Credential</a></li>
                                <li><a href="../classes/CredentialAlignmentObject.html">CredentialAlignmentObject</a></li>
                                <li><a href="../classes/CredentialAssertion.html">CredentialAssertion</a></li>
                                <li><a href="../classes/CredentialFramework.html">CredentialFramework</a></li>
                                <li><a href="../classes/CredentialingAction.html">CredentialingAction</a></li>
                                <li><a href="../classes/CredentialOrganization.html">CredentialOrganization</a></li>
                                <li><a href="../classes/CredentialPerson.html">CredentialPerson</a></li>
                                <li><a href="../classes/CreditCard.html">CreditCard</a></li>
                                <li><a href="../classes/Crematorium.html">Crematorium</a></li>
                                <li><a href="../classes/CSVExport.html">CSVExport</a></li>
                                <li><a href="../classes/CSVImport.html">CSVImport</a></li>
                                <li><a href="../classes/CurrencyConversionService.html">CurrencyConversionService</a></li>
                                <li><a href="../classes/DanceEvent.html">DanceEvent</a></li>
                                <li><a href="../classes/DanceGroup.html">DanceGroup</a></li>
                                <li><a href="../classes/DataCatalog.html">DataCatalog</a></li>
                                <li><a href="../classes/DataDownload.html">DataDownload</a></li>
                                <li><a href="../classes/DataFeed.html">DataFeed</a></li>
                                <li><a href="../classes/DataFeedItem.html">DataFeedItem</a></li>
                                <li><a href="../classes/Dataset.html">Dataset</a></li>
                                <li><a href="../classes/DatedMoneySpecification.html">DatedMoneySpecification</a></li>
                                <li><a href="../classes/DayOfWeek.html">DayOfWeek</a></li>
                                <li><a href="../classes/DaySpa.html">DaySpa</a></li>
                                <li><a href="../classes/DeactivateAction.html">DeactivateAction</a></li>
                                <li><a href="../classes/DefenceEstablishment.html">DefenceEstablishment</a></li>
                                <li><a href="../classes/Degree.html">Degree</a></li>
                                <li><a href="../classes/DeleteAction.html">DeleteAction</a></li>
                                <li><a href="../classes/DeliveryChargeSpecification.html">DeliveryChargeSpecification</a></li>
                                <li><a href="../classes/DeliveryEvent.html">DeliveryEvent</a></li>
                                <li><a href="../classes/DeliveryMethod.html">DeliveryMethod</a></li>
                                <li><a href="../classes/Demand.html">Demand</a></li>
                                <li><a href="../classes/Dentist.html">Dentist</a></li>
                                <li><a href="../classes/DepartAction.html">DepartAction</a></li>
                                <li><a href="../classes/DepartmentStore.html">DepartmentStore</a></li>
                                <li><a href="../classes/DepositAccount.html">DepositAccount</a></li>
                                <li><a href="../classes/DigitalBadge.html">DigitalBadge</a></li>
                                <li><a href="../classes/DigitalDocument.html">DigitalDocument</a></li>
                                <li><a href="../classes/DigitalDocumentPermission.html">DigitalDocumentPermission</a></li>
                                <li><a href="../classes/DigitalDocumentPermissionType.html">DigitalDocumentPermissionType</a></li>
                                <li><a href="../classes/Diploma.html">Diploma</a></li>
                                <li><a href="../classes/DisagreeAction.html">DisagreeAction</a></li>
                                <li><a href="../classes/DiscoverAction.html">DiscoverAction</a></li>
                                <li><a href="../classes/DiscussionForumPosting.html">DiscussionForumPosting</a></li>
                                <li><a href="../classes/DislikeAction.html">DislikeAction</a></li>
                                <li><a href="../classes/Distance.html">Distance</a></li>
                                <li><a href="../classes/DoctoralDegree.html">DoctoralDegree</a></li>
                                <li><a href="../classes/DonateAction.html">DonateAction</a></li>
                                <li><a href="../classes/DownloadAction.html">DownloadAction</a></li>
                                <li><a href="../classes/DrawAction.html">DrawAction</a></li>
                                <li><a href="../classes/DrinkAction.html">DrinkAction</a></li>
                                <li><a href="../classes/DriveWheelConfigurationValue.html">DriveWheelConfigurationValue</a></li>
                                <li><a href="../classes/DryCleaningOrLaundry.html">DryCleaningOrLaundry</a></li>
                                <li><a href="../classes/Duration.html">Duration</a></li>
                                <li><a href="../classes/DurationProfile.html">DurationProfile</a></li>
                                <li><a href="../classes/EarningsProfile.html">EarningsProfile</a></li>
                                <li><a href="../classes/EatAction.html">EatAction</a></li>
                                <li><a href="../classes/Ebac.html">Ebac</a></li>
                                <li><a href="../classes/EbacContact.html">EbacContact</a></li>
                                <li><a href="../classes/EbacContactGrant.html">EbacContactGrant</a></li>
                                <li><a href="../classes/EbacCredential.html">EbacCredential</a></li>
                                <li><a href="../classes/EbacCredentialCommit.html">EbacCredentialCommit</a></li>
                                <li><a href="../classes/EbacCredentialRequest.html">EbacCredentialRequest</a></li>
                                <li><a href="../classes/EbacCredentials.html">EbacCredentials</a></li>
                                <li><a href="../classes/EbacEncryptedSecret.html">EbacEncryptedSecret</a></li>
                                <li><a href="../classes/EbacEncryptedValue.html">EbacEncryptedValue</a></li>
                                <li><a href="../classes/EbacSignature.html">EbacSignature</a></li>
                                <li><a href="../classes/EcAes.html">EcAes</a></li>
                                <li><a href="../classes/EcAesCtr.html">EcAesCtr</a></li>
                                <li><a href="../classes/EcAesCtrAsync.html">EcAesCtrAsync</a></li>
                                <li><a href="../classes/EcAlignment.html">EcAlignment</a></li>
                                <li><a href="../classes/EcArray.html">EcArray</a></li>
                                <li><a href="../classes/EcAsyncHelper.html">EcAsyncHelper</a></li>
                                <li><a href="../classes/EcCompetency.html">EcCompetency</a></li>
                                <li><a href="../classes/EcContact.html">EcContact</a></li>
                                <li><a href="../classes/EcDirectedGraph.html">EcDirectedGraph</a></li>
                                <li><a href="../classes/EcEncryptedValue.html">EcEncryptedValue</a></li>
                                <li><a href="../classes/EcFile.html">EcFile</a></li>
                                <li><a href="../classes/EcFramework.html">EcFramework</a></li>
                                <li><a href="../classes/EcIdentity.html">EcIdentity</a></li>
                                <li><a href="../classes/EcIdentityManager.html">EcIdentityManager</a></li>
                                <li><a href="../classes/EcLevel.html">EcLevel</a></li>
                                <li><a href="../classes/EcLinkedData.html">EcLinkedData</a></li>
                                <li><a href="../classes/EcModal.html">EcModal</a></li>
                                <li><a href="../classes/EcObject.html">EcObject</a></li>
                                <li><a href="../classes/EcOverlay.html">EcOverlay</a></li>
                                <li><a href="../classes/EcPk.html">EcPk</a></li>
                                <li><a href="../classes/EcPpk.html">EcPpk</a></li>
                                <li><a href="../classes/EcRemote.html">EcRemote</a></li>
                                <li><a href="../classes/EcRemoteIdentityManager.html">EcRemoteIdentityManager</a></li>
                                <li><a href="../classes/EcRemoteLinkedData.html">EcRemoteLinkedData</a></li>
                                <li><a href="../classes/EcRepository.html">EcRepository</a></li>
                                <li><a href="../classes/EcRollupRule.html">EcRollupRule</a></li>
                                <li><a href="../classes/EcRsaOaep.html">EcRsaOaep</a></li>
                                <li><a href="../classes/EcRsaOaepAsync.html">EcRsaOaepAsync</a></li>
                                <li><a href="../classes/EcScreen.html">EcScreen</a></li>
                                <li><a href="../classes/EcView.html">EcView</a></li>
                                <li><a href="../classes/EducationalAudience.html">EducationalAudience</a></li>
                                <li><a href="../classes/EducationalOrganization.html">EducationalOrganization</a></li>
                                <li><a href="../classes/EducationEvent.html">EducationEvent</a></li>
                                <li><a href="../classes/Electrician.html">Electrician</a></li>
                                <li><a href="../classes/ElectronicsStore.html">ElectronicsStore</a></li>
                                <li><a href="../classes/ElementarySchool.html">ElementarySchool</a></li>
                                <li><a href="../classes/EmailMessage.html">EmailMessage</a></li>
                                <li><a href="../classes/Embassy.html">Embassy</a></li>
                                <li><a href="../classes/EmergencyService.html">EmergencyService</a></li>
                                <li><a href="../classes/EmployeeRole.html">EmployeeRole</a></li>
                                <li><a href="../classes/EmploymentAgency.html">EmploymentAgency</a></li>
                                <li><a href="../classes/EmploymentOutcomeProfile.html">EmploymentOutcomeProfile</a></li>
                                <li><a href="../classes/EndorseAction.html">EndorseAction</a></li>
                                <li><a href="../classes/Energy.html">Energy</a></li>
                                <li><a href="../classes/EngineSpecification.html">EngineSpecification</a></li>
                                <li><a href="../classes/EntertainmentBusiness.html">EntertainmentBusiness</a></li>
                                <li><a href="../classes/EntryPoint.html">EntryPoint</a></li>
                                <li><a href="../classes/Enumeration.html">Enumeration</a></li>
                                <li><a href="../classes/Episode.html">Episode</a></li>
                                <li><a href="../classes/Event.html">Event</a></li>
                                <li><a href="../classes/EventReservation.html">EventReservation</a></li>
                                <li><a href="../classes/EventStatusType.html">EventStatusType</a></li>
                                <li><a href="../classes/EventVenue.html">EventVenue</a></li>
                                <li><a href="../classes/ExerciseAction.html">ExerciseAction</a></li>
                                <li><a href="../classes/ExerciseGym.html">ExerciseGym</a></li>
                                <li><a href="../classes/ExhibitionEvent.html">ExhibitionEvent</a></li>
                                <li><a href="../classes/Exporter.html">Exporter</a></li>
                                <li><a href="../classes/FastFoodRestaurant.html">FastFoodRestaurant</a></li>
                                <li><a href="../classes/Festival.html">Festival</a></li>
                                <li><a href="../classes/FilmAction.html">FilmAction</a></li>
                                <li><a href="../classes/FinancialAlignmentObject.html">FinancialAlignmentObject</a></li>
                                <li><a href="../classes/FinancialProduct.html">FinancialProduct</a></li>
                                <li><a href="../classes/FinancialService.html">FinancialService</a></li>
                                <li><a href="../classes/FindAction.html">FindAction</a></li>
                                <li><a href="../classes/FireStation.html">FireStation</a></li>
                                <li><a href="../classes/Flight.html">Flight</a></li>
                                <li><a href="../classes/FlightReservation.html">FlightReservation</a></li>
                                <li><a href="../classes/Florist.html">Florist</a></li>
                                <li><a href="../classes/FollowAction.html">FollowAction</a></li>
                                <li><a href="../classes/FoodEstablishment.html">FoodEstablishment</a></li>
                                <li><a href="../classes/FoodEstablishmentReservation.html">FoodEstablishmentReservation</a></li>
                                <li><a href="../classes/FoodEvent.html">FoodEvent</a></li>
                                <li><a href="../classes/FoodService.html">FoodService</a></li>
                                <li><a href="../classes/Framework.html">Framework</a></li>
                                <li><a href="../classes/FrameworkImport.html">FrameworkImport</a></li>
                                <li><a href="../classes/FurnitureStore.html">FurnitureStore</a></li>
                                <li><a href="../classes/Game.html">Game</a></li>
                                <li><a href="../classes/GamePlayMode.html">GamePlayMode</a></li>
                                <li><a href="../classes/GameServer.html">GameServer</a></li>
                                <li><a href="../classes/GameServerStatus.html">GameServerStatus</a></li>
                                <li><a href="../classes/GardenStore.html">GardenStore</a></li>
                                <li><a href="../classes/GasStation.html">GasStation</a></li>
                                <li><a href="../classes/GatedResidenceCommunity.html">GatedResidenceCommunity</a></li>
                                <li><a href="../classes/GenderType.html">GenderType</a></li>
                                <li><a href="../classes/General.html">General</a></li>
                                <li><a href="../classes/GeneralContractor.html">GeneralContractor</a></li>
                                <li><a href="../classes/GeneralEducationDevelopment.html">GeneralEducationDevelopment</a></li>
                                <li><a href="../classes/GeneralFile.html">GeneralFile</a></li>
                                <li><a href="../classes/GeoCircle.html">GeoCircle</a></li>
                                <li><a href="../classes/GeoCoordinates.html">GeoCoordinates</a></li>
                                <li><a href="../classes/GeoShape.html">GeoShape</a></li>
                                <li><a href="../classes/GiveAction.html">GiveAction</a></li>
                                <li><a href="../classes/GolfCourse.html">GolfCourse</a></li>
                                <li><a href="../classes/GovernmentBuilding.html">GovernmentBuilding</a></li>
                                <li><a href="../classes/GovernmentOffice.html">GovernmentOffice</a></li>
                                <li><a href="../classes/GovernmentOrganization.html">GovernmentOrganization</a></li>
                                <li><a href="../classes/GovernmentPermit.html">GovernmentPermit</a></li>
                                <li><a href="../classes/GovernmentService.html">GovernmentService</a></li>
                                <li><a href="../classes/Graph.html">Graph</a></li>
                                <li><a href="../classes/GroceryStore.html">GroceryStore</a></li>
                                <li><a href="../classes/HairSalon.html">HairSalon</a></li>
                                <li><a href="../classes/HardwareStore.html">HardwareStore</a></li>
                                <li><a href="../classes/HealthAndBeautyBusiness.html">HealthAndBeautyBusiness</a></li>
                                <li><a href="../classes/HealthClub.html">HealthClub</a></li>
                                <li><a href="../classes/HighSchool.html">HighSchool</a></li>
                                <li><a href="../classes/HinduTemple.html">HinduTemple</a></li>
                                <li><a href="../classes/HistoryClosure.html">HistoryClosure</a></li>
                                <li><a href="../classes/HobbyShop.html">HobbyShop</a></li>
                                <li><a href="../classes/HoldersProfile.html">HoldersProfile</a></li>
                                <li><a href="../classes/HomeAndConstructionBusiness.html">HomeAndConstructionBusiness</a></li>
                                <li><a href="../classes/HomeGoodsStore.html">HomeGoodsStore</a></li>
                                <li><a href="../classes/Hospital.html">Hospital</a></li>
                                <li><a href="../classes/Hostel.html">Hostel</a></li>
                                <li><a href="../classes/Hotel.html">Hotel</a></li>
                                <li><a href="../classes/HotelRoom.html">HotelRoom</a></li>
                                <li><a href="../classes/House.html">House</a></li>
                                <li><a href="../classes/HousePainter.html">HousePainter</a></li>
                                <li><a href="../classes/HVACBusiness.html">HVACBusiness</a></li>
                                <li><a href="../classes/Hypergraph.html">Hypergraph</a></li>
                                <li><a href="../classes/IceCreamShop.html">IceCreamShop</a></li>
                                <li><a href="../classes/IdentifierValue.html">IdentifierValue</a></li>
                                <li><a href="../classes/IdentifierValueSet.html">IdentifierValueSet</a></li>
                                <li><a href="../classes/IgnoreAction.html">IgnoreAction</a></li>
                                <li><a href="../classes/ImageGallery.html">ImageGallery</a></li>
                                <li><a href="../classes/ImageObject.html">ImageObject</a></li>
                                <li><a href="../classes/Importer.html">Importer</a></li>
                                <li><a href="../classes/IndividualProduct.html">IndividualProduct</a></li>
                                <li><a href="../classes/IndustryClassification.html">IndustryClassification</a></li>
                                <li><a href="../classes/InformAction.html">InformAction</a></li>
                                <li><a href="../classes/InquiryPacket.html">InquiryPacket</a></li>
                                <li><a href="../classes/InsertAction.html">InsertAction</a></li>
                                <li><a href="../classes/InstallAction.html">InstallAction</a></li>
                                <li><a href="../classes/InstructionalProgramClassification.html">InstructionalProgramClassification</a></li>
                                <li><a href="../classes/InsuranceAgency.html">InsuranceAgency</a></li>
                                <li><a href="../classes/Intangible.html">Intangible</a></li>
                                <li><a href="../classes/InteractAction.html">InteractAction</a></li>
                                <li><a href="../classes/InteractionCounter.html">InteractionCounter</a></li>
                                <li><a href="../classes/InternetCafe.html">InternetCafe</a></li>
                                <li><a href="../classes/InvestmentOrDeposit.html">InvestmentOrDeposit</a></li>
                                <li><a href="../classes/InviteAction.html">InviteAction</a></li>
                                <li><a href="../classes/Invoice.html">Invoice</a></li>
                                <li><a href="../classes/ItemAvailability.html">ItemAvailability</a></li>
                                <li><a href="../classes/ItemList.html">ItemList</a></li>
                                <li><a href="../classes/ItemListOrderType.html">ItemListOrderType</a></li>
                                <li><a href="../classes/ItemPage.html">ItemPage</a></li>
                                <li><a href="../classes/JewelryStore.html">JewelryStore</a></li>
                                <li><a href="../classes/JobPosting.html">JobPosting</a></li>
                                <li><a href="../classes/JoinAction.html">JoinAction</a></li>
                                <li><a href="../classes/JourneymanCertificate.html">JourneymanCertificate</a></li>
                                <li><a href="../classes/JurisdictionProfile.html">JurisdictionProfile</a></li>
                                <li><a href="../classes/LakeBodyOfWater.html">LakeBodyOfWater</a></li>
                                <li><a href="../classes/Landform.html">Landform</a></li>
                                <li><a href="../classes/LandmarksOrHistoricalBuildings.html">LandmarksOrHistoricalBuildings</a></li>
                                <li><a href="../classes/Language.html">Language</a></li>
                                <li><a href="../classes/LearningOpportunity.html">LearningOpportunity</a></li>
                                <li><a href="../classes/LearningOpportunityProfile.html">LearningOpportunityProfile</a></li>
                                <li><a href="../classes/LearningResource.html">LearningResource</a></li>
                                <li><a href="../classes/LeaveAction.html">LeaveAction</a></li>
                                <li><a href="../classes/LegalService.html">LegalService</a></li>
                                <li><a href="../classes/LegislativeBuilding.html">LegislativeBuilding</a></li>
                                <li><a href="../classes/LendAction.html">LendAction</a></li>
                                <li><a href="../classes/Level.html">Level</a></li>
                                <li><a href="../classes/Library.html">Library</a></li>
                                <li><a href="../classes/License.html">License</a></li>
                                <li><a href="../classes/LikeAction.html">LikeAction</a></li>
                                <li><a href="../classes/LiquorStore.html">LiquorStore</a></li>
                                <li><a href="../classes/ListenAction.html">ListenAction</a></li>
                                <li><a href="../classes/ListItem.html">ListItem</a></li>
                                <li><a href="../classes/LiteraryEvent.html">LiteraryEvent</a></li>
                                <li><a href="../classes/LiveBlogPosting.html">LiveBlogPosting</a></li>
                                <li><a href="../classes/LoanOrCredit.html">LoanOrCredit</a></li>
                                <li><a href="../classes/LocalBusiness.html">LocalBusiness</a></li>
                                <li><a href="../classes/LocationFeatureSpecification.html">LocationFeatureSpecification</a></li>
                                <li><a href="../classes/LockerDelivery.html">LockerDelivery</a></li>
                                <li><a href="../classes/Locksmith.html">Locksmith</a></li>
                                <li><a href="../classes/LodgingBusiness.html">LodgingBusiness</a></li>
                                <li><a href="../classes/LodgingReservation.html">LodgingReservation</a></li>
                                <li><a href="../classes/LoseAction.html">LoseAction</a></li>
                                <li><a href="../classes/Map.html">Map</a></li>
                                <li><a href="../classes/MapCategoryType.html">MapCategoryType</a></li>
                                <li><a href="../classes/MarryAction.html">MarryAction</a></li>
                                <li><a href="../classes/Mass.html">Mass</a></li>
                                <li><a href="../classes/MasterCertificate.html">MasterCertificate</a></li>
                                <li><a href="../classes/MasterDegree.html">MasterDegree</a></li>
                                <li><a href="../classes/MedbiqImport.html">MedbiqImport</a></li>
                                <li><a href="../classes/MediaObject.html">MediaObject</a></li>
                                <li><a href="../classes/MedicalOrganization.html">MedicalOrganization</a></li>
                                <li><a href="../classes/MeetingRoom.html">MeetingRoom</a></li>
                                <li><a href="../classes/MensClothingStore.html">MensClothingStore</a></li>
                                <li><a href="../classes/Menu.html">Menu</a></li>
                                <li><a href="../classes/MenuItem.html">MenuItem</a></li>
                                <li><a href="../classes/MenuSection.html">MenuSection</a></li>
                                <li><a href="../classes/Message.html">Message</a></li>
                                <li><a href="../classes/MicroCredential.html">MicroCredential</a></li>
                                <li><a href="../classes/MiddleSchool.html">MiddleSchool</a></li>
                                <li><a href="../classes/MobileApplication.html">MobileApplication</a></li>
                                <li><a href="../classes/MobilePhoneStore.html">MobilePhoneStore</a></li>
                                <li><a href="../classes/ModalManager.html">ModalManager</a></li>
                                <li><a href="../classes/MonetaryAmount.html">MonetaryAmount</a></li>
                                <li><a href="../classes/MoodleConfig.html">MoodleConfig</a></li>
                                <li><a href="../classes/Mosque.html">Mosque</a></li>
                                <li><a href="../classes/Motel.html">Motel</a></li>
                                <li><a href="../classes/MotorcycleDealer.html">MotorcycleDealer</a></li>
                                <li><a href="../classes/MotorcycleRepair.html">MotorcycleRepair</a></li>
                                <li><a href="../classes/Mountain.html">Mountain</a></li>
                                <li><a href="../classes/MoveAction.html">MoveAction</a></li>
                                <li><a href="../classes/Movie.html">Movie</a></li>
                                <li><a href="../classes/MovieClip.html">MovieClip</a></li>
                                <li><a href="../classes/MovieRentalStore.html">MovieRentalStore</a></li>
                                <li><a href="../classes/MovieSeries.html">MovieSeries</a></li>
                                <li><a href="../classes/MovieTheater.html">MovieTheater</a></li>
                                <li><a href="../classes/MovingCompany.html">MovingCompany</a></li>
                                <li><a href="../classes/Museum.html">Museum</a></li>
                                <li><a href="../classes/MusicAlbum.html">MusicAlbum</a></li>
                                <li><a href="../classes/MusicAlbumProductionType.html">MusicAlbumProductionType</a></li>
                                <li><a href="../classes/MusicAlbumReleaseType.html">MusicAlbumReleaseType</a></li>
                                <li><a href="../classes/MusicComposition.html">MusicComposition</a></li>
                                <li><a href="../classes/MusicEvent.html">MusicEvent</a></li>
                                <li><a href="../classes/MusicGroup.html">MusicGroup</a></li>
                                <li><a href="../classes/MusicPlaylist.html">MusicPlaylist</a></li>
                                <li><a href="../classes/MusicRecording.html">MusicRecording</a></li>
                                <li><a href="../classes/MusicRelease.html">MusicRelease</a></li>
                                <li><a href="../classes/MusicReleaseFormatType.html">MusicReleaseFormatType</a></li>
                                <li><a href="../classes/MusicStore.html">MusicStore</a></li>
                                <li><a href="../classes/MusicVenue.html">MusicVenue</a></li>
                                <li><a href="../classes/MusicVideoObject.html">MusicVideoObject</a></li>
                                <li><a href="../classes/NailSalon.html">NailSalon</a></li>
                                <li><a href="../classes/NewsArticle.html">NewsArticle</a></li>
                                <li><a href="../classes/NGO.html">NGO</a></li>
                                <li><a href="../classes/NightClub.html">NightClub</a></li>
                                <li><a href="../classes/Notary.html">Notary</a></li>
                                <li><a href="../classes/NoteDigitalDocument.html">NoteDigitalDocument</a></li>
                                <li><a href="../classes/NutritionInformation.html">NutritionInformation</a></li>
                                <li><a href="../classes/OccupationClassification.html">OccupationClassification</a></li>
                                <li><a href="../classes/OceanBodyOfWater.html">OceanBodyOfWater</a></li>
                                <li><a href="../classes/Offer.html">Offer</a></li>
                                <li><a href="../classes/OfferAction.html">OfferAction</a></li>
                                <li><a href="../classes/OfferCatalog.html">OfferCatalog</a></li>
                                <li><a href="../classes/OfferItemCondition.html">OfferItemCondition</a></li>
                                <li><a href="../classes/OfficeEquipmentStore.html">OfficeEquipmentStore</a></li>
                                <li><a href="../classes/OnDemandEvent.html">OnDemandEvent</a></li>
                                <li><a href="../classes/OpenBadge.html">OpenBadge</a></li>
                                <li><a href="../classes/OpeningHoursSpecification.html">OpeningHoursSpecification</a></li>
                                <li><a href="../classes/Order.html">Order</a></li>
                                <li><a href="../classes/OrderAction.html">OrderAction</a></li>
                                <li><a href="../classes/OrderedCollection.html">OrderedCollection</a></li>
                                <li><a href="../classes/OrderItem.html">OrderItem</a></li>
                                <li><a href="../classes/OrderStatus.html">OrderStatus</a></li>
                                <li><a href="../classes/Organization.html">Organization</a></li>
                                <li><a href="../classes/OrganizationRole.html">OrganizationRole</a></li>
                                <li><a href="../classes/OrganizeAction.html">OrganizeAction</a></li>
                                <li><a href="../classes/OutletStore.html">OutletStore</a></li>
                                <li><a href="../classes/OverlayManager.html">OverlayManager</a></li>
                                <li><a href="../classes/OwnershipInfo.html">OwnershipInfo</a></li>
                                <li><a href="../classes/PaintAction.html">PaintAction</a></li>
                                <li><a href="../classes/Painting.html">Painting</a></li>
                                <li><a href="../classes/ParcelDelivery.html">ParcelDelivery</a></li>
                                <li><a href="../classes/ParcelService.html">ParcelService</a></li>
                                <li><a href="../classes/ParentAudience.html">ParentAudience</a></li>
                                <li><a href="../classes/Park.html">Park</a></li>
                                <li><a href="../classes/ParkingFacility.html">ParkingFacility</a></li>
                                <li><a href="../classes/PawnShop.html">PawnShop</a></li>
                                <li><a href="../classes/PayAction.html">PayAction</a></li>
                                <li><a href="../classes/PaymentCard.html">PaymentCard</a></li>
                                <li><a href="../classes/PaymentChargeSpecification.html">PaymentChargeSpecification</a></li>
                                <li><a href="../classes/PaymentMethod.html">PaymentMethod</a></li>
                                <li><a href="../classes/PaymentService.html">PaymentService</a></li>
                                <li><a href="../classes/PaymentStatusType.html">PaymentStatusType</a></li>
                                <li><a href="../classes/PeopleAudience.html">PeopleAudience</a></li>
                                <li><a href="../classes/PerformAction.html">PerformAction</a></li>
                                <li><a href="../classes/PerformanceRole.html">PerformanceRole</a></li>
                                <li><a href="../classes/PerformingArtsTheater.html">PerformingArtsTheater</a></li>
                                <li><a href="../classes/PerformingGroup.html">PerformingGroup</a></li>
                                <li><a href="../classes/Periodical.html">Periodical</a></li>
                                <li><a href="../classes/Permit.html">Permit</a></li>
                                <li><a href="../classes/Person.html">Person</a></li>
                                <li><a href="../classes/PetStore.html">PetStore</a></li>
                                <li><a href="../classes/Pharmacy.html">Pharmacy</a></li>
                                <li><a href="../classes/Photograph.html">Photograph</a></li>
                                <li><a href="../classes/PhotographAction.html">PhotographAction</a></li>
                                <li><a href="../classes/Physician.html">Physician</a></li>
                                <li><a href="../classes/Place.html">Place</a></li>
                                <li><a href="../classes/PlaceOfWorship.html">PlaceOfWorship</a></li>
                                <li><a href="../classes/PlanAction.html">PlanAction</a></li>
                                <li><a href="../classes/PlayAction.html">PlayAction</a></li>
                                <li><a href="../classes/Playground.html">Playground</a></li>
                                <li><a href="../classes/Plumber.html">Plumber</a></li>
                                <li><a href="../classes/PoliceStation.html">PoliceStation</a></li>
                                <li><a href="../classes/Pond.html">Pond</a></li>
                                <li><a href="../classes/PostalAddress.html">PostalAddress</a></li>
                                <li><a href="../classes/PostOffice.html">PostOffice</a></li>
                                <li><a href="../classes/PrependAction.html">PrependAction</a></li>
                                <li><a href="../classes/Preschool.html">Preschool</a></li>
                                <li><a href="../classes/PresentationDigitalDocument.html">PresentationDigitalDocument</a></li>
                                <li><a href="../classes/PriceSpecification.html">PriceSpecification</a></li>
                                <li><a href="../classes/ProcessProfile.html">ProcessProfile</a></li>
                                <li><a href="../classes/Product.html">Product</a></li>
                                <li><a href="../classes/ProductModel.html">ProductModel</a></li>
                                <li><a href="../classes/ProfessionalDoctorate.html">ProfessionalDoctorate</a></li>
                                <li><a href="../classes/ProfessionalService.html">ProfessionalService</a></li>
                                <li><a href="../classes/ProficiencyScale.html">ProficiencyScale</a></li>
                                <li><a href="../classes/ProfilePage.html">ProfilePage</a></li>
                                <li><a href="../classes/ProgramMembership.html">ProgramMembership</a></li>
                                <li><a href="../classes/PropertyValue.html">PropertyValue</a></li>
                                <li><a href="../classes/PropertyValueSpecification.html">PropertyValueSpecification</a></li>
                                <li><a href="../classes/PublicationEvent.html">PublicationEvent</a></li>
                                <li><a href="../classes/PublicationIssue.html">PublicationIssue</a></li>
                                <li><a href="../classes/PublicationVolume.html">PublicationVolume</a></li>
                                <li><a href="../classes/PublicSwimmingPool.html">PublicSwimmingPool</a></li>
                                <li><a href="../classes/QACredentialOrganization.html">QACredentialOrganization</a></li>
                                <li><a href="../classes/QAPage.html">QAPage</a></li>
                                <li><a href="../classes/QualitativeValue.html">QualitativeValue</a></li>
                                <li><a href="../classes/QualityAssuranceCredential.html">QualityAssuranceCredential</a></li>
                                <li><a href="../classes/QuantitativeValue.html">QuantitativeValue</a></li>
                                <li><a href="../classes/Quantity.html">Quantity</a></li>
                                <li><a href="../classes/Question.html">Question</a></li>
                                <li><a href="../classes/QuoteAction.html">QuoteAction</a></li>
                                <li><a href="../classes/RadioChannel.html">RadioChannel</a></li>
                                <li><a href="../classes/RadioClip.html">RadioClip</a></li>
                                <li><a href="../classes/RadioEpisode.html">RadioEpisode</a></li>
                                <li><a href="../classes/RadioSeason.html">RadioSeason</a></li>
                                <li><a href="../classes/RadioSeries.html">RadioSeries</a></li>
                                <li><a href="../classes/RadioStation.html">RadioStation</a></li>
                                <li><a href="../classes/Rating.html">Rating</a></li>
                                <li><a href="../classes/ReactAction.html">ReactAction</a></li>
                                <li><a href="../classes/ReadAction.html">ReadAction</a></li>
                                <li><a href="../classes/RealEstateAgent.html">RealEstateAgent</a></li>
                                <li><a href="../classes/ReceiveAction.html">ReceiveAction</a></li>
                                <li><a href="../classes/Recipe.html">Recipe</a></li>
                                <li><a href="../classes/RecognizeAction.html">RecognizeAction</a></li>
                                <li><a href="../classes/RecyclingCenter.html">RecyclingCenter</a></li>
                                <li><a href="../classes/RegisterAction.html">RegisterAction</a></li>
                                <li><a href="../classes/RegulateAction.html">RegulateAction</a></li>
                                <li><a href="../classes/RejectAction.html">RejectAction</a></li>
                                <li><a href="../classes/Relation.html">Relation</a></li>
                                <li><a href="../classes/RelationshipPacketGenerator.html">RelationshipPacketGenerator</a></li>
                                <li><a href="../classes/RenewAction.html">RenewAction</a></li>
                                <li><a href="../classes/RentAction.html">RentAction</a></li>
                                <li><a href="../classes/RentalCarReservation.html">RentalCarReservation</a></li>
                                <li><a href="../classes/ReplaceAction.html">ReplaceAction</a></li>
                                <li><a href="../classes/ReplyAction.html">ReplyAction</a></li>
                                <li><a href="../classes/Report.html">Report</a></li>
                                <li><a href="../classes/ResearchDoctorate.html">ResearchDoctorate</a></li>
                                <li><a href="../classes/Reservation.html">Reservation</a></li>
                                <li><a href="../classes/ReservationPackage.html">ReservationPackage</a></li>
                                <li><a href="../classes/ReservationStatusType.html">ReservationStatusType</a></li>
                                <li><a href="../classes/ReserveAction.html">ReserveAction</a></li>
                                <li><a href="../classes/Reservoir.html">Reservoir</a></li>
                                <li><a href="../classes/Residence.html">Residence</a></li>
                                <li><a href="../classes/Resort.html">Resort</a></li>
                                <li><a href="../classes/Restaurant.html">Restaurant</a></li>
                                <li><a href="../classes/RestrictedDiet.html">RestrictedDiet</a></li>
                                <li><a href="../classes/ResumeAction.html">ResumeAction</a></li>
                                <li><a href="../classes/ReturnAction.html">ReturnAction</a></li>
                                <li><a href="../classes/Review.html">Review</a></li>
                                <li><a href="../classes/ReviewAction.html">ReviewAction</a></li>
                                <li><a href="../classes/RevocationProfile.html">RevocationProfile</a></li>
                                <li><a href="../classes/RevokeAction.html">RevokeAction</a></li>
                                <li><a href="../classes/RightsAction.html">RightsAction</a></li>
                                <li><a href="../classes/RiverBodyOfWater.html">RiverBodyOfWater</a></li>
                                <li><a href="../classes/Role.html">Role</a></li>
                                <li><a href="../classes/RollupRule.html">RollupRule</a></li>
                                <li><a href="../classes/RoofingContractor.html">RoofingContractor</a></li>
                                <li><a href="../classes/Room.html">Room</a></li>
                                <li><a href="../classes/RsvpAction.html">RsvpAction</a></li>
                                <li><a href="../classes/RsvpResponseType.html">RsvpResponseType</a></li>
                                <li><a href="../classes/RVPark.html">RVPark</a></li>
                                <li><a href="../classes/SaleEvent.html">SaleEvent</a></li>
                                <li><a href="../classes/ScheduleAction.html">ScheduleAction</a></li>
                                <li><a href="../classes/ScholarlyArticle.html">ScholarlyArticle</a></li>
                                <li><a href="../classes/School.html">School</a></li>
                                <li><a href="../classes/ScreeningEvent.html">ScreeningEvent</a></li>
                                <li><a href="../classes/Screenmanager.html">Screenmanager</a></li>
                                <li><a href="../classes/Sculpture.html">Sculpture</a></li>
                                <li><a href="../classes/SeaBodyOfWater.html">SeaBodyOfWater</a></li>
                                <li><a href="../classes/SearchAction.html">SearchAction</a></li>
                                <li><a href="../classes/SearchResultsPage.html">SearchResultsPage</a></li>
                                <li><a href="../classes/Season.html">Season</a></li>
                                <li><a href="../classes/Seat.html">Seat</a></li>
                                <li><a href="../classes/SecondarySchoolDiploma.html">SecondarySchoolDiploma</a></li>
                                <li><a href="../classes/SelfStorage.html">SelfStorage</a></li>
                                <li><a href="../classes/SellAction.html">SellAction</a></li>
                                <li><a href="../classes/SendAction.html">SendAction</a></li>
                                <li><a href="../classes/Series.html">Series</a></li>
                                <li><a href="../classes/Service.html">Service</a></li>
                                <li><a href="../classes/ServiceChannel.html">ServiceChannel</a></li>
                                <li><a href="../classes/ShareAction.html">ShareAction</a></li>
                                <li><a href="../classes/ShoeStore.html">ShoeStore</a></li>
                                <li><a href="../classes/ShoppingCenter.html">ShoppingCenter</a></li>
                                <li><a href="../classes/SingleFamilyResidence.html">SingleFamilyResidence</a></li>
                                <li><a href="../classes/SiteNavigationElement.html">SiteNavigationElement</a></li>
                                <li><a href="../classes/SkiResort.html">SkiResort</a></li>
                                <li><a href="../classes/SocialEvent.html">SocialEvent</a></li>
                                <li><a href="../classes/SocialMediaPosting.html">SocialMediaPosting</a></li>
                                <li><a href="../classes/SoftwareApplication.html">SoftwareApplication</a></li>
                                <li><a href="../classes/SoftwareSourceCode.html">SoftwareSourceCode</a></li>
                                <li><a href="../classes/SomeProducts.html">SomeProducts</a></li>
                                <li><a href="../classes/Specialty.html">Specialty</a></li>
                                <li><a href="../classes/SportingGoodsStore.html">SportingGoodsStore</a></li>
                                <li><a href="../classes/SportsActivityLocation.html">SportsActivityLocation</a></li>
                                <li><a href="../classes/SportsClub.html">SportsClub</a></li>
                                <li><a href="../classes/SportsEvent.html">SportsEvent</a></li>
                                <li><a href="../classes/SportsOrganization.html">SportsOrganization</a></li>
                                <li><a href="../classes/SportsTeam.html">SportsTeam</a></li>
                                <li><a href="../classes/SpreadsheetDigitalDocument.html">SpreadsheetDigitalDocument</a></li>
                                <li><a href="../classes/StadiumOrArena.html">StadiumOrArena</a></li>
                                <li><a href="../classes/State.html">State</a></li>
                                <li><a href="../classes/SteeringPositionValue.html">SteeringPositionValue</a></li>
                                <li><a href="../classes/Store.html">Store</a></li>
                                <li><a href="../classes/StructuredValue.html">StructuredValue</a></li>
                                <li><a href="../classes/SubscribeAction.html">SubscribeAction</a></li>
                                <li><a href="../classes/SubwayStation.html">SubwayStation</a></li>
                                <li><a href="../classes/Suite.html">Suite</a></li>
                                <li><a href="../classes/SuspendAction.html">SuspendAction</a></li>
                                <li><a href="../classes/Synagogue.html">Synagogue</a></li>
                                <li><a href="../classes/Table.html">Table</a></li>
                                <li><a href="../classes/TakeAction.html">TakeAction</a></li>
                                <li><a href="../classes/TaskProfile.html">TaskProfile</a></li>
                                <li><a href="../classes/TattooParlor.html">TattooParlor</a></li>
                                <li><a href="../classes/Taxi.html">Taxi</a></li>
                                <li><a href="../classes/TaxiReservation.html">TaxiReservation</a></li>
                                <li><a href="../classes/TaxiService.html">TaxiService</a></li>
                                <li><a href="../classes/TaxiStand.html">TaxiStand</a></li>
                                <li><a href="../classes/TechArticle.html">TechArticle</a></li>
                                <li><a href="../classes/TelevisionChannel.html">TelevisionChannel</a></li>
                                <li><a href="../classes/TelevisionStation.html">TelevisionStation</a></li>
                                <li><a href="../classes/TennisComplex.html">TennisComplex</a></li>
                                <li><a href="../classes/TextDigitalDocument.html">TextDigitalDocument</a></li>
                                <li><a href="../classes/TheaterEvent.html">TheaterEvent</a></li>
                                <li><a href="../classes/TheaterGroup.html">TheaterGroup</a></li>
                                <li><a href="../classes/Thing.html">Thing</a></li>
                                <li><a href="../classes/Ticket.html">Ticket</a></li>
                                <li><a href="../classes/TieAction.html">TieAction</a></li>
                                <li><a href="../classes/TipAction.html">TipAction</a></li>
                                <li><a href="../classes/TireShop.html">TireShop</a></li>
                                <li><a href="../classes/TouristAttraction.html">TouristAttraction</a></li>
                                <li><a href="../classes/TouristInformationCenter.html">TouristInformationCenter</a></li>
                                <li><a href="../classes/ToyStore.html">ToyStore</a></li>
                                <li><a href="../classes/TrackAction.html">TrackAction</a></li>
                                <li><a href="../classes/TradeAction.html">TradeAction</a></li>
                                <li><a href="../classes/TrainReservation.html">TrainReservation</a></li>
                                <li><a href="../classes/TrainStation.html">TrainStation</a></li>
                                <li><a href="../classes/TrainTrip.html">TrainTrip</a></li>
                                <li><a href="../classes/TransferAction.html">TransferAction</a></li>
                                <li><a href="../classes/TravelAction.html">TravelAction</a></li>
                                <li><a href="../classes/TravelAgency.html">TravelAgency</a></li>
                                <li><a href="../classes/Triple.html">Triple</a></li>
                                <li><a href="../classes/TVClip.html">TVClip</a></li>
                                <li><a href="../classes/TVEpisode.html">TVEpisode</a></li>
                                <li><a href="../classes/TVSeason.html">TVSeason</a></li>
                                <li><a href="../classes/TVSeries.html">TVSeries</a></li>
                                <li><a href="../classes/TypeAndQuantityNode.html">TypeAndQuantityNode</a></li>
                                <li><a href="../classes/UnitPriceSpecification.html">UnitPriceSpecification</a></li>
                                <li><a href="../classes/UnRegisterAction.html">UnRegisterAction</a></li>
                                <li><a href="../classes/UpdateAction.html">UpdateAction</a></li>
                                <li><a href="../classes/UseAction.html">UseAction</a></li>
                                <li><a href="../classes/UserBlocks.html">UserBlocks</a></li>
                                <li><a href="../classes/UserCheckins.html">UserCheckins</a></li>
                                <li><a href="../classes/UserComments.html">UserComments</a></li>
                                <li><a href="../classes/UserDownloads.html">UserDownloads</a></li>
                                <li><a href="../classes/UserInteraction.html">UserInteraction</a></li>
                                <li><a href="../classes/UserLikes.html">UserLikes</a></li>
                                <li><a href="../classes/UserPageVisits.html">UserPageVisits</a></li>
                                <li><a href="../classes/UserPlays.html">UserPlays</a></li>
                                <li><a href="../classes/UserPlusOnes.html">UserPlusOnes</a></li>
                                <li><a href="../classes/UserTweets.html">UserTweets</a></li>
                                <li><a href="../classes/Vehicle.html">Vehicle</a></li>
                                <li><a href="../classes/VerificationServiceProfile.html">VerificationServiceProfile</a></li>
                                <li><a href="../classes/VideoGallery.html">VideoGallery</a></li>
                                <li><a href="../classes/VideoGame.html">VideoGame</a></li>
                                <li><a href="../classes/VideoGameClip.html">VideoGameClip</a></li>
                                <li><a href="../classes/VideoGameSeries.html">VideoGameSeries</a></li>
                                <li><a href="../classes/VideoObject.html">VideoObject</a></li>
                                <li><a href="../classes/ViewAction.html">ViewAction</a></li>
                                <li><a href="../classes/ViewManager.html">ViewManager</a></li>
                                <li><a href="../classes/VisualArtsEvent.html">VisualArtsEvent</a></li>
                                <li><a href="../classes/VisualArtwork.html">VisualArtwork</a></li>
                                <li><a href="../classes/Volcano.html">Volcano</a></li>
                                <li><a href="../classes/VoteAction.html">VoteAction</a></li>
                                <li><a href="../classes/WantAction.html">WantAction</a></li>
                                <li><a href="../classes/WarrantyPromise.html">WarrantyPromise</a></li>
                                <li><a href="../classes/WarrantyScope.html">WarrantyScope</a></li>
                                <li><a href="../classes/WatchAction.html">WatchAction</a></li>
                                <li><a href="../classes/Waterfall.html">Waterfall</a></li>
                                <li><a href="../classes/WearAction.html">WearAction</a></li>
                                <li><a href="../classes/WebApplication.html">WebApplication</a></li>
                                <li><a href="../classes/WebPage.html">WebPage</a></li>
                                <li><a href="../classes/WebPageElement.html">WebPageElement</a></li>
                                <li><a href="../classes/WebSite.html">WebSite</a></li>
                                <li><a href="../classes/WholesaleStore.html">WholesaleStore</a></li>
                                <li><a href="../classes/WinAction.html">WinAction</a></li>
                                <li><a href="../classes/Winery.html">Winery</a></li>
                                <li><a href="../classes/WPAdBlock.html">WPAdBlock</a></li>
                                <li><a href="../classes/WPFooter.html">WPFooter</a></li>
                                <li><a href="../classes/WPHeader.html">WPHeader</a></li>
                                <li><a href="../classes/WPSideBar.html">WPSideBar</a></li>
                                <li><a href="../classes/WriteAction.html">WriteAction</a></li>
                                <li><a href="../classes/XapiConfig.html">XapiConfig</a></li>
                                <li><a href="../classes/Zoo.html">Zoo</a></li>
                            </ul>
                
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/com.eduworks.ec.html">com.eduworks.ec</a></li>
                                <li><a href="../modules/com.eduworks.ec.ui.html">com.eduworks.ec.ui</a></li>
                                <li><a href="../modules/org.cassproject.html">org.cassproject</a></li>
                                <li><a href="../modules/org.credentialengine.html">org.credentialengine</a></li>
                                <li><a href="../modules/org.json.ld.html">org.json.ld</a></li>
                                <li><a href="../modules/org.schema.html">org.schema</a></li>
                                <li><a href="../modules/org.w3.skos.html">org.w3.skos</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: src/main/js/cass/ebac.identity.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/*-
 * --BEGIN_LICENSE--
 * Competency and Skills System
 * -----
 * Copyright (C) 2015 - 2017 Eduworks Corporation and other contributing parties.
 * -----
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *      http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * --END_LICENSE--
 */

var RemoteIdentityManagerInterface = function() {};
RemoteIdentityManagerInterface = stjs.extend(RemoteIdentityManagerInterface, null, [], function(constructor, prototype) {
    prototype.configure = function(usernameSalt, usernameIterations, usernameWidth, passwordSalt, passwordIterations, passwordWidth, secretSalt, secretIterations) {};
    prototype.configureFromServer = function(success, failure) {};
    prototype.isGlobal = function() {};
    prototype.clear = function() {};
    prototype.setDefaultIdentityManagementServer = function(server) {};
    prototype.startLogin = function(username, password) {};
    prototype.changePassword = function(username, oldPassword, newPassword) {};
    prototype.fetch = function(success, failure) {};
    prototype.commit = function(success, failure) {};
    prototype.create = function(success, failure) {};
}, {}, {});
/**
 *  A contact is an identity that we do not own. Using the public key we may: 1.
 *  Send them information (by encrypting data with their public key) 2. Verify a
 *  signed message that was sent (by using the verify function of the public key)
 *  3. Distinguish between this identity and other identities through the
 *  displayName.
 * 
 *  @author fritz.ray@eduworks.com
 *  @module com.eduworks.ec
 *  @class EcContact
 *  @constructor
 */
var EcContact = function() {};
EcContact = stjs.extend(EcContact, null, [], function(constructor, prototype) {
    /**
     *  Public Key of the contact
     * 
     *  @property pk
     *  @type EcPk
     */
    prototype.pk = null;
    /**
     *  Display Name of the contact
     * 
     *  @property displayName
     *  @type String
     */
    prototype.displayName = null;
    /**
     *  URL to the home server of the contact
     * 
     *  @property source
     *  @type String
     */
    prototype.source = null;
    /**
     *  Helper function to decrypt an encrypted contact (storable version of an contact)
     *  into an contact
     * 
     *  @param {EbacContact} contact
     *                       Contact to decrypt.
     *  @param {String}      secret
     *                       AES secret used to decrypt the credential.
     *  @param {String}      source
     *                       Source of the credential, used to track where a contact
     *                       came from.
     *  @return {EcContact}
     *  Decrypted identity object, ready for use.
     *  @memberOf EcContact
     *  @method fromEncryptedContact
     *  @static
     */
    constructor.fromEncryptedContact = function(contact, secret, source) {
        var i = new EcContact();
        i.pk = EcPk.fromPem(EcAesCtr.decrypt(contact.pk, secret, contact.iv));
        i.source = source;
        if (contact.displayName != null &amp;&amp; contact.displayNameIv != null) 
            i.displayName = EcAesCtr.decrypt(contact.displayName, secret, contact.iv);
        return i;
    };
    /**
     *  Comparison method that checks if the key is the same as another EcContact
     * 
     *  @param {Object} obj
     *                  Contact to compare if same key
     *  @return {boolean}
     *  true if the key is the same, false if not
     *  @memberOf EcContact
     *  @method equals
     */
    prototype.equals = function(obj) {
        if (stjs.isInstanceOf(obj.constructor, EcContact)) 
            return this.pk == (obj).pk;
        return Object.prototype.equals.call(this, obj);
    };
    /**
     *  Returns the URL to generic image that should be displayed for the contact
     * 
     *  @return {String}
     *  URL of generic image file
     *  @memberOf EcContact
     *  @method getImageUrl
     */
    prototype.getImageUrl = function() {
        return &quot;https://upload.wikimedia.org/wikipedia/commons/thumb/1/12/User_icon_2.svg/48px-User_icon_2.svg.png&quot;;
    };
    /**
     *  Helper function to encrypt a contact into an encrypted contact (storable
     *  version of a contact)
     * 
     *  @param {String} secret
     *                  AES secret used to encrypt the contact.
     *  @return {EbacContact}
     *  Encrypted contact object.
     *  @memberOf EcContact
     *  @method toEncryptedContact
     */
    prototype.toEncryptedContact = function(secret) {
        var c = new EbacContact();
        c.iv = EcAes.newIv(32);
        c.pk = EcAesCtr.encrypt(this.pk.toPem(), secret, c.iv);
        c.displayNameIv = EcAes.newIv(16);
        c.displayName = EcAesCtr.encrypt(this.displayName, secret, c.iv);
        c.sourceIv = EcAes.newIv(16);
        c.source = EcAesCtr.encrypt(this.source, secret, c.iv);
        return c;
    };
}, {pk: &quot;EcPk&quot;}, {});
/**
 *  An identity is an alias that a person or system may own. It consists of a
 *  private key and a display name. Using the private key we may: 1. Perform all
 *  operations of a EcContact. 2. Decrypt messages using our private key. 3. Sign
 *  messages, ensuring the recipient knows that we sent the message and it was
 *  not altered.
 * 
 *  @author fritz.ray@eduworks.com
 *  @module com.eduworks.ec
 *  @class EcIdentity
 *  @constructor
 */
var EcIdentity = function() {
    this.displayName = &quot;Alias &quot; + EcIdentity.identityCounter++;
};
EcIdentity = stjs.extend(EcIdentity, null, [], function(constructor, prototype) {
    constructor.identityCounter = 1;
    /**
     *  Private Key of this identity
     * 
     *  @property ppk
     *  @type EcPpk
     */
    prototype.ppk = null;
    /**
     *  Display name of this identity
     * 
     *  @property displayName
     *  @type String
     */
    prototype.displayName = null;
    /**
     *  String identifying where this identity came from
     * 
     *  @property displayName
     *  @type String
     */
    prototype.source = null;
    /**
     *  Helper function to decrypt a credential (storable version of an identity)
     *  into an identity)
     * 
     *  @param {EbacCredential} credential
     *                          Credential to decrypt.
     *  @param {String}         secret
     *                          AES secret used to decrypt the credential.
     *  @param {String}         source
     *                          Source of the credential, used to track where a credential
     *                          came from.
     *  @return {EcIdentity}
     *  Decrypted identity object, ready for use.
     *  @memberOf EcIdentity
     *  @method fromCredential
     *  @static
     */
    constructor.fromCredential = function(credential, secret, source) {
        var i = new EcIdentity();
        i.ppk = EcPpk.fromPem(EcAesCtr.decrypt(credential.ppk, secret, credential.iv));
        i.source = source;
        if (credential.displayName != null &amp;&amp; credential.displayNameIv != null) 
            i.displayName = EcAesCtr.decrypt(credential.displayName, secret, credential.iv);
        return i;
    };
    prototype.equals = function(obj) {
        if (stjs.isInstanceOf(obj.constructor, EcIdentity)) 
            return this.ppk.toPem().equals((obj).ppk.toPem());
        return Object.prototype.equals.call(this, obj);
    };
    /**
     *  Helper function to encrypt an identity into a credential (storable
     *  version of an identity)
     * 
     *  @param {String} secret
     *                  AES secret used to encrypt the credential.
     *  @return {EbacCredential}
     *  Encrypted credential object.
     *  @memberOf EcIdentity
     *  @method toCredential
     */
    prototype.toCredential = function(secret) {
        var c = new EbacCredential();
        c.iv = EcAes.newIv(16);
        c.ppk = EcAesCtr.encrypt(this.ppk.toPem(), secret, c.iv);
        c.displayNameIv = EcAes.newIv(16);
        c.displayName = EcAesCtr.encrypt(this.displayName, secret, c.iv);
        return c;
    };
    /**
     *  Converts an identity to a contact.
     * 
     *  @return {EcContact}
     *  Contact object.
     *  @memberOf EcIdentity
     *  @method toContact
     */
    prototype.toContact = function() {
        var c = new EcContact();
        c.displayName = this.displayName;
        c.pk = this.ppk.toPk();
        c.source = this.source;
        return c;
    };
}, {ppk: &quot;EcPpk&quot;}, {});
/**
 *  Manages identities and contacts, provides hooks to respond to identity and
 *  contact events, and builds signatures and signature sheets for authorizing
 *  movement of data. Also provides helper functions for identity management and
 *  reads the users contacts on application start with a static constructor that
 *  pulls them out of any temporary storage
 * 
 *  @author fritz.ray@eduworks.com
 *  @module com.eduworks.ec
 *  @class EcIdentityManager
 *  @static
 */
var EcIdentityManager = function() {};
EcIdentityManager = stjs.extend(EcIdentityManager, null, [], function(constructor, prototype) {
    /**
     *  The current user&#x27;s owned identities (keys+displayName)
     * 
     *  @property ids
     *  @type EcIdentity[]
     *  @static
     */
    constructor.ids = new Array();
    /**
     *  Contacts (Keys that we do not own)
     * 
     *  @property contacts
     *  @type EcContact[]
     *  @static
     */
    constructor.contacts = new Array();
    /**
     *  Identity change hook.
     * 
     *  @property onIdentityChanged
     *  @type Callback1&lt;EcIdentity&gt;
     *  @static
     */
    constructor.onIdentityChanged = null;
    /**
     *  Contacts change hook.
     * 
     *  @property onContactChanged
     *  @type Callback1&lt;EcIdentity&gt;
     *  @static
     */
    constructor.onContactChanged = null;
    constructor.signatureSheetCaching = false;
    constructor.signatureSheetCache = new Object();
    constructor.async = true;
    constructor.main = function(args) {
        EcIdentityManager.readContacts();
    };
    /**
     *  Trigger for the onIdentityChanged hook
     * 
     *  @param {EcIdentity} identity Identity that has changed
     *  @memberOf EcIdentityManager
     *  @method identityChanged
     *  @static
     */
    constructor.identityChanged = function(identity) {
        if (EcIdentityManager.onIdentityChanged != null) {
            EcIdentityManager.onIdentityChanged(identity);
        }
    };
    /**
     *  Trigger for the onContactChanged hook
     * 
     *  @param {EcContact} contact Contact that has changed
     *  @memberOf EcIdentityManager
     *  @method contactChanged
     *  @static
     */
    constructor.contactChanged = function(contact) {
        if (EcIdentityManager.onContactChanged != null) {
            EcIdentityManager.onContactChanged(contact);
        }
        EcIdentityManager.saveContacts();
    };
    /**
     *  Reads contact data from localstorage.
     * 
     *  @memberOf EcIdentityManager
     *  @method readContacts
     *  @static
     */
    constructor.readContacts = function() {
        var localStore = localStorage[&quot;contacts&quot;];
        if (localStore == null) {
            return;
        }
        var c = JSON.parse(localStore);
        for (var i = 0; i &lt; c.length; i++) {
            var contact = new EcContact();
            var o = c[i];
            var props = (o);
            contact.displayName = props[&quot;displayName&quot;];
            contact.pk = EcPk.fromPem(props[&quot;pk&quot;]);
            contact.source = props[&quot;source&quot;];
            var cont = false;
            for (var j = 0; j &lt; EcIdentityManager.contacts.length; j++) {
                if (EcIdentityManager.contacts[j].pk.toPem() == contact.pk.toPem()) {
                    cont = true;
                }
            }
            if (cont) {
                continue;
            }
            EcIdentityManager.contacts.push(contact);
        }
    };
    /**
     *  Writes contact data to localstorage.
     * 
     *  @memberOf EcIdentityManager
     *  @method saveContacts
     *  @static
     */
    constructor.saveContacts = function() {
        var c = new Array();
        for (var i = 0; i &lt; EcIdentityManager.contacts.length; i++) {
            var o = new Object();
            var props = (o);
            var contact = EcIdentityManager.contacts[i];
            props[&quot;displayName&quot;] = contact.displayName;
            props[&quot;pk&quot;] = contact.pk.toPem();
            props[&quot;source&quot;] = contact.source;
            c.push(o);
        }
        localStorage[&quot;contacts&quot;] = JSON.stringify(c);
    };
    /**
     *  Reads contact data from localstorage.
     * 
     *  @memberOf EcIdentityManager
     *  @method readIdentities
     *  @static
     */
    constructor.readIdentities = function() {
        var localStore = localStorage[&quot;identities&quot;];
        if (localStore == null) {
            return;
        }
        var c = JSON.parse(localStore);
        for (var i = 0; i &lt; c.length; i++) {
            var identity = new EcIdentity();
            var o = c[i];
            var props = (o);
            identity.displayName = props[&quot;displayName&quot;];
            identity.ppk = EcPpk.fromPem(props[&quot;ppk&quot;]);
            identity.source = props[&quot;source&quot;];
            var cont = false;
            for (var j = 0; j &lt; EcIdentityManager.ids.length; j++) {
                if (EcIdentityManager.ids[j].ppk.toPem() == identity.ppk.toPem()) {
                    cont = true;
                }
            }
            if (cont) {
                continue;
            }
            EcIdentityManager.ids.push(identity);
        }
    };
    /**
     *  Writes contact data to localstorage.
     * 
     *  @memberOf EcIdentityManager
     *  @method saveIdentities
     *  @static
     */
    constructor.saveIdentities = function() {
        var c = new Array();
        for (var i = 0; i &lt; EcIdentityManager.ids.length; i++) {
            var o = new Object();
            var props = (o);
            var identity = EcIdentityManager.ids[i];
            props[&quot;displayName&quot;] = identity.displayName;
            props[&quot;ppk&quot;] = identity.ppk.toPem();
            props[&quot;source&quot;] = identity.source;
            c.push(o);
        }
        localStorage[&quot;identities&quot;] = JSON.stringify(c);
    };
    /**
     *  Clears contacts from the local storage
     * 
     *  @memberOf EcIdentityManager
     *  @method clearContacts
     *  @static
     */
    constructor.clearContacts = function() {
        delete localStorage[&quot;contacts&quot;];
        EcIdentityManager.contacts = new Array();
    };
    /**
     *  Clears identities from the local storage
     * 
     *  @memberOf EcIdentityManager
     *  @method clearIdentities
     *  @static
     */
    constructor.clearIdentities = function() {
        delete localStorage[&quot;identities&quot;];
        EcIdentityManager.ids = new Array();
    };
    /**
     *  Adds an identity to the identity manager. Checks for duplicates. Triggers
     *  events.
     * 
     *  @param {EcIdentity} identity Identity to add.
     *  @memberOf EcIdentityManager
     *  @method addIdentity
     *  @static
     */
    constructor.addIdentity = function(identity) {
        for (var i = 0; i &lt; EcIdentityManager.ids.length; i++) {
            if (EcIdentityManager.ids[i].equals(identity)) {
                return;
            }
        }
        EcIdentityManager.ids.push(identity);
        EcIdentityManager.identityChanged(identity);
    };
    /**
     *  Adds an identity to the identity manager. Checks for duplicates. Does not trigger
     *  events.
     * 
     *  @param {EcIdentity} identity Identity to add.
     *  @memberOf EcIdentityManager
     *  @method addIdentityQuietly
     *  @static
     */
    constructor.addIdentityQuietly = function(identity) {
        for (var i = 0; i &lt; EcIdentityManager.ids.length; i++) {
            if (EcIdentityManager.ids[i].equals(identity)) {
                return;
            }
        }
        EcIdentityManager.ids.push(identity);
    };
    /**
     *  Adds a contact to the identity manager. Checks for duplicates. Triggers
     *  events.
     * 
     *  @param {EcContact} contact Contact to add.
     *  @memberOf EcIdentityManager
     *  @method addContact
     *  @static
     */
    constructor.addContact = function(contact) {
        for (var i = 0; i &lt; EcIdentityManager.ids.length; i++) {
            if (EcIdentityManager.ids[i].ppk.toPk().toPem().equals(contact.pk.toPem())) {
                EcIdentityManager.ids[i].displayName = contact.displayName;
                EcIdentityManager.identityChanged(EcIdentityManager.ids[i]);
            }
        }
        for (var i = 0; i &lt; EcIdentityManager.contacts.length; i++) {
            if (EcIdentityManager.contacts[i].pk.toPem().equals(contact.pk.toPem())) {
                EcIdentityManager.contacts[i].displayName = contact.displayName;
                EcIdentityManager.contactChanged(EcIdentityManager.contacts[i]);
            }
        }
        for (var i = 0; i &lt; EcIdentityManager.contacts.length; i++) {
            if (EcIdentityManager.contacts[i].equals(contact)) {
                return;
            }
        }
        EcIdentityManager.contacts.push(contact);
        EcIdentityManager.contactChanged(contact);
    };
    /**
     *  Adds a contact to the identity manager. Checks for duplicates. Does not trigger
     *  events.
     * 
     *  @param {EcContact} contact Contact to add.
     *  @memberOf EcIdentityManager
     *  @method addContactQuietly
     *  @static
     */
    constructor.addContactQuietly = function(contact) {
        for (var i = 0; i &lt; EcIdentityManager.ids.length; i++) {
            if (EcIdentityManager.ids[i].ppk.toPk().toPem().equals(contact.pk.toPem())) {
                EcIdentityManager.ids[i].displayName = contact.displayName;
            }
        }
        for (var i = 0; i &lt; EcIdentityManager.contacts.length; i++) {
            if (EcIdentityManager.contacts[i].pk.toPem().equals(contact.pk.toPem())) {
                EcIdentityManager.contacts[i].displayName = contact.displayName;
            }
        }
        for (var i = 0; i &lt; EcIdentityManager.contacts.length; i++) {
            if (EcIdentityManager.contacts[i].equals(contact)) {
                return;
            }
        }
        EcIdentityManager.contacts.push(contact);
    };
    /**
     *  Create a signature sheet, authorizing movement of data outside of our
     *  control.
     * 
     *  @param {String[]} identityPksinPem Which identities to create signatures
     *                    for.
     *  @param {long}     duration Length of time in milliseconds to authorize
     *                    control.
     *  @param {String}   server Server that we are authorizing.
     *  @return {String} JSON Array containing signatures.
     *  @memberOf EcIdentityManager
     *  @method signatureSheetFor
     *  @static
     */
    constructor.signatureSheetFor = function(identityPksinPem, duration, server) {
        var signatures = new Array();
        for (var j = 0; j &lt; EcIdentityManager.ids.length; j++) {
            var ppk = EcIdentityManager.ids[j].ppk;
            var pk = ppk.toPk();
            if (identityPksinPem != null) {
                for (var i = 0; i &lt; identityPksinPem.length; i++) {
                    var ownerPpk = EcPk.fromPem(identityPksinPem[i].trim());
                    if (pk.equals(ownerPpk)) {
                        signatures.push(EcIdentityManager.createSignature(duration, server, ppk).atIfy());
                    }
                }
            }
        }
        return JSON.stringify(signatures);
    };
    /**
     *  Asynchronous version of creating a signature sheet for a list of
     *  identities
     * 
     *  @param {String[]}          identityPksinPem Which identities to create signatures
     *                             for.
     *  @param {long}              duration Length of time in milliseconds to authorize
     *                             control.
     *  @param {String}            server Server that we are authorizing.
     *  @param {Callback1&lt;String&gt;} success Callback triggered once the signature
     *                             sheet has been created, returns the signature sheet
     *  @memberOf EcIdentityManager
     *  @method signatureSheetForAsync
     *  @static
     */
    constructor.signatureSheetForAsync = function(identityPksinPem, duration, server, success, failure) {
        var signatures = new Array();
        new EcAsyncHelper().each(EcIdentityManager.ids, function(p1, incrementalSuccess) {
            var ppk = p1.ppk;
            var pk = ppk.toPk();
            var found = false;
            if (identityPksinPem != null) {
                for (var j = 0; j &lt; identityPksinPem.length; j++) {
                    var ownerPpk = EcPk.fromPem(identityPksinPem[j].trim());
                    if (pk.equals(ownerPpk)) {
                        found = true;
                        EcIdentityManager.createSignatureAsync(duration, server, ppk, function(p1) {
                            signatures.push(p1.atIfy());
                            incrementalSuccess();
                        }, failure);
                    }
                }
            }
            if (!found) {
                incrementalSuccess();
            }
        }, function(pks) {
            success(JSON.stringify(signatures));
        });
    };
    /**
     *  Create a signature sheet for all identities, authorizing movement of data
     *  outside of our control.
     * 
     *  @param {long}   duration Length of time in milliseconds to authorize
     *                  control.
     *  @param {String} server Server that we are authorizing.
     *  @return {String} JSON Array containing signatures.
     *  @memberOf EcIdentityManager
     *  @method signatureSheet
     *  @static
     */
    constructor.signatureSheet = function(duration, server) {
        var cache = null;
        if (EcIdentityManager.signatureSheetCaching) {
            cache = (EcIdentityManager.signatureSheetCache)[server];
            if (cache != null) {
                if (cache[0] &gt; new Date().getTime() + duration) {
                    return cache[1];
                }
            }
            duration += 20000;
        }
        var signatures = new Array();
        for (var j = 0; j &lt; EcIdentityManager.ids.length; j++) {
            var ppk = EcIdentityManager.ids[j].ppk;
            signatures.push(EcIdentityManager.createSignature(duration, server, ppk).atIfy());
        }
        var stringified = JSON.stringify(signatures);
        if (EcIdentityManager.signatureSheetCaching) {
            cache = new Array();
            cache[0] = new Date().getTime() + duration;
            cache[1] = stringified;
            (EcIdentityManager.signatureSheetCache)[server] = cache;
        }
        return stringified;
    };
    /**
     *  Asynchronous version of creating a signature sheet for all identities
     * 
     *  @param {long}             duration Length of time in milliseconds to authorize
     *                            control.
     *  @param {String}           server Server that we are authorizing.
     *  @param {Callback&lt;String&gt;} success Callback triggered once the signature
     *                            sheet has been created, returns the signature sheet
     *  @memberOf EcIdentityManager
     *  @method signatureSheetAsync
     *  @static
     */
    constructor.signatureSheetAsync = function(duration, server, success, failure) {
        if (!EcIdentityManager.async) {
            var sheet = EcIdentityManager.signatureSheet(duration, server);
            if (success != null) 
                success(sheet);
            return;
        }
        var signatures = new Array();
        var cache = null;
        if (EcIdentityManager.signatureSheetCaching) {
            cache = (EcIdentityManager.signatureSheetCache)[server];
            if (cache != null) {
                if (cache[0] &gt; new Date().getTime() + duration) {
                    success(cache[1]);
                    return;
                }
            }
            duration += 20000;
        }
        var finalDuration = duration;
        new EcAsyncHelper().each(EcIdentityManager.ids, function(p1, incrementalSuccess) {
            var ppk = p1.ppk;
            EcIdentityManager.createSignatureAsync(finalDuration, server, ppk, function(p1) {
                signatures.push(p1.atIfy());
                incrementalSuccess();
            }, failure);
        }, function(pks) {
            var cache = null;
            var stringified = JSON.stringify(signatures);
            if (EcIdentityManager.signatureSheetCaching) {
                cache = new Array();
                cache[0] = new Date().getTime() + finalDuration;
                cache[1] = stringified;
                (EcIdentityManager.signatureSheetCache)[server] = cache;
            }
            success(stringified);
        });
    };
    /**
     *  Create a signature for a specific identity, authorizing movement of data
     *  outside of our control.
     * 
     *  @param {long}   duration Length of time in milliseconds to authorize
     *                  control.
     *  @param {String} server Server that we are authorizing.
     *  @param {EcPpk}  ppk Key of the identity to create a signature for
     *  @return {Ebac Signature} Signature created
     *  @memberOf EcIdentityManager
     *  @method createSignature
     *  @static
     */
    constructor.createSignature = function(duration, server, ppk) {
        var s = new EbacSignature();
        s.owner = ppk.toPk().toPem();
        s.expiry = new Date().getTime() + duration;
        s.server = server;
        s.signature = EcRsaOaep.sign(ppk, s.toJson());
        return s;
    };
    /**
     *  Asynchronously create a signature for a specific identity
     * 
     *  @param {long}   duration Length of time in milliseconds to authorize
     *                  control.
     *  @param {String} server Server that we are authorizing.
     *  @param {EcPpk}  ppk Key of the identity to create a signature for
     *  @param success  Callback triggered once the signature sheet has been
     *                  created, returns the signature
     *  @memberOf EcIdentityManager
     *  @method createSignatureAsync
     *  @static
     */
    constructor.createSignatureAsync = function(duration, server, ppk, success, failure) {
        var s = new EbacSignature();
        s.owner = ppk.toPk().toPem();
        s.expiry = new Date().getTime() + duration;
        s.server = server;
        EcRsaOaepAsync.sign(ppk, s.toJson(), function(p1) {
            s.signature = p1;
            success(s);
        }, failure);
    };
    /**
     *  Get PPK from PK (if we have it)
     * 
     *  @param {EcPk} fromPem PK to use to look up PPK
     *  @return {EcPpk} PPK or null.
     *  @memberOf EcIdentityManager
     *  @method getPpk
     *  @static
     */
    constructor.getPpk = function(fromPem) {
        var pem = fromPem.toPem();
        for (var i = 0; i &lt; EcIdentityManager.ids.length; i++) {
            if (pem.equals(EcIdentityManager.ids[i].ppk.toPk().toPem())) {
                return EcIdentityManager.ids[i].ppk;
            }
        }
        return null;
    };
    /**
     *  Get Contact from PK (if we have it)
     * 
     *  @param {EcPk} pk PK to use to look up PPK
     *  @return {EcPpk} PPK or null.
     *  @memberOf EcIdentityManager
     *  @method getContact
     *  @static
     */
    constructor.getContact = function(pk) {
        for (var i = 0; i &lt; EcIdentityManager.contacts.length; i++) {
            if (pk.equals(EcIdentityManager.contacts[i].pk)) {
                return EcIdentityManager.contacts[i];
            }
        }
        return null;
    };
    /**
     *  Get Identity from PK (if we have it)
     * 
     *  @param {EcPk} pk PK to use to look up PPK
     *  @return {EcIdentity} identity or null.
     *  @memberOf EcIdentityManager
     *  @method getIdentity
     *  @static
     */
    constructor.getIdentity = function(pk) {
        for (var i = 0; i &lt; EcIdentityManager.ids.length; i++) {
            if (pk.equals(EcIdentityManager.ids[i].ppk.toPk())) {
                return EcIdentityManager.ids[i];
            }
        }
        return null;
    };
    /**
     *  Sign a piece of data with all available keys that own that data.
     * 
     *  @param {EcRemoteLinkedData} d Data to sign.
     *  @memberOf EcIdentityManager
     *  @method sign
     *  @static
     */
    constructor.sign = function(d) {
        if (d.signature != null) {
            for (var i = 0; i &lt; d.signature.length; ) {
                var works = false;
                var signature = d.signature[i];
                if (d.owner != null) {
                    for (var j = 0; j &lt; d.owner.length; j++) {
                        var owner = d.owner[j];
                        var pk = EcPk.fromPem(owner);
                        try {
                            if (EcRsaOaep.verify(pk, d.toSignableJson(), signature)) {
                                works = true;
                                break;
                            }
                        }catch (ex) {}
                    }
                }
                if (!works) {
                    d.signature.splice(i);
                } else {
                    i++;
                }
            }
        }
        if (d.owner != null) {
            for (var i = 0; i &lt; d.owner.length; i++) {
                var attempt = EcIdentityManager.getPpk(EcPk.fromPem(d.owner[i]));
                if (attempt != null) {
                    d.signWith(attempt);
                }
            }
        }
        if (d.signature != null &amp;&amp; d.signature.length == 0) {
            delete (d)[&quot;signature&quot;];
        }
    };
    constructor.myIdentitiesSearchString = function() {
        var searchString = &quot;&quot;;
        for (var i = 0; i &lt; EcIdentityManager.ids.length; i++) {
            if (i &gt; 0) {
                searchString += &quot; OR &quot;;
            }
            searchString += &quot;@reader:\&quot;&quot; + EcIdentityManager.ids[i].ppk.toPk().toPem() + &quot;\&quot;&quot;;
            searchString += &quot; OR &quot;;
            searchString += &quot;@owner:\&quot;&quot; + EcIdentityManager.ids[i].ppk.toPk().toPem() + &quot;\&quot;&quot;;
        }
        return searchString;
    };
    constructor.getMyPks = function() {
        var pks = new Array();
        if (EcIdentityManager.ids == null) 
            return pks;
        for (var i = 0; i &lt; EcIdentityManager.ids.length; i++) 
            pks.push(EcIdentityManager.ids[i].ppk.toPk());
        return pks;
    };
}, {ids: {name: &quot;Array&quot;, arguments: [&quot;EcIdentity&quot;]}, contacts: {name: &quot;Array&quot;, arguments: [&quot;EcContact&quot;]}, onIdentityChanged: {name: &quot;Callback1&quot;, arguments: [&quot;EcIdentity&quot;]}, onContactChanged: {name: &quot;Callback1&quot;, arguments: [&quot;EcContact&quot;]}, signatureSheetCache: &quot;Object&quot;}, {});
if (!stjs.mainCallDisabled) 
    EcIdentityManager.main();
/**
 *  Created by fray on 5/9/17.
 */
var OAuth2FileBasedRemoteIdentityManager = /**
 *  Reads the remote OAuth2 endpoint file.
 * 
 *  @param {Callback0} Method to call when initialization is complete.
 *  @memberOf OAuth2FileBasedRemoteIdentityManager
 *  @constructor
 */
function(initialized) {
    var me = this;
    EcRemote.getExpectingObject(&quot;&quot;, &quot;hello.json&quot;, function(o) {
        try {
            me.configuration = JSON.parse(JSON.stringify(o));
            hello.init(o);
            me.constructor.oauthEnabled = true;
            initialized();
        }catch (ex) {
            me.constructor.oauthEnabled = false;
        }
    }, function(s) {
        me.constructor.oauthEnabled = false;
    });
};
OAuth2FileBasedRemoteIdentityManager = stjs.extend(OAuth2FileBasedRemoteIdentityManager, null, [RemoteIdentityManagerInterface], function(constructor, prototype) {
    constructor.oauthEnabled = false;
    prototype.server = null;
    prototype.configuration = null;
    prototype.oauthLoginResponse = null;
    prototype.network = null;
    prototype.global = null;
    /**
     *  Returns true if the identity manager is global. Returns false if the identity manager is local to the server.
     * 
     *  @return {Boolean} true if the identity manager is global.
     *  @memberOf OAuth2FileBasedRemoteIdentityManager
     *  @method isGlobal
     */
    prototype.isGlobal = function() {
        if (this.global == null) 
            return true;
        return this.global;
    };
    prototype.configure = function(usernameSalt, usernameIterations, usernameWidth, passwordSalt, passwordIterations, passwordWidth, secretSalt, secretIterations) {};
    prototype.configureFromServer = function(success, failure) {
        success(null);
    };
    /**
     *  Wipes login data and logs you out.
     * 
     *  @memberOf OAuth2FileBasedRemoteIdentityManager
     *  @method clear
     */
    prototype.clear = function() {
        OAuth2FileBasedRemoteIdentityManager.oauthEnabled = false;
        if (this.server != null) 
            hello.logout(this.server, null);
    };
    /**
     *  Configure compatible remote identity management server.
     * 
     *  @param {String} server
     *                  Name of the remote identity management server.
     *  @memberOf OAuth2FileBasedRemoteIdentityManager
     *  @method setDefaultIdentityManagementServer
     */
    prototype.setDefaultIdentityManagementServer = function(server) {
        this.server = server;
    };
    prototype.startLogin = function(username, password) {};
    prototype.changePassword = function(username, oldPassword, newPassword) {
        return false;
    };
    /**
     *  Fetch credentials from server, invoking events based on login success or
     *  failure.
     *  &lt;p&gt;
     *  Automatically populates EcIdentityManager.
     *  &lt;p&gt;
     *  Does not require startLogin().
     * 
     *  @param {Callback1&lt;Object&gt;} success
     *  @param {Callback1&lt;String&gt;} failure
     *  @memberOf OAuth2FileBasedRemoteIdentityManager
     *  @method fetch
     */
    prototype.fetch = function(success, failure) {
        var o = new Object();
        (o)[&quot;scope&quot;] = (this.configuration)[this.server + &quot;Scope&quot;];
        var me = this;
        hello.on(&quot;auth.login&quot;, function(o) {
            me.oauthLoginResponse = o;
            me.network = (me.oauthLoginResponse)[&quot;network&quot;];
            hello.api(me.network + &quot;/me/folders&quot;, &quot;get&quot;, new Object()).then(function(folderResponse) {
                var folders = (folderResponse)[&quot;data&quot;];
                var foundIdentities = false;
                var foundContacts = false;
                for (var i = 0; i &lt; folders.length; i++) {
                    var d = folders[i];
                    var name = (d)[&quot;name&quot;];
                    var id = (d)[&quot;id&quot;];
                    if (name == &quot;CASS Identities&quot;) {
                        foundIdentities = true;
                        me.hookIdentityManagerIdentities(id);
                        me.readIdentityFiles(id, success, failure);
                    }
                    if (name == &quot;CASS Contacts&quot;) {
                        foundContacts = true;
                        me.hookIdentityManagerContacts(id);
                        me.readContactFiles(id, success, failure);
                    }
                }
                if (!foundIdentities) {
                    me.createIdentityFolder(success);
                }
                if (!foundContacts) {
                    me.createContactFolder();
                }
            }).fail(failure);
        });
        hello.login(this.server, o).fail(failure);
    };
    prototype.createContactFolder = function() {
        var me = this;
        var o = new Object();
        (o)[&quot;name&quot;] = &quot;CASS Contacts&quot;;
        hello.api(me.network + &quot;/me/folders&quot;, &quot;post&quot;, o).then(function(r) {
            me.hookIdentityManagerContacts((r)[&quot;id&quot;]);
        });
    };
    prototype.createIdentityFolder = function(success) {
        var me = this;
        var o = new Object();
        (o)[&quot;name&quot;] = &quot;CASS Identities&quot;;
        hello.api(me.network + &quot;/me/folders&quot;, &quot;post&quot;, o).then(function(r) {
            me.hookIdentityManagerIdentities((r)[&quot;id&quot;]);
            success(r);
        });
    };
    prototype.writeIdentityFiles = function(folderId, success) {
        var me = this;
        var helper = new EcAsyncHelper();
        helper.each(EcIdentityManager.ids, function(identity, callback0) {
            me.writeIdentityFile(folderId, identity, callback0);
        }, function(strings) {
            success(strings);
        });
    };
    prototype.writeIdentityFile = function(folderId, identity, finished) {
        var file = stringToFile(identity.ppk.toPem(), identity.displayName + &quot;.pem&quot;, &quot;text/plain&quot;);
        var o = new Object();
        (o)[&quot;id&quot;] = (identity)[&quot;id&quot;];
        if ((o)[&quot;id&quot;] == undefined) 
            (o)[&quot;parent&quot;] = folderId;
        (o)[&quot;name&quot;] = file.name;
        var files = new Array();
        files.push(file);
        (o)[&quot;file&quot;] = files;
        hello.api(this.network + &quot;/me/files&quot;, (identity)[&quot;id&quot;] == undefined ? &quot;post&quot; : &quot;put&quot;, o).then(function(r) {
            (identity)[&quot;id&quot;] = (r)[&quot;id&quot;];
            if (finished != null) 
                finished();
        });
    };
    prototype.writeContactFiles = function(folderId) {
        for (var i = 0; i &lt; EcIdentityManager.contacts.length; i++) {
            this.writeContactFile(folderId, EcIdentityManager.contacts[i]);
        }
    };
    prototype.writeContactFile = function(folderId, contact) {
        var file = stringToFile(contact.pk.toPem(), contact.displayName + &quot;.pem&quot;, &quot;text/plain&quot;);
        var o = new Object();
        (o)[&quot;id&quot;] = (contact)[&quot;id&quot;];
        if ((o)[&quot;id&quot;] == undefined) 
            (o)[&quot;parent&quot;] = folderId;
        (o)[&quot;name&quot;] = file.name;
        var files = new Array();
        files.push(file);
        (o)[&quot;file&quot;] = files;
        hello.api(this.network + &quot;/me/files&quot;, (contact)[&quot;id&quot;] == undefined ? &quot;post&quot; : &quot;put&quot;, o).then(function(r) {
            (contact)[&quot;id&quot;] = (r)[&quot;id&quot;];
        });
    };
    prototype.readIdentityFiles = function(folderId, success, failure) {
        var me = this;
        var o = new Object();
        (o)[&quot;parent&quot;] = folderId;
        hello.api(this.network + &quot;/me/files&quot;, &quot;get&quot;, o).then(function(folderResponse) {
            var files = (folderResponse)[&quot;data&quot;];
            var h = new EcAsyncHelper();
            h.each(files, function(d, callback0) {
                var name = ((d)[&quot;name&quot;]).replace(&quot;\\.pem&quot;, &quot;&quot;);
                var id = (d)[&quot;id&quot;];
                var directLink = (d)[&quot;downloadUrl&quot;];
                EcRemote.getExpectingString(&quot;&quot;, directLink + &quot;&amp;access_token=&quot; + (hello.getAuthResponse(me.network))[&quot;access_token&quot;], function(s) {
                    var identity = new EcIdentity();
                    identity.displayName = name.replace(&quot;.pem&quot;, &quot;&quot;);
                    identity.ppk = EcPpk.fromPem(s);
                    identity.source = &quot;google&quot;;
                    (identity)[&quot;id&quot;] = id;
                    EcIdentityManager.addIdentityQuietly(identity);
                    callback0();
                }, failure);
            }, function(strings) {
                success(null);
            });
        });
    };
    prototype.readContactFiles = function(folderId, success, failure) {
        var me = this;
        var o = new Object();
        (o)[&quot;parent&quot;] = folderId;
        hello.api(this.network + &quot;/me/files&quot;, &quot;get&quot;, o).then(function(folderResponse) {
            var files = (folderResponse)[&quot;data&quot;];
            var h = new EcAsyncHelper();
            h.each(files, function(d, callback0) {
                var name = ((d)[&quot;name&quot;]).replace(&quot;\\.pem&quot;, &quot;&quot;);
                var id = (d)[&quot;id&quot;];
                var directLink = (d)[&quot;downloadUrl&quot;];
                EcRemote.getExpectingString(&quot;&quot;, directLink + &quot;&amp;access_token=&quot; + (hello.getAuthResponse(me.network))[&quot;access_token&quot;], function(s) {
                    var contact = new EcContact();
                    contact.displayName = name.replace(&quot;.pem&quot;, &quot;&quot;);
                    contact.pk = EcPk.fromPem(s);
                    contact.source = &quot;google&quot;;
                    (contact)[&quot;id&quot;] = id;
                    EcIdentityManager.addContactQuietly(contact);
                    callback0();
                }, failure);
            }, function(strings) {
                success(null);
            });
        });
    };
    prototype.hookIdentityManagerIdentities = function(folderId) {
        var me = this;
        EcIdentityManager.onIdentityChanged = function(identity) {
            me.writeIdentityFile(folderId, identity, null);
        };
    };
    prototype.hookIdentityManagerContacts = function(folderId) {
        var me = this;
        EcIdentityManager.onContactChanged = function(contact) {
            me.writeContactFile(folderId, contact);
        };
    };
    /**
     *  Commits credentials in EcIdentityManager to remote server.
     * 
     *  @param {Callback1&lt;String&gt;}   success
     *  @param {Callback1&lt;String&gt;}   failure
     *  @memberOf OAuth2FileBasedRemoteIdentityManager
     *  @method commit
     */
    prototype.commit = function(success, failure) {
        var me = this;
        var apio = new Object();
        (apio)[&quot;network&quot;] = this.network;
        if (hello.getAuthResponse(this.server)) 
            hello.api(me.network + &quot;/me/folders&quot;, &quot;get&quot;, apio).then(function(folderResponse) {
                var folders = (folderResponse)[&quot;data&quot;];
                for (var i = 0; i &lt; folders.length; i++) {
                    var d = folders[i];
                    var name = (d)[&quot;name&quot;];
                    var id = (d)[&quot;id&quot;];
                    if (name == &quot;CASS Identities&quot;) {
                        me.writeIdentityFiles(id, success);
                    }
                    if (name == &quot;CASS Contacts&quot;) {
                        me.writeContactFiles(id);
                    }
                }
            }).fail(failure);
         else 
            failure(&quot;Please login again.&quot;);
    };
    prototype.create = function(success, failure) {
        var o = new Object();
        (o)[&quot;scope&quot;] = (this.configuration)[this.server + &quot;Scope&quot;];
        var me = this;
        hello.on(&quot;auth.login&quot;, function(o) {
            me.oauthLoginResponse = o;
            me.network = (me.oauthLoginResponse)[&quot;network&quot;];
            hello.api(me.network + &quot;/me/folders&quot;, &quot;get&quot;, new Object()).then(function(folderResponse) {
                var folders = (folderResponse)[&quot;data&quot;];
                var foundIdentities = false;
                var foundContacts = false;
                for (var i = 0; i &lt; folders.length; i++) {
                    var d = folders[i];
                    var name = (d)[&quot;name&quot;];
                    var id = (d)[&quot;id&quot;];
                    if (name == &quot;CASS Identities&quot;) {
                        foundIdentities = true;
                        me.hookIdentityManagerIdentities(id);
                        me.readIdentityFiles(id, success, failure);
                    }
                    if (name == &quot;CASS Contacts&quot;) {
                        foundContacts = true;
                        me.hookIdentityManagerContacts(id);
                        me.readContactFiles(id, success, failure);
                    }
                }
                if (!foundIdentities) {
                    me.createIdentityFolder(success);
                }
                if (!foundContacts) {
                    me.createContactFolder();
                }
            }).fail(failure);
        });
        hello.login(this.server, o).fail(failure);
    };
}, {configuration: &quot;Object&quot;, oauthLoginResponse: &quot;Object&quot;}, {});
/**
 *  Contact Grant that is used to share your public key with another user
 * 
 *  @author fritz.ray@eduworks.com
 *  @author devlin.junker@eduworks.com
 *  @module com.eduworks.ec
 *  @class EcContact
 *  @extends EbacContactGrant
 *  @constructor
 */
var EcContactGrant = function() {
    EbacContactGrant.call(this);
};
EcContactGrant = stjs.extend(EcContactGrant, EbacContactGrant, [], function(constructor, prototype) {
    /**
     *  Verifies that the contact grant is valid
     * 
     *  @return {boolean}
     *  true if valid, false if not
     */
    prototype.valid = function() {
        if (!this.verify()) 
            return false;
        if (this.invalid()) 
            return false;
        var found = false;
        for (var i = 0; i &lt; EcIdentityManager.ids.length; i++) {
            if (EcRsaOaep.verify(EcIdentityManager.ids[i].ppk.toPk(), this.responseToken, this.responseSignature)) 
                found = true;
        }
        return found;
    };
}, {owner: {name: &quot;Array&quot;, arguments: [null]}, signature: {name: &quot;Array&quot;, arguments: [null]}, reader: {name: &quot;Array&quot;, arguments: [null]}, atProperties: {name: &quot;Array&quot;, arguments: [null]}}, {});
/**
 *  Logs into and stores/retrieves credentials from a compatible remote server.
 *  Performs anonymization of the user.
 *  &lt;p&gt;
 *  Requires initialization with server specific salts. Server specific salts
 *  prevent co-occurrence attacks, should credentials on one server be
 *  compromised (intercepted in transit).
 *  &lt;p&gt;
 *  Transmits hashed username, hashed password, and encrypts credentials using
 *  the hashed combination of the username and password. This prevents the system
 *  storing the credentials from having any knowledge of the user.
 *  &lt;p&gt;
 *  Password recovery is done by, when the password changes, creating a
 *  cryptographic pad (or perfect cipher) where one half is stored on the server,
 *  and the other half is stored with the user. Should the user lose this pad and
 *  forget their password, they are not able to recover or reset their password,
 *  and their data should be considered lost.
 * 
 *  @author fritz.ray@eduworks.com
 *  @module com.eduworks.ec
 *  @class EcRemoteIdentityManager
 */
var EcRemoteIdentityManager = function() {};
EcRemoteIdentityManager = stjs.extend(EcRemoteIdentityManager, null, [RemoteIdentityManagerInterface], function(constructor, prototype) {
    prototype.server = null;
    prototype.global = null;
    prototype.usernameWithSalt = null;
    prototype.passwordWithSalt = null;
    prototype.secretWithSalt = null;
    prototype.pad = null;
    prototype.token = null;
    prototype.usernameSalt = null;
    prototype.usernameIterations = 0;
    prototype.usernameWidth = 0;
    prototype.passwordSalt = null;
    prototype.passwordIterations = 0;
    prototype.passwordWidth = 0;
    prototype.secretSalt = null;
    prototype.secretIterations = 0;
    prototype.configured = false;
    /**
     *  Returns true if the identity manager is global. Returns false if the identity manager is local to the server.
     * 
     *  @return {Boolean} true if the identity manager is global.
     *  @memberOf EcRemoteIdentityManager
     */
    prototype.isGlobal = function() {
        if (this.global == null) 
            return false;
        return this.global;
    };
    /**
     *  Configure parameters of the remote login storage.
     * 
     *  @param {String} usernameSalt
     *                  Salt used in hashing the username.
     *  @param {int}    usernameIterations
     *                  Number of times to hash the username.
     *  @param {int}    usernameWidth
     *                  Resultant width of username in bytes.
     *  @param {String} passwordSalt
     *                  Salt used to hash password.
     *  @param {int}    passwordIterations
     *                  Number of times to hash password.
     *  @param {int}    passwordWidth
     *                  Resultant width of password in bytes.
     *  @param {String} secretSalt
     *                  Salt used to hash secret (composed of username + password)
     *  @param {int}    secretIterations
     *                  Number of times to hash secret.
     *  @memberOf EcRemoteIdentityManager
     *  @method configure
     */
    prototype.configure = function(usernameSalt, usernameIterations, usernameWidth, passwordSalt, passwordIterations, passwordWidth, secretSalt, secretIterations) {
        this.usernameSalt = usernameSalt;
        this.usernameIterations = usernameIterations;
        this.usernameWidth = usernameWidth;
        this.passwordSalt = passwordSalt;
        this.passwordIterations = passwordIterations;
        this.passwordWidth = passwordWidth;
        this.secretSalt = secretSalt;
        this.secretIterations = secretIterations;
        this.configured = true;
    };
    /**
     *  Configures parameters of the remote server by accessing configuration details via webservice
     * 
     *  @param {Callback1&lt;Object&gt;} success
     *                             Callback triggered after successfully configured
     *  @param {Callback1&lt;String&gt;} failure
     *                             Callback triggered if an error during failure
     *  @memberOf EcRemoteIdentityManager
     *  @method configureFromServer
     */
    prototype.configureFromServer = function(success, failure) {
        var me = this;
        EcRemote.getExpectingObject(this.server, &quot;sky/id/salts&quot;, function(p1) {
            me.usernameSalt = (p1)[&quot;usernameSalt&quot;];
            if (me.usernameSalt.length &lt; 16) {
                failure(&quot;Insufficient length on Username Salt&quot;);
                return;
            }
            me.usernameIterations = stjs.trunc((p1)[&quot;usernameIterations&quot;]);
            if (me.usernameIterations &lt; 1000) {
                failure(&quot;Insufficient iterations on Username Hash&quot;);
                return;
            }
            me.usernameWidth = stjs.trunc((p1)[&quot;usernameLength&quot;]);
            if (me.usernameWidth != 64) {
                failure(&quot;Username Hash required to be length 64.&quot;);
                return;
            }
            me.passwordSalt = (p1)[&quot;passwordSalt&quot;];
            if (me.passwordSalt.length &lt; 16) {
                failure(&quot;Insufficient length on Password Salt&quot;);
                return;
            }
            me.passwordIterations = stjs.trunc((p1)[&quot;passwordIterations&quot;]);
            if (me.passwordIterations &lt; 1000) {
                failure(&quot;Insufficient iterations on Password Hash&quot;);
                return;
            }
            me.passwordWidth = stjs.trunc((p1)[&quot;passwordLength&quot;]);
            if (me.passwordWidth != 64) {
                failure(&quot;Password Hash required to be length 64.&quot;);
                return;
            }
            me.secretSalt = (p1)[&quot;secretSalt&quot;];
            if (me.secretSalt.length &lt; 16) {
                failure(&quot;Insufficient length on Secret Salt&quot;);
                return;
            }
            me.secretIterations = stjs.trunc((p1)[&quot;secretIterations&quot;]);
            if (me.secretIterations &lt; 1000) {
                failure(&quot;Insufficient iterations on Secret Hash&quot;);
                return;
            }
            me.configured = true;
            if (success != null) 
                success(p1);
        }, function(p1) {
            me.configured = false;
            if (failure != null) 
                failure(p1);
             else 
                console.error(p1);
        });
    };
    /**
     *  Wipes login data.
     * 
     *  @memberOf EcRemoteIdentityManager
     *  @method clear
     */
    prototype.clear = function() {
        this.usernameWithSalt = null;
        this.passwordWithSalt = null;
        this.secretWithSalt = null;
        this.pad = null;
        this.token = null;
    };
    /**
     *  Configure compatible remote identity management server.
     * 
     *  @param {String} server
     *                  URL to remote identity management server.
     *  @memberOf EcRemoteIdentityManager
     *  @method setDefaultIdentityManagementServer
     */
    prototype.setDefaultIdentityManagementServer = function(server) {
        this.server = server;
    };
    /**
     *  &quot;Log Into&quot; system, generating credentials. Does not actually remotely
     *  access any machine.
     *  &lt;p&gt;
     *  Please clear username and password fields after this function is called.
     * 
     *  @param {String} username
     *                  Username to login with
     *  @param {String} password
     *                  Password to authenticate username with
     *  @memberOf EcRemoteIdentityManager
     *  @method startLogin
     */
    prototype.startLogin = function(username, password) {
        if (!this.configured) {
            alert(&quot;Remote Identity not configured.&quot;);
            return;
        }
        this.usernameWithSalt = forge.util.encode64(forge.pkcs5.pbkdf2(username, this.usernameSalt, this.usernameIterations, this.usernameWidth));
        this.passwordWithSalt = forge.util.encode64(forge.pkcs5.pbkdf2(password, this.passwordSalt, this.passwordIterations, this.passwordWidth));
        var arys = new Array();
        arys.push(username, password);
        var secret = this.splicePasswords(arys);
        this.secretWithSalt = forge.util.encode64(forge.pkcs5.pbkdf2(secret, this.secretSalt, this.secretIterations, 32));
    };
    /**
     *  Change password of user in memory. Does not automatically commit new credentials.
     *  &lt;p&gt;
     *  Please clear username and password fields after this function is called.
     * 
     *  @param {String} username
     *                  Username
     *  @param {String} oldPassword
     *                  Current password
     *  @param {String} newPassword
     *                  Desired password
     *  @return {boolean}
     *  Valid password change request.
     *  @memberOf EcRemoteIdentityManager
     *  @method changePassword
     */
    prototype.changePassword = function(username, oldPassword, newPassword) {
        var usernameHash = forge.util.encode64(forge.pkcs5.pbkdf2(username, this.usernameSalt, this.usernameIterations, this.usernameWidth));
        if (this.usernameWithSalt != usernameHash) {
            alert(&quot;Username does not match. Aborting password change.&quot;);
            return false;
        }
        var oldPasswordHash = forge.util.encode64(forge.pkcs5.pbkdf2(oldPassword, this.passwordSalt, this.passwordIterations, this.passwordWidth));
        if (this.passwordWithSalt != oldPasswordHash) {
            alert(&quot;Old password does not match. Aborting password change.&quot;);
            return false;
        }
        this.passwordWithSalt = forge.util.encode64(forge.pkcs5.pbkdf2(newPassword, this.passwordSalt, this.passwordIterations, this.passwordWidth));
        var arys = new Array();
        arys.push(username, newPassword);
        var secret = this.splicePasswords(arys);
        this.secretWithSalt = forge.util.encode64(forge.pkcs5.pbkdf2(secret, this.secretSalt, this.secretIterations, 32));
        return true;
    };
    /**
     *  Fetch credentials from server, invoking events based on login success or
     *  failure.
     *  &lt;p&gt;
     *  Automatically populates EcIdentityManager.
     *  &lt;p&gt;
     *  Requires login().
     * 
     *  @param {Callback1&lt;Object&gt;} success
     *  @param {Callback1&lt;String&gt;} failure
     *  @memberOf EcRemoteIdentityManager
     *  @method fetch
     */
    prototype.fetch = function(success, failure) {
        if (!this.configured) {
            failure(&quot;Remote Identity not configured.&quot;);
            return;
        }
        if (this.usernameWithSalt == null || this.passwordWithSalt == null || this.secretWithSalt == null) {
            failure(&quot;Please log in before performing this operation.&quot;);
            return;
        }
        var r = new EbacCredentialRequest();
        r.username = this.usernameWithSalt;
        r.password = this.passwordWithSalt;
        var fd = new FormData();
        fd.append(&quot;credentialRequest&quot;, r.toJson());
        var me = this;
        EcRemote.postExpectingObject(this.server, &quot;sky/id/login&quot;, fd, function(arg0) {
            var cs = arg0;
            me.pad = cs.pad;
            me.token = cs.token;
            if (cs.credentials != null) 
                for (var i = 0; i &lt; cs.credentials.length; i++) {
                    var c = cs.credentials[i];
                    var identity = EcIdentity.fromCredential(c, me.secretWithSalt, me.server);
                    EcIdentityManager.addIdentity(identity);
                }
            if (cs.contacts != null) 
                for (var i = 0; i &lt; cs.contacts.length; i++) {
                    var c = cs.contacts[i];
                    var identity = EcContact.fromEncryptedContact(c, me.secretWithSalt, me.server);
                    EcIdentityManager.addContact(identity);
                }
            success(arg0);
        }, function(arg0) {
            failure(arg0);
        });
    };
    /**
     *  Commits credentials in EcIdentityManager to remote server.
     *  &lt;p&gt;
     *  Will trigger pad generation and fail if the pad has not been specified.
     * 
     *  @param {Callback1&lt;String&gt;}   success
     *  @param {Callback1&lt;String&gt;}   failure
     *  @memberOf EcRemoteIdentityManager
     *  @method commit
     */
    prototype.commit = function(success, failure) {
        var service = &quot;sky/id/commit&quot;;
        this.sendCredentials(success, failure, service);
    };
    /**
     *  Creates an account.
     *  &lt;p&gt;
     *  Please note that the remote login server does not throw error messages if
     *  an account creation is blocked due to being a duplicate. This prevents
     *  login probing. This will always succeed (if the request is properly
     *  formed and makes it to the server).
     *  &lt;p&gt;
     *  Will trigger pad generation and fail if the pad has not been specified.
     * 
     *  @param {Callback1&lt;String&gt;}   success
     *                               Callback triggered after successfully creating an account
     *  @param {Callback1&lt;String&gt;}   failure
     *                               Callback triggered if error creating an account
     *  @memberOf EcRemoteIdentityManager
     *  @method create
     */
    prototype.create = function(success, failure) {
        var service = &quot;sky/id/create&quot;;
        this.sendCredentials(success, failure, service);
    };
    /**
     *  Sends the identity managers credentials to the service specified
     * 
     *  @param {Callback1&lt;String&gt;}   success
     *                               Callback triggered if credentials sent successfully
     *  @param {Callback1&lt;String&gt;}   failure
     *                               Callback triggered if error sending credentials
     *  @param service               Service to send credentials to on server
     *  @memberOf EcRemoteIdentityManager
     *  @method sendCredentials
     */
    prototype.sendCredentials = function(success, failure, service) {
        if (!this.configured) 
            alert(&quot;Remote Identity not configured.&quot;);
        if (this.usernameWithSalt == null || this.passwordWithSalt == null || this.secretWithSalt == null) {
            alert(&quot;Please log in before performing this operation.&quot;);
            return;
        }
        var credentials = new Array();
        var contacts = new Array();
        for (var i = 0; i &lt; EcIdentityManager.ids.length; i++) {
            var id = EcIdentityManager.ids[i];
            if (id.source != null &amp;&amp; id.source != this.server) 
                continue;
            id.source = this.server;
            credentials.push(id.toCredential(this.secretWithSalt));
        }
        for (var i = 0; i &lt; EcIdentityManager.contacts.length; i++) {
            var id = EcIdentityManager.contacts[i];
            if (id.source != null &amp;&amp; id.source != this.server) 
                continue;
            id.source = this.server;
            contacts.push(id.toEncryptedContact(this.secretWithSalt));
        }
        var commit = new EbacCredentialCommit();
        commit.username = this.usernameWithSalt;
        commit.password = this.passwordWithSalt;
        commit.token = this.token;
        commit.credentials.pad = this.pad;
        commit.credentials.credentials = credentials;
        commit.credentials.contacts = contacts;
        var fd = new FormData();
        fd.append(&quot;credentialCommit&quot;, commit.toJson());
        var me = this;
        EcIdentityManager.signatureSheetAsync(60000, this.server, function(p1) {
            fd.append(&quot;signatureSheet&quot;, p1);
            EcRemote.postExpectingString(me.server, service, fd, function(arg0) {
                success(arg0);
            }, function(arg0) {
                failure(arg0);
            });
        }, failure);
    };
    /**
     *  Splices together passwords (in a fashion more like shuffling a deck of
     *  cards, not appending).
     * 
     *  @param {String[]} passwords
     *                    Passwords to splice.
     *  @return {String}
     *  Spliced password.
     *  @memberOf EcRemoteIdentityManager
     *  @method splicePasswords
     */
    prototype.splicePasswords = function(passwords) {
        var passwordSplice = &quot;&quot;;
        for (var charIndex = 0; charIndex &gt; 0; charIndex++) {
            var foundAny = false;
            for (var passwordIndex = 0; passwordIndex &lt; passwords.length; passwordIndex++) {
                if (charIndex &gt;= passwords[passwordIndex].length) 
                    continue;
                passwordSplice += passwords[passwordIndex].charAt(charIndex);
                foundAny = true;
            }
            if (!foundAny) 
                break;
        }
        return passwordSplice;
    };
}, {}, {});

    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
