<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src/main/js/cass/cass.import.js - CASS Javascript Library</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="http://docs.cassproject.org/img/customLogo-blue.png" title="CASS Javascript Library"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 1.3.2</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/AboutPage.html">AboutPage</a></li>
                                <li><a href="../classes/AcceptAction.html">AcceptAction</a></li>
                                <li><a href="../classes/Accommodation.html">Accommodation</a></li>
                                <li><a href="../classes/AccountingService.html">AccountingService</a></li>
                                <li><a href="../classes/AccreditAction.html">AccreditAction</a></li>
                                <li><a href="../classes/AchieveAction.html">AchieveAction</a></li>
                                <li><a href="../classes/Action.html">Action</a></li>
                                <li><a href="../classes/ActionStatusType.html">ActionStatusType</a></li>
                                <li><a href="../classes/ActivateAction.html">ActivateAction</a></li>
                                <li><a href="../classes/AddAction.html">AddAction</a></li>
                                <li><a href="../classes/AdministrativeArea.html">AdministrativeArea</a></li>
                                <li><a href="../classes/AdultEntertainment.html">AdultEntertainment</a></li>
                                <li><a href="../classes/AdvancedStandingAction.html">AdvancedStandingAction</a></li>
                                <li><a href="../classes/Agent.html">Agent</a></li>
                                <li><a href="../classes/AggregateOffer.html">AggregateOffer</a></li>
                                <li><a href="../classes/AggregateRating.html">AggregateRating</a></li>
                                <li><a href="../classes/AgreeAction.html">AgreeAction</a></li>
                                <li><a href="../classes/Airline.html">Airline</a></li>
                                <li><a href="../classes/Airport.html">Airport</a></li>
                                <li><a href="../classes/AlignmentMap.html">AlignmentMap</a></li>
                                <li><a href="../classes/AlignmentObject.html">AlignmentObject</a></li>
                                <li><a href="../classes/AllocateAction.html">AllocateAction</a></li>
                                <li><a href="../classes/AmusementPark.html">AmusementPark</a></li>
                                <li><a href="../classes/AnimalShelter.html">AnimalShelter</a></li>
                                <li><a href="../classes/Answer.html">Answer</a></li>
                                <li><a href="../classes/Apartment.html">Apartment</a></li>
                                <li><a href="../classes/ApartmentComplex.html">ApartmentComplex</a></li>
                                <li><a href="../classes/APIReference.html">APIReference</a></li>
                                <li><a href="../classes/AppendAction.html">AppendAction</a></li>
                                <li><a href="../classes/ApplyAction.html">ApplyAction</a></li>
                                <li><a href="../classes/ApprenticeshipCertificate.html">ApprenticeshipCertificate</a></li>
                                <li><a href="../classes/ApproveAction.html">ApproveAction</a></li>
                                <li><a href="../classes/Aquarium.html">Aquarium</a></li>
                                <li><a href="../classes/ArriveAction.html">ArriveAction</a></li>
                                <li><a href="../classes/ArtGallery.html">ArtGallery</a></li>
                                <li><a href="../classes/Article.html">Article</a></li>
                                <li><a href="../classes/AskAction.html">AskAction</a></li>
                                <li><a href="../classes/ASNImport.html">ASNImport</a></li>
                                <li><a href="../classes/Assertion.html">Assertion</a></li>
                                <li><a href="../classes/AssertionEnvelope.html">AssertionEnvelope</a></li>
                                <li><a href="../classes/AssertionProcessor.html">AssertionProcessor</a></li>
                                <li><a href="../classes/AssessAction.html">AssessAction</a></li>
                                <li><a href="../classes/Assessment.html">Assessment</a></li>
                                <li><a href="../classes/AssessmentProfile.html">AssessmentProfile</a></li>
                                <li><a href="../classes/AssignAction.html">AssignAction</a></li>
                                <li><a href="../classes/AssociateDegree.html">AssociateDegree</a></li>
                                <li><a href="../classes/Attorney.html">Attorney</a></li>
                                <li><a href="../classes/Audience.html">Audience</a></li>
                                <li><a href="../classes/AudioObject.html">AudioObject</a></li>
                                <li><a href="../classes/AuthorizeAction.html">AuthorizeAction</a></li>
                                <li><a href="../classes/AutoBodyShop.html">AutoBodyShop</a></li>
                                <li><a href="../classes/AutoDealer.html">AutoDealer</a></li>
                                <li><a href="../classes/AutomatedTeller.html">AutomatedTeller</a></li>
                                <li><a href="../classes/AutomotiveBusiness.html">AutomotiveBusiness</a></li>
                                <li><a href="../classes/AutoPartsStore.html">AutoPartsStore</a></li>
                                <li><a href="../classes/AutoRental.html">AutoRental</a></li>
                                <li><a href="../classes/AutoRepair.html">AutoRepair</a></li>
                                <li><a href="../classes/AutoWash.html">AutoWash</a></li>
                                <li><a href="../classes/BachelorDegree.html">BachelorDegree</a></li>
                                <li><a href="../classes/Badge.html">Badge</a></li>
                                <li><a href="../classes/Bakery.html">Bakery</a></li>
                                <li><a href="../classes/BankAccount.html">BankAccount</a></li>
                                <li><a href="../classes/BankOrCreditUnion.html">BankOrCreditUnion</a></li>
                                <li><a href="../classes/Barcode.html">Barcode</a></li>
                                <li><a href="../classes/BarOrPub.html">BarOrPub</a></li>
                                <li><a href="../classes/Beach.html">Beach</a></li>
                                <li><a href="../classes/BeautySalon.html">BeautySalon</a></li>
                                <li><a href="../classes/BedAndBreakfast.html">BedAndBreakfast</a></li>
                                <li><a href="../classes/BedDetails.html">BedDetails</a></li>
                                <li><a href="../classes/BefriendAction.html">BefriendAction</a></li>
                                <li><a href="../classes/BikeStore.html">BikeStore</a></li>
                                <li><a href="../classes/Blog.html">Blog</a></li>
                                <li><a href="../classes/BlogPosting.html">BlogPosting</a></li>
                                <li><a href="../classes/BoardingPolicyType.html">BoardingPolicyType</a></li>
                                <li><a href="../classes/BodyOfWater.html">BodyOfWater</a></li>
                                <li><a href="../classes/Book.html">Book</a></li>
                                <li><a href="../classes/BookFormatType.html">BookFormatType</a></li>
                                <li><a href="../classes/BookmarkAction.html">BookmarkAction</a></li>
                                <li><a href="../classes/BookSeries.html">BookSeries</a></li>
                                <li><a href="../classes/BookStore.html">BookStore</a></li>
                                <li><a href="../classes/BorrowAction.html">BorrowAction</a></li>
                                <li><a href="../classes/BowlingAlley.html">BowlingAlley</a></li>
                                <li><a href="../classes/Brand.html">Brand</a></li>
                                <li><a href="../classes/BreadcrumbList.html">BreadcrumbList</a></li>
                                <li><a href="../classes/Brewery.html">Brewery</a></li>
                                <li><a href="../classes/Bridge.html">Bridge</a></li>
                                <li><a href="../classes/BroadcastChannel.html">BroadcastChannel</a></li>
                                <li><a href="../classes/BroadcastEvent.html">BroadcastEvent</a></li>
                                <li><a href="../classes/BroadcastService.html">BroadcastService</a></li>
                                <li><a href="../classes/BuddhistTemple.html">BuddhistTemple</a></li>
                                <li><a href="../classes/BusinessAudience.html">BusinessAudience</a></li>
                                <li><a href="../classes/BusinessEntityType.html">BusinessEntityType</a></li>
                                <li><a href="../classes/BusinessEvent.html">BusinessEvent</a></li>
                                <li><a href="../classes/BusinessFunction.html">BusinessFunction</a></li>
                                <li><a href="../classes/BusReservation.html">BusReservation</a></li>
                                <li><a href="../classes/BusStation.html">BusStation</a></li>
                                <li><a href="../classes/BusStop.html">BusStop</a></li>
                                <li><a href="../classes/BusTrip.html">BusTrip</a></li>
                                <li><a href="../classes/BuyAction.html">BuyAction</a></li>
                                <li><a href="../classes/CableOrSatelliteService.html">CableOrSatelliteService</a></li>
                                <li><a href="../classes/CafeOrCoffeeShop.html">CafeOrCoffeeShop</a></li>
                                <li><a href="../classes/Campground.html">Campground</a></li>
                                <li><a href="../classes/CampingPitch.html">CampingPitch</a></li>
                                <li><a href="../classes/Canal.html">Canal</a></li>
                                <li><a href="../classes/CancelAction.html">CancelAction</a></li>
                                <li><a href="../classes/Car.html">Car</a></li>
                                <li><a href="../classes/CareerPathway.html">CareerPathway</a></li>
                                <li><a href="../classes/Casino.html">Casino</a></li>
                                <li><a href="../classes/Cass.html">Cass</a></li>
                                <li><a href="../classes/CatholicChurch.html">CatholicChurch</a></li>
                                <li><a href="../classes/CeCompetency.html">CeCompetency</a></li>
                                <li><a href="../classes/Cemetery.html">Cemetery</a></li>
                                <li><a href="../classes/Certificate.html">Certificate</a></li>
                                <li><a href="../classes/Certification.html">Certification</a></li>
                                <li><a href="../classes/CheckAction.html">CheckAction</a></li>
                                <li><a href="../classes/CheckInAction.html">CheckInAction</a></li>
                                <li><a href="../classes/CheckOutAction.html">CheckOutAction</a></li>
                                <li><a href="../classes/CheckoutPage.html">CheckoutPage</a></li>
                                <li><a href="../classes/ChildCare.html">ChildCare</a></li>
                                <li><a href="../classes/ChildrensEvent.html">ChildrensEvent</a></li>
                                <li><a href="../classes/ChooseAction.html">ChooseAction</a></li>
                                <li><a href="../classes/Church.html">Church</a></li>
                                <li><a href="../classes/City.html">City</a></li>
                                <li><a href="../classes/CityHall.html">CityHall</a></li>
                                <li><a href="../classes/CivicStructure.html">CivicStructure</a></li>
                                <li><a href="../classes/ClaimReview.html">ClaimReview</a></li>
                                <li><a href="../classes/Clip.html">Clip</a></li>
                                <li><a href="../classes/ClothingStore.html">ClothingStore</a></li>
                                <li><a href="../classes/Code.html">Code</a></li>
                                <li><a href="../classes/Collection.html">Collection</a></li>
                                <li><a href="../classes/CollectionPage.html">CollectionPage</a></li>
                                <li><a href="../classes/CollegeOrUniversity.html">CollegeOrUniversity</a></li>
                                <li><a href="../classes/ComedyClub.html">ComedyClub</a></li>
                                <li><a href="../classes/ComedyEvent.html">ComedyEvent</a></li>
                                <li><a href="../classes/Comment.html">Comment</a></li>
                                <li><a href="../classes/CommentAction.html">CommentAction</a></li>
                                <li><a href="../classes/CommunicateAction.html">CommunicateAction</a></li>
                                <li><a href="../classes/Competency.html">Competency</a></li>
                                <li><a href="../classes/CompetencyFramework.html">CompetencyFramework</a></li>
                                <li><a href="../classes/CompoundPriceSpecification.html">CompoundPriceSpecification</a></li>
                                <li><a href="../classes/ComputerLanguage.html">ComputerLanguage</a></li>
                                <li><a href="../classes/ComputerStore.html">ComputerStore</a></li>
                                <li><a href="../classes/Concept.html">Concept</a></li>
                                <li><a href="../classes/ConceptScheme.html">ConceptScheme</a></li>
                                <li><a href="../classes/ConditionManifest.html">ConditionManifest</a></li>
                                <li><a href="../classes/ConditionProfile.html">ConditionProfile</a></li>
                                <li><a href="../classes/ConfirmAction.html">ConfirmAction</a></li>
                                <li><a href="../classes/ConsumeAction.html">ConsumeAction</a></li>
                                <li><a href="../classes/ContactPage.html">ContactPage</a></li>
                                <li><a href="../classes/ContactPoint.html">ContactPoint</a></li>
                                <li><a href="../classes/ContactPointOption.html">ContactPointOption</a></li>
                                <li><a href="../classes/Continent.html">Continent</a></li>
                                <li><a href="../classes/ControlAction.html">ControlAction</a></li>
                                <li><a href="../classes/ConvenienceStore.html">ConvenienceStore</a></li>
                                <li><a href="../classes/Conversation.html">Conversation</a></li>
                                <li><a href="../classes/CookAction.html">CookAction</a></li>
                                <li><a href="../classes/Corporation.html">Corporation</a></li>
                                <li><a href="../classes/CostManifest.html">CostManifest</a></li>
                                <li><a href="../classes/CostProfile.html">CostProfile</a></li>
                                <li><a href="../classes/Country.html">Country</a></li>
                                <li><a href="../classes/Course.html">Course</a></li>
                                <li><a href="../classes/CourseInstance.html">CourseInstance</a></li>
                                <li><a href="../classes/Courthouse.html">Courthouse</a></li>
                                <li><a href="../classes/CreateAction.html">CreateAction</a></li>
                                <li><a href="../classes/CreativeWork.html">CreativeWork</a></li>
                                <li><a href="../classes/CreativeWorkSeason.html">CreativeWorkSeason</a></li>
                                <li><a href="../classes/CreativeWorkSeries.html">CreativeWorkSeries</a></li>
                                <li><a href="../classes/Credential.html">Credential</a></li>
                                <li><a href="../classes/CredentialAlignmentObject.html">CredentialAlignmentObject</a></li>
                                <li><a href="../classes/CredentialAssertion.html">CredentialAssertion</a></li>
                                <li><a href="../classes/CredentialFramework.html">CredentialFramework</a></li>
                                <li><a href="../classes/CredentialingAction.html">CredentialingAction</a></li>
                                <li><a href="../classes/CredentialOrganization.html">CredentialOrganization</a></li>
                                <li><a href="../classes/CredentialPerson.html">CredentialPerson</a></li>
                                <li><a href="../classes/CreditCard.html">CreditCard</a></li>
                                <li><a href="../classes/Crematorium.html">Crematorium</a></li>
                                <li><a href="../classes/CSVExport.html">CSVExport</a></li>
                                <li><a href="../classes/CSVImport.html">CSVImport</a></li>
                                <li><a href="../classes/CurrencyConversionService.html">CurrencyConversionService</a></li>
                                <li><a href="../classes/DanceEvent.html">DanceEvent</a></li>
                                <li><a href="../classes/DanceGroup.html">DanceGroup</a></li>
                                <li><a href="../classes/DataCatalog.html">DataCatalog</a></li>
                                <li><a href="../classes/DataDownload.html">DataDownload</a></li>
                                <li><a href="../classes/DataFeed.html">DataFeed</a></li>
                                <li><a href="../classes/DataFeedItem.html">DataFeedItem</a></li>
                                <li><a href="../classes/Dataset.html">Dataset</a></li>
                                <li><a href="../classes/DatedMoneySpecification.html">DatedMoneySpecification</a></li>
                                <li><a href="../classes/DayOfWeek.html">DayOfWeek</a></li>
                                <li><a href="../classes/DaySpa.html">DaySpa</a></li>
                                <li><a href="../classes/DeactivateAction.html">DeactivateAction</a></li>
                                <li><a href="../classes/DefenceEstablishment.html">DefenceEstablishment</a></li>
                                <li><a href="../classes/Degree.html">Degree</a></li>
                                <li><a href="../classes/DeleteAction.html">DeleteAction</a></li>
                                <li><a href="../classes/DeliveryChargeSpecification.html">DeliveryChargeSpecification</a></li>
                                <li><a href="../classes/DeliveryEvent.html">DeliveryEvent</a></li>
                                <li><a href="../classes/DeliveryMethod.html">DeliveryMethod</a></li>
                                <li><a href="../classes/Demand.html">Demand</a></li>
                                <li><a href="../classes/Dentist.html">Dentist</a></li>
                                <li><a href="../classes/DepartAction.html">DepartAction</a></li>
                                <li><a href="../classes/DepartmentStore.html">DepartmentStore</a></li>
                                <li><a href="../classes/DepositAccount.html">DepositAccount</a></li>
                                <li><a href="../classes/DigitalBadge.html">DigitalBadge</a></li>
                                <li><a href="../classes/DigitalDocument.html">DigitalDocument</a></li>
                                <li><a href="../classes/DigitalDocumentPermission.html">DigitalDocumentPermission</a></li>
                                <li><a href="../classes/DigitalDocumentPermissionType.html">DigitalDocumentPermissionType</a></li>
                                <li><a href="../classes/Diploma.html">Diploma</a></li>
                                <li><a href="../classes/DisagreeAction.html">DisagreeAction</a></li>
                                <li><a href="../classes/DiscoverAction.html">DiscoverAction</a></li>
                                <li><a href="../classes/DiscussionForumPosting.html">DiscussionForumPosting</a></li>
                                <li><a href="../classes/DislikeAction.html">DislikeAction</a></li>
                                <li><a href="../classes/Distance.html">Distance</a></li>
                                <li><a href="../classes/DoctoralDegree.html">DoctoralDegree</a></li>
                                <li><a href="../classes/DonateAction.html">DonateAction</a></li>
                                <li><a href="../classes/DownloadAction.html">DownloadAction</a></li>
                                <li><a href="../classes/DrawAction.html">DrawAction</a></li>
                                <li><a href="../classes/DrinkAction.html">DrinkAction</a></li>
                                <li><a href="../classes/DriveWheelConfigurationValue.html">DriveWheelConfigurationValue</a></li>
                                <li><a href="../classes/DryCleaningOrLaundry.html">DryCleaningOrLaundry</a></li>
                                <li><a href="../classes/Duration.html">Duration</a></li>
                                <li><a href="../classes/DurationProfile.html">DurationProfile</a></li>
                                <li><a href="../classes/EarningsProfile.html">EarningsProfile</a></li>
                                <li><a href="../classes/EatAction.html">EatAction</a></li>
                                <li><a href="../classes/Ebac.html">Ebac</a></li>
                                <li><a href="../classes/EbacContact.html">EbacContact</a></li>
                                <li><a href="../classes/EbacContactGrant.html">EbacContactGrant</a></li>
                                <li><a href="../classes/EbacCredential.html">EbacCredential</a></li>
                                <li><a href="../classes/EbacCredentialCommit.html">EbacCredentialCommit</a></li>
                                <li><a href="../classes/EbacCredentialRequest.html">EbacCredentialRequest</a></li>
                                <li><a href="../classes/EbacCredentials.html">EbacCredentials</a></li>
                                <li><a href="../classes/EbacEncryptedSecret.html">EbacEncryptedSecret</a></li>
                                <li><a href="../classes/EbacEncryptedValue.html">EbacEncryptedValue</a></li>
                                <li><a href="../classes/EbacSignature.html">EbacSignature</a></li>
                                <li><a href="../classes/EcAes.html">EcAes</a></li>
                                <li><a href="../classes/EcAesCtr.html">EcAesCtr</a></li>
                                <li><a href="../classes/EcAesCtrAsync.html">EcAesCtrAsync</a></li>
                                <li><a href="../classes/EcAesCtrAsyncWorker.html">EcAesCtrAsyncWorker</a></li>
                                <li><a href="../classes/EcAlignment.html">EcAlignment</a></li>
                                <li><a href="../classes/EcArray.html">EcArray</a></li>
                                <li><a href="../classes/EcAsyncHelper.html">EcAsyncHelper</a></li>
                                <li><a href="../classes/EcCompetency.html">EcCompetency</a></li>
                                <li><a href="../classes/EcContact.html">EcContact</a></li>
                                <li><a href="../classes/EcCrypto.html">EcCrypto</a></li>
                                <li><a href="../classes/EcDirectedGraph.html">EcDirectedGraph</a></li>
                                <li><a href="../classes/EcEncryptedValue.html">EcEncryptedValue</a></li>
                                <li><a href="../classes/EcFile.html">EcFile</a></li>
                                <li><a href="../classes/EcFramework.html">EcFramework</a></li>
                                <li><a href="../classes/EcFrameworkGraph.html">EcFrameworkGraph</a></li>
                                <li><a href="../classes/EcIdentity.html">EcIdentity</a></li>
                                <li><a href="../classes/EcIdentityManager.html">EcIdentityManager</a></li>
                                <li><a href="../classes/EcLevel.html">EcLevel</a></li>
                                <li><a href="../classes/EcLinkedData.html">EcLinkedData</a></li>
                                <li><a href="../classes/EcModal.html">EcModal</a></li>
                                <li><a href="../classes/EcObject.html">EcObject</a></li>
                                <li><a href="../classes/EcOverlay.html">EcOverlay</a></li>
                                <li><a href="../classes/EcPk.html">EcPk</a></li>
                                <li><a href="../classes/EcPpk.html">EcPpk</a></li>
                                <li><a href="../classes/EcRemote.html">EcRemote</a></li>
                                <li><a href="../classes/EcRemoteIdentityManager.html">EcRemoteIdentityManager</a></li>
                                <li><a href="../classes/EcRemoteLinkedData.html">EcRemoteLinkedData</a></li>
                                <li><a href="../classes/EcRepository.html">EcRepository</a></li>
                                <li><a href="../classes/EcRollupRule.html">EcRollupRule</a></li>
                                <li><a href="../classes/EcRsaOaep.html">EcRsaOaep</a></li>
                                <li><a href="../classes/EcRsaOaepAsync.html">EcRsaOaepAsync</a></li>
                                <li><a href="../classes/EcRsaOaepAsyncWorker.html">EcRsaOaepAsyncWorker</a></li>
                                <li><a href="../classes/EcScreen.html">EcScreen</a></li>
                                <li><a href="../classes/EcView.html">EcView</a></li>
                                <li><a href="../classes/EducationalAudience.html">EducationalAudience</a></li>
                                <li><a href="../classes/EducationalOrganization.html">EducationalOrganization</a></li>
                                <li><a href="../classes/EducationEvent.html">EducationEvent</a></li>
                                <li><a href="../classes/Electrician.html">Electrician</a></li>
                                <li><a href="../classes/ElectronicsStore.html">ElectronicsStore</a></li>
                                <li><a href="../classes/ElementarySchool.html">ElementarySchool</a></li>
                                <li><a href="../classes/EmailMessage.html">EmailMessage</a></li>
                                <li><a href="../classes/Embassy.html">Embassy</a></li>
                                <li><a href="../classes/EmergencyService.html">EmergencyService</a></li>
                                <li><a href="../classes/EmployeeRole.html">EmployeeRole</a></li>
                                <li><a href="../classes/EmploymentAgency.html">EmploymentAgency</a></li>
                                <li><a href="../classes/EmploymentOutcomeProfile.html">EmploymentOutcomeProfile</a></li>
                                <li><a href="../classes/EndorseAction.html">EndorseAction</a></li>
                                <li><a href="../classes/Energy.html">Energy</a></li>
                                <li><a href="../classes/EngineSpecification.html">EngineSpecification</a></li>
                                <li><a href="../classes/EntertainmentBusiness.html">EntertainmentBusiness</a></li>
                                <li><a href="../classes/EntryPoint.html">EntryPoint</a></li>
                                <li><a href="../classes/Enumeration.html">Enumeration</a></li>
                                <li><a href="../classes/Episode.html">Episode</a></li>
                                <li><a href="../classes/EventReservation.html">EventReservation</a></li>
                                <li><a href="../classes/EventStatusType.html">EventStatusType</a></li>
                                <li><a href="../classes/EventVenue.html">EventVenue</a></li>
                                <li><a href="../classes/ExerciseAction.html">ExerciseAction</a></li>
                                <li><a href="../classes/ExerciseGym.html">ExerciseGym</a></li>
                                <li><a href="../classes/ExhibitionEvent.html">ExhibitionEvent</a></li>
                                <li><a href="../classes/Exporter.html">Exporter</a></li>
                                <li><a href="../classes/FastFoodRestaurant.html">FastFoodRestaurant</a></li>
                                <li><a href="../classes/Festival.html">Festival</a></li>
                                <li><a href="../classes/FilmAction.html">FilmAction</a></li>
                                <li><a href="../classes/FinancialAlignmentObject.html">FinancialAlignmentObject</a></li>
                                <li><a href="../classes/FinancialAssistanceProfile.html">FinancialAssistanceProfile</a></li>
                                <li><a href="../classes/FinancialProduct.html">FinancialProduct</a></li>
                                <li><a href="../classes/FinancialService.html">FinancialService</a></li>
                                <li><a href="../classes/FindAction.html">FindAction</a></li>
                                <li><a href="../classes/FireStation.html">FireStation</a></li>
                                <li><a href="../classes/Flight.html">Flight</a></li>
                                <li><a href="../classes/FlightReservation.html">FlightReservation</a></li>
                                <li><a href="../classes/Florist.html">Florist</a></li>
                                <li><a href="../classes/FollowAction.html">FollowAction</a></li>
                                <li><a href="../classes/FoodEstablishment.html">FoodEstablishment</a></li>
                                <li><a href="../classes/FoodEstablishmentReservation.html">FoodEstablishmentReservation</a></li>
                                <li><a href="../classes/FoodEvent.html">FoodEvent</a></li>
                                <li><a href="../classes/FoodService.html">FoodService</a></li>
                                <li><a href="../classes/Framework.html">Framework</a></li>
                                <li><a href="../classes/FrameworkImport.html">FrameworkImport</a></li>
                                <li><a href="../classes/FurnitureStore.html">FurnitureStore</a></li>
                                <li><a href="../classes/Game.html">Game</a></li>
                                <li><a href="../classes/GamePlayMode.html">GamePlayMode</a></li>
                                <li><a href="../classes/GameServer.html">GameServer</a></li>
                                <li><a href="../classes/GameServerStatus.html">GameServerStatus</a></li>
                                <li><a href="../classes/GardenStore.html">GardenStore</a></li>
                                <li><a href="../classes/GasStation.html">GasStation</a></li>
                                <li><a href="../classes/GatedResidenceCommunity.html">GatedResidenceCommunity</a></li>
                                <li><a href="../classes/GenderType.html">GenderType</a></li>
                                <li><a href="../classes/General.html">General</a></li>
                                <li><a href="../classes/GeneralContractor.html">GeneralContractor</a></li>
                                <li><a href="../classes/GeneralEducationDevelopment.html">GeneralEducationDevelopment</a></li>
                                <li><a href="../classes/GeneralFile.html">GeneralFile</a></li>
                                <li><a href="../classes/GeoCircle.html">GeoCircle</a></li>
                                <li><a href="../classes/GeoCoordinates.html">GeoCoordinates</a></li>
                                <li><a href="../classes/GeoShape.html">GeoShape</a></li>
                                <li><a href="../classes/GiveAction.html">GiveAction</a></li>
                                <li><a href="../classes/GolfCourse.html">GolfCourse</a></li>
                                <li><a href="../classes/GovernmentBuilding.html">GovernmentBuilding</a></li>
                                <li><a href="../classes/GovernmentOffice.html">GovernmentOffice</a></li>
                                <li><a href="../classes/GovernmentOrganization.html">GovernmentOrganization</a></li>
                                <li><a href="../classes/GovernmentPermit.html">GovernmentPermit</a></li>
                                <li><a href="../classes/GovernmentService.html">GovernmentService</a></li>
                                <li><a href="../classes/Graph.html">Graph</a></li>
                                <li><a href="../classes/GroceryStore.html">GroceryStore</a></li>
                                <li><a href="../classes/HairSalon.html">HairSalon</a></li>
                                <li><a href="../classes/HardwareStore.html">HardwareStore</a></li>
                                <li><a href="../classes/HealthAndBeautyBusiness.html">HealthAndBeautyBusiness</a></li>
                                <li><a href="../classes/HealthClub.html">HealthClub</a></li>
                                <li><a href="../classes/HighSchool.html">HighSchool</a></li>
                                <li><a href="../classes/HinduTemple.html">HinduTemple</a></li>
                                <li><a href="../classes/HistoryClosure.html">HistoryClosure</a></li>
                                <li><a href="../classes/HobbyShop.html">HobbyShop</a></li>
                                <li><a href="../classes/HoldersProfile.html">HoldersProfile</a></li>
                                <li><a href="../classes/HomeAndConstructionBusiness.html">HomeAndConstructionBusiness</a></li>
                                <li><a href="../classes/HomeGoodsStore.html">HomeGoodsStore</a></li>
                                <li><a href="../classes/Hospital.html">Hospital</a></li>
                                <li><a href="../classes/Hostel.html">Hostel</a></li>
                                <li><a href="../classes/Hotel.html">Hotel</a></li>
                                <li><a href="../classes/HotelRoom.html">HotelRoom</a></li>
                                <li><a href="../classes/House.html">House</a></li>
                                <li><a href="../classes/HousePainter.html">HousePainter</a></li>
                                <li><a href="../classes/HVACBusiness.html">HVACBusiness</a></li>
                                <li><a href="../classes/Hypergraph.html">Hypergraph</a></li>
                                <li><a href="../classes/IceCreamShop.html">IceCreamShop</a></li>
                                <li><a href="../classes/IdentifierValue.html">IdentifierValue</a></li>
                                <li><a href="../classes/IdentifierValueSet.html">IdentifierValueSet</a></li>
                                <li><a href="../classes/IgnoreAction.html">IgnoreAction</a></li>
                                <li><a href="../classes/ImageGallery.html">ImageGallery</a></li>
                                <li><a href="../classes/ImageObject.html">ImageObject</a></li>
                                <li><a href="../classes/Importer.html">Importer</a></li>
                                <li><a href="../classes/IndividualProduct.html">IndividualProduct</a></li>
                                <li><a href="../classes/IndustryClassification.html">IndustryClassification</a></li>
                                <li><a href="../classes/InformAction.html">InformAction</a></li>
                                <li><a href="../classes/InquiryPacket.html">InquiryPacket</a></li>
                                <li><a href="../classes/InsertAction.html">InsertAction</a></li>
                                <li><a href="../classes/InstallAction.html">InstallAction</a></li>
                                <li><a href="../classes/InstructionalProgramClassification.html">InstructionalProgramClassification</a></li>
                                <li><a href="../classes/InsuranceAgency.html">InsuranceAgency</a></li>
                                <li><a href="../classes/Intangible.html">Intangible</a></li>
                                <li><a href="../classes/InteractAction.html">InteractAction</a></li>
                                <li><a href="../classes/InteractionCounter.html">InteractionCounter</a></li>
                                <li><a href="../classes/InternetCafe.html">InternetCafe</a></li>
                                <li><a href="../classes/InvestmentOrDeposit.html">InvestmentOrDeposit</a></li>
                                <li><a href="../classes/InviteAction.html">InviteAction</a></li>
                                <li><a href="../classes/Invoice.html">Invoice</a></li>
                                <li><a href="../classes/ItemAvailability.html">ItemAvailability</a></li>
                                <li><a href="../classes/ItemList.html">ItemList</a></li>
                                <li><a href="../classes/ItemListOrderType.html">ItemListOrderType</a></li>
                                <li><a href="../classes/ItemPage.html">ItemPage</a></li>
                                <li><a href="../classes/JewelryStore.html">JewelryStore</a></li>
                                <li><a href="../classes/JobPosting.html">JobPosting</a></li>
                                <li><a href="../classes/JoinAction.html">JoinAction</a></li>
                                <li><a href="../classes/JourneymanCertificate.html">JourneymanCertificate</a></li>
                                <li><a href="../classes/JurisdictionProfile.html">JurisdictionProfile</a></li>
                                <li><a href="../classes/LakeBodyOfWater.html">LakeBodyOfWater</a></li>
                                <li><a href="../classes/Landform.html">Landform</a></li>
                                <li><a href="../classes/LandmarksOrHistoricalBuildings.html">LandmarksOrHistoricalBuildings</a></li>
                                <li><a href="../classes/Language.html">Language</a></li>
                                <li><a href="../classes/LearningOpportunity.html">LearningOpportunity</a></li>
                                <li><a href="../classes/LearningOpportunityProfile.html">LearningOpportunityProfile</a></li>
                                <li><a href="../classes/LearningResource.html">LearningResource</a></li>
                                <li><a href="../classes/LeaveAction.html">LeaveAction</a></li>
                                <li><a href="../classes/LegalService.html">LegalService</a></li>
                                <li><a href="../classes/LegislativeBuilding.html">LegislativeBuilding</a></li>
                                <li><a href="../classes/LendAction.html">LendAction</a></li>
                                <li><a href="../classes/Level.html">Level</a></li>
                                <li><a href="../classes/Library.html">Library</a></li>
                                <li><a href="../classes/License.html">License</a></li>
                                <li><a href="../classes/LikeAction.html">LikeAction</a></li>
                                <li><a href="../classes/LiquorStore.html">LiquorStore</a></li>
                                <li><a href="../classes/ListenAction.html">ListenAction</a></li>
                                <li><a href="../classes/ListItem.html">ListItem</a></li>
                                <li><a href="../classes/LiteraryEvent.html">LiteraryEvent</a></li>
                                <li><a href="../classes/LiveBlogPosting.html">LiveBlogPosting</a></li>
                                <li><a href="../classes/LoanOrCredit.html">LoanOrCredit</a></li>
                                <li><a href="../classes/LocalBusiness.html">LocalBusiness</a></li>
                                <li><a href="../classes/LocationFeatureSpecification.html">LocationFeatureSpecification</a></li>
                                <li><a href="../classes/LockerDelivery.html">LockerDelivery</a></li>
                                <li><a href="../classes/Locksmith.html">Locksmith</a></li>
                                <li><a href="../classes/LodgingBusiness.html">LodgingBusiness</a></li>
                                <li><a href="../classes/LodgingReservation.html">LodgingReservation</a></li>
                                <li><a href="../classes/LoseAction.html">LoseAction</a></li>
                                <li><a href="../classes/Map.html">Map</a></li>
                                <li><a href="../classes/MapCategoryType.html">MapCategoryType</a></li>
                                <li><a href="../classes/MarryAction.html">MarryAction</a></li>
                                <li><a href="../classes/Mass.html">Mass</a></li>
                                <li><a href="../classes/MasterCertificate.html">MasterCertificate</a></li>
                                <li><a href="../classes/MasterDegree.html">MasterDegree</a></li>
                                <li><a href="../classes/MedbiqImport.html">MedbiqImport</a></li>
                                <li><a href="../classes/MediaObject.html">MediaObject</a></li>
                                <li><a href="../classes/MedicalOrganization.html">MedicalOrganization</a></li>
                                <li><a href="../classes/MeetingRoom.html">MeetingRoom</a></li>
                                <li><a href="../classes/MensClothingStore.html">MensClothingStore</a></li>
                                <li><a href="../classes/Menu.html">Menu</a></li>
                                <li><a href="../classes/MenuItem.html">MenuItem</a></li>
                                <li><a href="../classes/MenuSection.html">MenuSection</a></li>
                                <li><a href="../classes/Message.html">Message</a></li>
                                <li><a href="../classes/MicroCredential.html">MicroCredential</a></li>
                                <li><a href="../classes/MiddleSchool.html">MiddleSchool</a></li>
                                <li><a href="../classes/MobileApplication.html">MobileApplication</a></li>
                                <li><a href="../classes/MobilePhoneStore.html">MobilePhoneStore</a></li>
                                <li><a href="../classes/ModalManager.html">ModalManager</a></li>
                                <li><a href="../classes/MonetaryAmount.html">MonetaryAmount</a></li>
                                <li><a href="../classes/MoodleConfig.html">MoodleConfig</a></li>
                                <li><a href="../classes/Mosque.html">Mosque</a></li>
                                <li><a href="../classes/Motel.html">Motel</a></li>
                                <li><a href="../classes/MotorcycleDealer.html">MotorcycleDealer</a></li>
                                <li><a href="../classes/MotorcycleRepair.html">MotorcycleRepair</a></li>
                                <li><a href="../classes/Mountain.html">Mountain</a></li>
                                <li><a href="../classes/MoveAction.html">MoveAction</a></li>
                                <li><a href="../classes/Movie.html">Movie</a></li>
                                <li><a href="../classes/MovieClip.html">MovieClip</a></li>
                                <li><a href="../classes/MovieRentalStore.html">MovieRentalStore</a></li>
                                <li><a href="../classes/MovieSeries.html">MovieSeries</a></li>
                                <li><a href="../classes/MovieTheater.html">MovieTheater</a></li>
                                <li><a href="../classes/MovingCompany.html">MovingCompany</a></li>
                                <li><a href="../classes/Museum.html">Museum</a></li>
                                <li><a href="../classes/MusicAlbum.html">MusicAlbum</a></li>
                                <li><a href="../classes/MusicAlbumProductionType.html">MusicAlbumProductionType</a></li>
                                <li><a href="../classes/MusicAlbumReleaseType.html">MusicAlbumReleaseType</a></li>
                                <li><a href="../classes/MusicComposition.html">MusicComposition</a></li>
                                <li><a href="../classes/MusicEvent.html">MusicEvent</a></li>
                                <li><a href="../classes/MusicGroup.html">MusicGroup</a></li>
                                <li><a href="../classes/MusicPlaylist.html">MusicPlaylist</a></li>
                                <li><a href="../classes/MusicRecording.html">MusicRecording</a></li>
                                <li><a href="../classes/MusicRelease.html">MusicRelease</a></li>
                                <li><a href="../classes/MusicReleaseFormatType.html">MusicReleaseFormatType</a></li>
                                <li><a href="../classes/MusicStore.html">MusicStore</a></li>
                                <li><a href="../classes/MusicVenue.html">MusicVenue</a></li>
                                <li><a href="../classes/MusicVideoObject.html">MusicVideoObject</a></li>
                                <li><a href="../classes/NailSalon.html">NailSalon</a></li>
                                <li><a href="../classes/NewsArticle.html">NewsArticle</a></li>
                                <li><a href="../classes/NGO.html">NGO</a></li>
                                <li><a href="../classes/NightClub.html">NightClub</a></li>
                                <li><a href="../classes/Notary.html">Notary</a></li>
                                <li><a href="../classes/NoteDigitalDocument.html">NoteDigitalDocument</a></li>
                                <li><a href="../classes/NutritionInformation.html">NutritionInformation</a></li>
                                <li><a href="../classes/OccupationClassification.html">OccupationClassification</a></li>
                                <li><a href="../classes/OceanBodyOfWater.html">OceanBodyOfWater</a></li>
                                <li><a href="../classes/Offer.html">Offer</a></li>
                                <li><a href="../classes/OfferAction.html">OfferAction</a></li>
                                <li><a href="../classes/OfferCatalog.html">OfferCatalog</a></li>
                                <li><a href="../classes/OfferItemCondition.html">OfferItemCondition</a></li>
                                <li><a href="../classes/OfficeEquipmentStore.html">OfficeEquipmentStore</a></li>
                                <li><a href="../classes/OnDemandEvent.html">OnDemandEvent</a></li>
                                <li><a href="../classes/OpenBadge.html">OpenBadge</a></li>
                                <li><a href="../classes/OpeningHoursSpecification.html">OpeningHoursSpecification</a></li>
                                <li><a href="../classes/Order.html">Order</a></li>
                                <li><a href="../classes/OrderAction.html">OrderAction</a></li>
                                <li><a href="../classes/OrderedCollection.html">OrderedCollection</a></li>
                                <li><a href="../classes/OrderItem.html">OrderItem</a></li>
                                <li><a href="../classes/OrderStatus.html">OrderStatus</a></li>
                                <li><a href="../classes/Organization.html">Organization</a></li>
                                <li><a href="../classes/OrganizationRole.html">OrganizationRole</a></li>
                                <li><a href="../classes/OrganizeAction.html">OrganizeAction</a></li>
                                <li><a href="../classes/OutletStore.html">OutletStore</a></li>
                                <li><a href="../classes/OverlayManager.html">OverlayManager</a></li>
                                <li><a href="../classes/OwnershipInfo.html">OwnershipInfo</a></li>
                                <li><a href="../classes/PaintAction.html">PaintAction</a></li>
                                <li><a href="../classes/Painting.html">Painting</a></li>
                                <li><a href="../classes/ParcelDelivery.html">ParcelDelivery</a></li>
                                <li><a href="../classes/ParcelService.html">ParcelService</a></li>
                                <li><a href="../classes/ParentAudience.html">ParentAudience</a></li>
                                <li><a href="../classes/Park.html">Park</a></li>
                                <li><a href="../classes/ParkingFacility.html">ParkingFacility</a></li>
                                <li><a href="../classes/PawnShop.html">PawnShop</a></li>
                                <li><a href="../classes/PayAction.html">PayAction</a></li>
                                <li><a href="../classes/PaymentCard.html">PaymentCard</a></li>
                                <li><a href="../classes/PaymentChargeSpecification.html">PaymentChargeSpecification</a></li>
                                <li><a href="../classes/PaymentMethod.html">PaymentMethod</a></li>
                                <li><a href="../classes/PaymentService.html">PaymentService</a></li>
                                <li><a href="../classes/PaymentStatusType.html">PaymentStatusType</a></li>
                                <li><a href="../classes/PeopleAudience.html">PeopleAudience</a></li>
                                <li><a href="../classes/PerformAction.html">PerformAction</a></li>
                                <li><a href="../classes/PerformanceRole.html">PerformanceRole</a></li>
                                <li><a href="../classes/PerformingArtsTheater.html">PerformingArtsTheater</a></li>
                                <li><a href="../classes/PerformingGroup.html">PerformingGroup</a></li>
                                <li><a href="../classes/Periodical.html">Periodical</a></li>
                                <li><a href="../classes/Permit.html">Permit</a></li>
                                <li><a href="../classes/Person.html">Person</a></li>
                                <li><a href="../classes/PetStore.html">PetStore</a></li>
                                <li><a href="../classes/Pharmacy.html">Pharmacy</a></li>
                                <li><a href="../classes/Photograph.html">Photograph</a></li>
                                <li><a href="../classes/PhotographAction.html">PhotographAction</a></li>
                                <li><a href="../classes/Physician.html">Physician</a></li>
                                <li><a href="../classes/Place.html">Place</a></li>
                                <li><a href="../classes/PlaceOfWorship.html">PlaceOfWorship</a></li>
                                <li><a href="../classes/PlanAction.html">PlanAction</a></li>
                                <li><a href="../classes/PlayAction.html">PlayAction</a></li>
                                <li><a href="../classes/Playground.html">Playground</a></li>
                                <li><a href="../classes/Plumber.html">Plumber</a></li>
                                <li><a href="../classes/PoliceStation.html">PoliceStation</a></li>
                                <li><a href="../classes/Pond.html">Pond</a></li>
                                <li><a href="../classes/PostalAddress.html">PostalAddress</a></li>
                                <li><a href="../classes/PostOffice.html">PostOffice</a></li>
                                <li><a href="../classes/PrependAction.html">PrependAction</a></li>
                                <li><a href="../classes/Preschool.html">Preschool</a></li>
                                <li><a href="../classes/PresentationDigitalDocument.html">PresentationDigitalDocument</a></li>
                                <li><a href="../classes/PriceSpecification.html">PriceSpecification</a></li>
                                <li><a href="../classes/ProcessProfile.html">ProcessProfile</a></li>
                                <li><a href="../classes/Product.html">Product</a></li>
                                <li><a href="../classes/ProductModel.html">ProductModel</a></li>
                                <li><a href="../classes/ProfessionalDoctorate.html">ProfessionalDoctorate</a></li>
                                <li><a href="../classes/ProfessionalService.html">ProfessionalService</a></li>
                                <li><a href="../classes/ProficiencyScale.html">ProficiencyScale</a></li>
                                <li><a href="../classes/ProfilePage.html">ProfilePage</a></li>
                                <li><a href="../classes/ProfileProcessor.html">ProfileProcessor</a></li>
                                <li><a href="../classes/ProgramMembership.html">ProgramMembership</a></li>
                                <li><a href="../classes/PropertyValue.html">PropertyValue</a></li>
                                <li><a href="../classes/PropertyValueSpecification.html">PropertyValueSpecification</a></li>
                                <li><a href="../classes/PublicationEvent.html">PublicationEvent</a></li>
                                <li><a href="../classes/PublicationIssue.html">PublicationIssue</a></li>
                                <li><a href="../classes/PublicationVolume.html">PublicationVolume</a></li>
                                <li><a href="../classes/PublicSwimmingPool.html">PublicSwimmingPool</a></li>
                                <li><a href="../classes/QACredentialOrganization.html">QACredentialOrganization</a></li>
                                <li><a href="../classes/QAPage.html">QAPage</a></li>
                                <li><a href="../classes/QualitativeValue.html">QualitativeValue</a></li>
                                <li><a href="../classes/QualityAssuranceCredential.html">QualityAssuranceCredential</a></li>
                                <li><a href="../classes/QuantitativeValue.html">QuantitativeValue</a></li>
                                <li><a href="../classes/Quantity.html">Quantity</a></li>
                                <li><a href="../classes/Question.html">Question</a></li>
                                <li><a href="../classes/QuoteAction.html">QuoteAction</a></li>
                                <li><a href="../classes/RadioChannel.html">RadioChannel</a></li>
                                <li><a href="../classes/RadioClip.html">RadioClip</a></li>
                                <li><a href="../classes/RadioEpisode.html">RadioEpisode</a></li>
                                <li><a href="../classes/RadioSeason.html">RadioSeason</a></li>
                                <li><a href="../classes/RadioSeries.html">RadioSeries</a></li>
                                <li><a href="../classes/RadioStation.html">RadioStation</a></li>
                                <li><a href="../classes/Rating.html">Rating</a></li>
                                <li><a href="../classes/ReactAction.html">ReactAction</a></li>
                                <li><a href="../classes/ReadAction.html">ReadAction</a></li>
                                <li><a href="../classes/RealEstateAgent.html">RealEstateAgent</a></li>
                                <li><a href="../classes/ReceiveAction.html">ReceiveAction</a></li>
                                <li><a href="../classes/Recipe.html">Recipe</a></li>
                                <li><a href="../classes/RecognizeAction.html">RecognizeAction</a></li>
                                <li><a href="../classes/RecyclingCenter.html">RecyclingCenter</a></li>
                                <li><a href="../classes/RegisterAction.html">RegisterAction</a></li>
                                <li><a href="../classes/RegulateAction.html">RegulateAction</a></li>
                                <li><a href="../classes/RejectAction.html">RejectAction</a></li>
                                <li><a href="../classes/Relation.html">Relation</a></li>
                                <li><a href="../classes/RelationshipPacketGenerator.html">RelationshipPacketGenerator</a></li>
                                <li><a href="../classes/RenewAction.html">RenewAction</a></li>
                                <li><a href="../classes/RentAction.html">RentAction</a></li>
                                <li><a href="../classes/RentalCarReservation.html">RentalCarReservation</a></li>
                                <li><a href="../classes/ReplaceAction.html">ReplaceAction</a></li>
                                <li><a href="../classes/ReplyAction.html">ReplyAction</a></li>
                                <li><a href="../classes/Report.html">Report</a></li>
                                <li><a href="../classes/ResearchDoctorate.html">ResearchDoctorate</a></li>
                                <li><a href="../classes/Reservation.html">Reservation</a></li>
                                <li><a href="../classes/ReservationPackage.html">ReservationPackage</a></li>
                                <li><a href="../classes/ReservationStatusType.html">ReservationStatusType</a></li>
                                <li><a href="../classes/ReserveAction.html">ReserveAction</a></li>
                                <li><a href="../classes/Reservoir.html">Reservoir</a></li>
                                <li><a href="../classes/Residence.html">Residence</a></li>
                                <li><a href="../classes/Resort.html">Resort</a></li>
                                <li><a href="../classes/Restaurant.html">Restaurant</a></li>
                                <li><a href="../classes/RestrictedDiet.html">RestrictedDiet</a></li>
                                <li><a href="../classes/ResumeAction.html">ResumeAction</a></li>
                                <li><a href="../classes/ReturnAction.html">ReturnAction</a></li>
                                <li><a href="../classes/Review.html">Review</a></li>
                                <li><a href="../classes/ReviewAction.html">ReviewAction</a></li>
                                <li><a href="../classes/RevocationProfile.html">RevocationProfile</a></li>
                                <li><a href="../classes/RevokeAction.html">RevokeAction</a></li>
                                <li><a href="../classes/RightsAction.html">RightsAction</a></li>
                                <li><a href="../classes/RiverBodyOfWater.html">RiverBodyOfWater</a></li>
                                <li><a href="../classes/Role.html">Role</a></li>
                                <li><a href="../classes/RollupRule.html">RollupRule</a></li>
                                <li><a href="../classes/RoofingContractor.html">RoofingContractor</a></li>
                                <li><a href="../classes/Room.html">Room</a></li>
                                <li><a href="../classes/RsvpAction.html">RsvpAction</a></li>
                                <li><a href="../classes/RsvpResponseType.html">RsvpResponseType</a></li>
                                <li><a href="../classes/RVPark.html">RVPark</a></li>
                                <li><a href="../classes/SaleEvent.html">SaleEvent</a></li>
                                <li><a href="../classes/ScheduleAction.html">ScheduleAction</a></li>
                                <li><a href="../classes/SchemaEvent.html">SchemaEvent</a></li>
                                <li><a href="../classes/ScholarlyArticle.html">ScholarlyArticle</a></li>
                                <li><a href="../classes/School.html">School</a></li>
                                <li><a href="../classes/ScreeningEvent.html">ScreeningEvent</a></li>
                                <li><a href="../classes/Screenmanager.html">Screenmanager</a></li>
                                <li><a href="../classes/Sculpture.html">Sculpture</a></li>
                                <li><a href="../classes/SeaBodyOfWater.html">SeaBodyOfWater</a></li>
                                <li><a href="../classes/SearchAction.html">SearchAction</a></li>
                                <li><a href="../classes/SearchResultsPage.html">SearchResultsPage</a></li>
                                <li><a href="../classes/Season.html">Season</a></li>
                                <li><a href="../classes/Seat.html">Seat</a></li>
                                <li><a href="../classes/SecondarySchoolDiploma.html">SecondarySchoolDiploma</a></li>
                                <li><a href="../classes/SelfStorage.html">SelfStorage</a></li>
                                <li><a href="../classes/SellAction.html">SellAction</a></li>
                                <li><a href="../classes/SendAction.html">SendAction</a></li>
                                <li><a href="../classes/Series.html">Series</a></li>
                                <li><a href="../classes/Service.html">Service</a></li>
                                <li><a href="../classes/ServiceChannel.html">ServiceChannel</a></li>
                                <li><a href="../classes/ShareAction.html">ShareAction</a></li>
                                <li><a href="../classes/ShoeStore.html">ShoeStore</a></li>
                                <li><a href="../classes/ShoppingCenter.html">ShoppingCenter</a></li>
                                <li><a href="../classes/SingleFamilyResidence.html">SingleFamilyResidence</a></li>
                                <li><a href="../classes/SiteNavigationElement.html">SiteNavigationElement</a></li>
                                <li><a href="../classes/SkiResort.html">SkiResort</a></li>
                                <li><a href="../classes/SocialEvent.html">SocialEvent</a></li>
                                <li><a href="../classes/SocialMediaPosting.html">SocialMediaPosting</a></li>
                                <li><a href="../classes/SoftwareApplication.html">SoftwareApplication</a></li>
                                <li><a href="../classes/SoftwareSourceCode.html">SoftwareSourceCode</a></li>
                                <li><a href="../classes/SomeProducts.html">SomeProducts</a></li>
                                <li><a href="../classes/Specialty.html">Specialty</a></li>
                                <li><a href="../classes/SportingGoodsStore.html">SportingGoodsStore</a></li>
                                <li><a href="../classes/SportsActivityLocation.html">SportsActivityLocation</a></li>
                                <li><a href="../classes/SportsClub.html">SportsClub</a></li>
                                <li><a href="../classes/SportsEvent.html">SportsEvent</a></li>
                                <li><a href="../classes/SportsOrganization.html">SportsOrganization</a></li>
                                <li><a href="../classes/SportsTeam.html">SportsTeam</a></li>
                                <li><a href="../classes/SpreadsheetDigitalDocument.html">SpreadsheetDigitalDocument</a></li>
                                <li><a href="../classes/StadiumOrArena.html">StadiumOrArena</a></li>
                                <li><a href="../classes/State.html">State</a></li>
                                <li><a href="../classes/SteeringPositionValue.html">SteeringPositionValue</a></li>
                                <li><a href="../classes/Store.html">Store</a></li>
                                <li><a href="../classes/StructuredValue.html">StructuredValue</a></li>
                                <li><a href="../classes/SubscribeAction.html">SubscribeAction</a></li>
                                <li><a href="../classes/SubwayStation.html">SubwayStation</a></li>
                                <li><a href="../classes/Suite.html">Suite</a></li>
                                <li><a href="../classes/SuspendAction.html">SuspendAction</a></li>
                                <li><a href="../classes/Synagogue.html">Synagogue</a></li>
                                <li><a href="../classes/Table.html">Table</a></li>
                                <li><a href="../classes/TakeAction.html">TakeAction</a></li>
                                <li><a href="../classes/Task.html">Task</a></li>
                                <li><a href="../classes/TaskProfile.html">TaskProfile</a></li>
                                <li><a href="../classes/TattooParlor.html">TattooParlor</a></li>
                                <li><a href="../classes/Taxi.html">Taxi</a></li>
                                <li><a href="../classes/TaxiReservation.html">TaxiReservation</a></li>
                                <li><a href="../classes/TaxiService.html">TaxiService</a></li>
                                <li><a href="../classes/TaxiStand.html">TaxiStand</a></li>
                                <li><a href="../classes/TechArticle.html">TechArticle</a></li>
                                <li><a href="../classes/TelevisionChannel.html">TelevisionChannel</a></li>
                                <li><a href="../classes/TelevisionStation.html">TelevisionStation</a></li>
                                <li><a href="../classes/TennisComplex.html">TennisComplex</a></li>
                                <li><a href="../classes/TextDigitalDocument.html">TextDigitalDocument</a></li>
                                <li><a href="../classes/TheaterEvent.html">TheaterEvent</a></li>
                                <li><a href="../classes/TheaterGroup.html">TheaterGroup</a></li>
                                <li><a href="../classes/Thing.html">Thing</a></li>
                                <li><a href="../classes/Ticket.html">Ticket</a></li>
                                <li><a href="../classes/TieAction.html">TieAction</a></li>
                                <li><a href="../classes/TipAction.html">TipAction</a></li>
                                <li><a href="../classes/TireShop.html">TireShop</a></li>
                                <li><a href="../classes/TouristAttraction.html">TouristAttraction</a></li>
                                <li><a href="../classes/TouristInformationCenter.html">TouristInformationCenter</a></li>
                                <li><a href="../classes/ToyStore.html">ToyStore</a></li>
                                <li><a href="../classes/TrackAction.html">TrackAction</a></li>
                                <li><a href="../classes/TradeAction.html">TradeAction</a></li>
                                <li><a href="../classes/TrainReservation.html">TrainReservation</a></li>
                                <li><a href="../classes/TrainStation.html">TrainStation</a></li>
                                <li><a href="../classes/TrainTrip.html">TrainTrip</a></li>
                                <li><a href="../classes/TransferAction.html">TransferAction</a></li>
                                <li><a href="../classes/TravelAction.html">TravelAction</a></li>
                                <li><a href="../classes/TravelAgency.html">TravelAgency</a></li>
                                <li><a href="../classes/Triple.html">Triple</a></li>
                                <li><a href="../classes/TVClip.html">TVClip</a></li>
                                <li><a href="../classes/TVEpisode.html">TVEpisode</a></li>
                                <li><a href="../classes/TVSeason.html">TVSeason</a></li>
                                <li><a href="../classes/TVSeries.html">TVSeries</a></li>
                                <li><a href="../classes/TypeAndQuantityNode.html">TypeAndQuantityNode</a></li>
                                <li><a href="../classes/UnitPriceSpecification.html">UnitPriceSpecification</a></li>
                                <li><a href="../classes/UnRegisterAction.html">UnRegisterAction</a></li>
                                <li><a href="../classes/UpdateAction.html">UpdateAction</a></li>
                                <li><a href="../classes/UseAction.html">UseAction</a></li>
                                <li><a href="../classes/UserBlocks.html">UserBlocks</a></li>
                                <li><a href="../classes/UserCheckins.html">UserCheckins</a></li>
                                <li><a href="../classes/UserComments.html">UserComments</a></li>
                                <li><a href="../classes/UserDownloads.html">UserDownloads</a></li>
                                <li><a href="../classes/UserInteraction.html">UserInteraction</a></li>
                                <li><a href="../classes/UserLikes.html">UserLikes</a></li>
                                <li><a href="../classes/UserPageVisits.html">UserPageVisits</a></li>
                                <li><a href="../classes/UserPlays.html">UserPlays</a></li>
                                <li><a href="../classes/UserPlusOnes.html">UserPlusOnes</a></li>
                                <li><a href="../classes/UserTweets.html">UserTweets</a></li>
                                <li><a href="../classes/Vehicle.html">Vehicle</a></li>
                                <li><a href="../classes/VerificationServiceProfile.html">VerificationServiceProfile</a></li>
                                <li><a href="../classes/VideoGallery.html">VideoGallery</a></li>
                                <li><a href="../classes/VideoGame.html">VideoGame</a></li>
                                <li><a href="../classes/VideoGameClip.html">VideoGameClip</a></li>
                                <li><a href="../classes/VideoGameSeries.html">VideoGameSeries</a></li>
                                <li><a href="../classes/VideoObject.html">VideoObject</a></li>
                                <li><a href="../classes/ViewAction.html">ViewAction</a></li>
                                <li><a href="../classes/ViewManager.html">ViewManager</a></li>
                                <li><a href="../classes/VisualArtsEvent.html">VisualArtsEvent</a></li>
                                <li><a href="../classes/VisualArtwork.html">VisualArtwork</a></li>
                                <li><a href="../classes/Volcano.html">Volcano</a></li>
                                <li><a href="../classes/VoteAction.html">VoteAction</a></li>
                                <li><a href="../classes/WantAction.html">WantAction</a></li>
                                <li><a href="../classes/WarrantyPromise.html">WarrantyPromise</a></li>
                                <li><a href="../classes/WarrantyScope.html">WarrantyScope</a></li>
                                <li><a href="../classes/WatchAction.html">WatchAction</a></li>
                                <li><a href="../classes/Waterfall.html">Waterfall</a></li>
                                <li><a href="../classes/WearAction.html">WearAction</a></li>
                                <li><a href="../classes/WebApplication.html">WebApplication</a></li>
                                <li><a href="../classes/WebPage.html">WebPage</a></li>
                                <li><a href="../classes/WebPageElement.html">WebPageElement</a></li>
                                <li><a href="../classes/WebSite.html">WebSite</a></li>
                                <li><a href="../classes/WholesaleStore.html">WholesaleStore</a></li>
                                <li><a href="../classes/WinAction.html">WinAction</a></li>
                                <li><a href="../classes/Winery.html">Winery</a></li>
                                <li><a href="../classes/WPAdBlock.html">WPAdBlock</a></li>
                                <li><a href="../classes/WPFooter.html">WPFooter</a></li>
                                <li><a href="../classes/WPHeader.html">WPHeader</a></li>
                                <li><a href="../classes/WPSideBar.html">WPSideBar</a></li>
                                <li><a href="../classes/WriteAction.html">WriteAction</a></li>
                                <li><a href="../classes/XapiConfig.html">XapiConfig</a></li>
                                <li><a href="../classes/Zoo.html">Zoo</a></li>
                            </ul>
                
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/com.eduworks.ec.html">com.eduworks.ec</a></li>
                                <li><a href="../modules/com.eduworks.ec.ui.html">com.eduworks.ec.ui</a></li>
                                <li><a href="../modules/org.cassproject.html">org.cassproject</a></li>
                                <li><a href="../modules/org.credentialengine.html">org.credentialengine</a></li>
                                <li><a href="../modules/org.json.ld.html">org.json.ld</a></li>
                                <li><a href="../modules/org.schema.html">org.schema</a></li>
                                <li><a href="../modules/org.w3.skos.html">org.w3.skos</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: src/main/js/cass/cass.import.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/*-
 * --BEGIN_LICENSE--
 * Competency and Skills System
 * -----
 * Copyright (C) 2015 - 2020 Eduworks Corporation and other contributing parties.
 * -----
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *      http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * --END_LICENSE--
 */
/**
 *  Base class for all importers, can hold helper functions
 *  that are useful for all importers
 * 
 *  @author devlin.junker@eduworks.com
 *  @module org.cassproject
 *  @class Importer
 *  @abstract
 */
var Importer = function() {};
Importer = stjs.extend(Importer, null, [], function(constructor, prototype) {
    constructor.isObject = function(obj) {
        return Object.prototype.toString.call(obj) == &quot;[object Object]&quot;;
    };
    constructor.isArray = function(obj) {
        return Object.prototype.toString.call(obj) == &quot;[object Array]&quot;;
    };
}, {}, {});
/**
 *  Base class for all exporters, can hold helper functions
 *  that are useful for all exporters
 * 
 *  @author devlin.junker@eduworks.com
 *  @module org.cassproject
 *  @class Exporter
 *  @abstract
 */
var Exporter = function() {};
Exporter = stjs.extend(Exporter, null, [], null, {}, {});
var PapaParseParams = function() {};
PapaParseParams = stjs.extend(PapaParseParams, null, [], function(constructor, prototype) {
    prototype.complete = null;
    prototype.header = null;
    prototype.error = null;
    prototype.encoding = null;
}, {complete: {name: &quot;Callback1&quot;, arguments: [&quot;Object&quot;]}, error: {name: &quot;Callback1&quot;, arguments: [&quot;Object&quot;]}}, {});
/**
 *  Import methods to handle an ASN JSON file containing a framework,
 *  competencies and relationships, and store them in a CASS instance
 * 
 *  @author devlin.junker@eduworks.com
 *  @author fritz.ray@eduworks.com
 *  @module org.cassproject
 *  @class ASNImport
 *  @static
 *  @extends Importer
 */
var ASNImport = function() {
    Importer.call(this);
};
ASNImport = stjs.extend(ASNImport, Importer, [], function(constructor, prototype) {
    constructor.INCREMENTAL_STEP = 5;
    constructor.jsonFramework = null;
    constructor.frameworkUrl = null;
    constructor.jsonCompetencies = null;
    constructor.competencyCount = 0;
    constructor.relationCount = 0;
    constructor.importedFramework = null;
    constructor.competencies = null;
    constructor.progressObject = null;
    constructor.savedCompetencies = 0;
    constructor.savedRelations = 0;
    /**
     *  Recursive function that looks through the file and saves each
     *  competency object in a map for use during importing. It also counts
     *  the number of competencies and relationships that it finds
     * 
     *  @param {Object} obj
     *                  The current JSON object we&#x27;re examining for comepetencies and reationships
     *  @param {String} key
     *                  The ASN identifier of the current object
     *  @memberOf ASNImport
     *  @method asnJsonPrime
     *  @private
     *  @static
     */
    constructor.asnJsonPrime = function(obj, key) {
        var value = (obj)[key];
        if (Importer.isObject(value)) {
            if ((value)[&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&quot;] != null) {
                var stringVal = (((value)[&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&quot;])[&quot;0&quot;])[&quot;value&quot;];
                if (stringVal == &quot;http://purl.org/ASN/schema/core/Statement&quot;) {
                    ASNImport.jsonCompetencies[key] = value;
                    ASNImport.competencyCount++;
                    var children = (value)[&quot;http://purl.org/gem/qualifiers/hasChild&quot;];
                    if (children != null) 
                        for (var j = 0; j &lt; children.length; j++) {
                            ASNImport.relationCount++;
                            ASNImport.asnJsonPrime(obj, (children[j])[&quot;value&quot;]);
                        }
                }
            }
        }
    };
    /**
     *  Does the actual legwork of looking for competencies and relationships.
     *  &lt;p&gt;
     *  This function finds the framework information, and pulls out the competency
     *  objects array to be scanned by asnJsonPrime
     * 
     *  @param {Object} obj
     *                  ASN JSON Object from file that contains framework information and competencies/relationships
     *  @memberOf ASNImport
     *  @method lookThroughSource
     *  @private
     *  @static
     */
    constructor.lookThroughSource = function(obj) {
        ASNImport.competencyCount = 0;
        ASNImport.relationCount = 0;
        for (var key in (obj)) {
            var value = (obj)[key];
            if (Importer.isObject(value)) {
                if ((value)[&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&quot;] != null) {
                    var stringVal = (((value)[&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&quot;])[&quot;0&quot;])[&quot;value&quot;];
                    if (stringVal == &quot;http://purl.org/ASN/schema/core/StandardDocument&quot;) {
                        ASNImport.jsonFramework = value;
                        ASNImport.frameworkUrl = key;
                        var children = (value)[&quot;http://purl.org/gem/qualifiers/hasChild&quot;];
                        if (children != null) 
                            for (var j = 0; j &lt; children.length; j++) {
                                ASNImport.asnJsonPrime(obj, (children[j])[&quot;value&quot;]);
                            }
                    }
                }
            }
        }
    };
    /**
     *  Analyzes an ASN File for competencies and relationships.
     *  &lt;p&gt;
     *  This should be called before import, the success callback returns an object
     *  indicating the number of competencies and relationships found.
     * 
     *  @param {Object}            file
     *                             ASN JSON file
     *  @param {Callback1&lt;Object&gt;} success
     *                             Callback triggered on successful analysis of file
     *  @param {Callback1&lt;Object&gt;} [failure]
     *                             Callback triggered if there is an error during analysis of the file
     *  @memberOf ASNImport
     *  @method analyzeFile
     *  @static
     */
    constructor.analyzeFile = function(file, success, failure) {
        if (file == null) {
            failure(&quot;No file to analyze&quot;);
            return;
        }
        if ((file)[&quot;name&quot;] == null) {
            failure(&quot;Invalid file&quot;);
            return;
        } else if (!((file)[&quot;name&quot;]).endsWith(&quot;.json&quot;)) {
            failure(&quot;Invalid file type&quot;);
            return;
        }
        var reader = new FileReader();
        reader.onload = function(e) {
            var result = ((e)[&quot;target&quot;])[&quot;result&quot;];
            var jsonObj = JSON.parse(result);
            ASNImport.jsonCompetencies = {};
            ASNImport.jsonFramework = null;
            ASNImport.frameworkUrl = &quot;&quot;;
            ASNImport.lookThroughSource(jsonObj);
            if (ASNImport.jsonFramework == null) {
                failure(&quot;Could not find StandardDocument.&quot;);
            } else {
                success(ASNImport.jsonCompetencies);
            }
        };
        reader.readAsText(file, &quot;UTF-8&quot;);
    };
    /**
     *  Method to import the competencies from an ASN JSON file,
     *  should be called after analyzing the file
     * 
     *  @param {String}                        serverUrl
     *                                         URL Prefix for the competencies to be imported
     *  @param {EcIdentity}                    owner
     *                                         EcIdentity that will own the new competencies
     *  @param {boolean}                       createFramework
     *                                         Flag to create a framework and include the competencies and relationships created
     *  @param {Callback2&lt;Array&lt;EcCompetency&gt;, EcFramework&gt;} success
     *                                         Callback triggered after the competencies (and framework?) are created
     *  @param {Callback1&lt;Object&gt;}             failure
     *                                         Callback triggered if an error occurs while creating the competencies
     *  @param {Callback1&lt;Object&gt;}             [incremental]
     *                                         Callback triggered incrementally during the creation of competencies to indicate progress,
     *                                         returns an object indicating the number of competencies (and relationships?) created so far
     *  @memberOf ASNImport
     *  @method importCompetencies
     *  @static
     */
    constructor.importCompetencies = function(serverUrl, owner, createFramework, success, failure, incremental, repo) {
        ASNImport.competencies = {};
        if (createFramework) {
            ASNImport.importedFramework = new EcFramework();
            ASNImport.importedFramework.competency = [];
            ASNImport.importedFramework.relation = [];
        } else {
            ASNImport.importedFramework = null;
        }
        ASNImport.progressObject = null;
        ASNImport.createCompetencies(serverUrl, owner, function() {
            ASNImport.createRelationships(serverUrl, owner, ASNImport.jsonFramework, null, function() {
                if (createFramework) {
                    ASNImport.createFramework(serverUrl, owner, success, failure, repo);
                } else {
                    var compList = [];
                    for (var key in ASNImport.competencies) {
                        compList.push(ASNImport.competencies[key]);
                    }
                    if (success != null) 
                        success(compList, null);
                }
            }, failure, incremental, repo);
        }, failure, incremental, repo);
    };
    /**
     *  Handles creating the competencies found during analysis, iterates through the
     *  competency ASN objects saved and creates them in the CASS repository at the URL given.
     * 
     *  @param {String}            serverUrl
     *                             URL Prefix for the competencies to be imported
     *  @param {EcIdentity}        owner
     *                             EcIdentity that will own the new competencies
     *  @param {Callback0}         success
     *                             Callback triggered after the competencies are created
     *  @param {Callback1&lt;Object&gt;} failure
     *                             Callback triggered if an error occurs while creating the competencies
     *  @param {Callback1&lt;Object&gt;} [incremental]
     *                             Callback triggered incrementally during the creation of competencies to indicate progress
     *  @memberOf ASNImport
     *  @method createCompetencies
     *  @private
     *  @static
     */
    constructor.createCompetencies = function(serverUrl, owner, success, failure, incremental, repo) {
        ASNImport.savedCompetencies = 0;
        for (var key in ASNImport.jsonCompetencies) {
            var comp = new EcCompetency();
            var jsonComp = ASNImport.jsonCompetencies[key];
            if ((jsonComp)[&quot;http://purl.org/dc/elements/1.1/title&quot;] == null) 
                comp.name = (((jsonComp)[&quot;http://purl.org/dc/terms/description&quot;])[&quot;0&quot;])[&quot;value&quot;];
             else 
                comp.name = (((jsonComp)[&quot;http://purl.org/dc/elements/1.1/title&quot;])[&quot;0&quot;])[&quot;value&quot;];
            if ((jsonComp)[&quot;http://purl.org/dc/terms/description&quot;] != null) 
                comp.description = (((jsonComp)[&quot;http://purl.org/dc/terms/description&quot;])[&quot;0&quot;])[&quot;value&quot;];
            comp.id = key;
            if (comp.id == null) {
                if (repo == null || repo.selectedServer.indexOf(serverUrl) != -1) 
                    comp.generateId(serverUrl);
                 else 
                    comp.generateShortId(serverUrl);
            }
            if (owner != null) 
                comp.addOwner(owner.ppk.toPk());
            if (ASNImport.importedFramework != null) 
                ASNImport.importedFramework.addCompetency(comp.shortId());
            ASNImport.competencies[key] = comp;
            ASNImport.saveCompetency(success, failure, incremental, comp, repo);
        }
    };
    constructor.saveCompetency = function(success, failure, incremental, comp, repo) {
        Task.asyncImmediate(function(o) {
            var keepGoing = o;
            comp.save(function(p1) {
                ASNImport.savedCompetencies++;
                if (ASNImport.savedCompetencies % ASNImport.INCREMENTAL_STEP == 0) {
                    if (ASNImport.progressObject == null) 
                        ASNImport.progressObject = new Object();
                    (ASNImport.progressObject)[&quot;competencies&quot;] = ASNImport.savedCompetencies;
                    incremental(ASNImport.progressObject);
                }
                if (ASNImport.savedCompetencies == ASNImport.competencyCount) {
                    if (ASNImport.progressObject == null) 
                        ASNImport.progressObject = new Object();
                    (ASNImport.progressObject)[&quot;competencies&quot;] = ASNImport.savedCompetencies;
                    incremental(ASNImport.progressObject);
                    success();
                }
                keepGoing();
            }, function(p1) {
                failure(&quot;Failed to save competency&quot;);
                keepGoing();
            }, repo);
        });
    };
    /**
     *  Handles creating the relationships from the file analyzed earlier.
     *  Recursively travels through looking for the hasChild field and creates
     *  relationships based off of that.
     * 
     *  @param {String}            serverUrl
     *                             URL Prefix for the relationships to be imported
     *  @param {EcIdentity}        owner
     *                             EcIdentity that will own the new relationships
     *  @param {Object}            node
     *  @param {String}            nodeId
     *  @param {Callback0}         success
     *                             Callback triggered after the relationships are created
     *  @param {Callback1&lt;Object&gt;} failure
     *                             Callback triggered if an error occurs while creating the relationships
     *  @param {Callback1&lt;Object&gt;} incremental
     *                             Callback triggered incrementally during the creation of relationships to indicate progress
     *  @memberOf ASNImport
     *  @method createRelationships
     *  @private
     *  @static
     */
    constructor.createRelationships = function(serverUrl, owner, node, nodeId, success, failure, incremental, repo) {
        ASNImport.savedRelations = 0;
        if (ASNImport.relationCount == 0) {
            success();
        }
        var children = (node)[&quot;http://purl.org/gem/qualifiers/hasChild&quot;];
        if (children != null) 
            for (var j = 0; j &lt; children.length; j++) {
                if (nodeId != null) {
                    var relation = new EcAlignment();
                    relation.target = ASNImport.competencies[nodeId].id;
                    relation.source = ASNImport.competencies[(children[j])[&quot;value&quot;]].id;
                    relation.relationType = &quot;narrows&quot;;
                    relation.name = &quot;&quot;;
                    relation.description = &quot;&quot;;
                    if (repo == null || repo.selectedServer.indexOf(serverUrl) != -1) 
                        relation.generateId(serverUrl);
                     else 
                        relation.generateShortId(serverUrl);
                    if (owner != null) 
                        relation.addOwner(owner.ppk.toPk());
                    if (ASNImport.importedFramework != null) 
                        ASNImport.importedFramework.addRelation(relation.shortId());
                    ASNImport.saveRelation(success, failure, incremental, relation, repo);
                }
                ASNImport.createRelationships(serverUrl, owner, ASNImport.jsonCompetencies[(children[j])[&quot;value&quot;]], (children[j])[&quot;value&quot;], success, failure, incremental, repo);
            }
    };
    constructor.saveRelation = function(success, failure, incremental, relation, repo) {
        Task.asyncImmediate(function(o) {
            var keepGoing = o;
            relation.save(function(p1) {
                ASNImport.savedRelations++;
                if (ASNImport.savedRelations % ASNImport.INCREMENTAL_STEP == 0) {
                    if (ASNImport.progressObject == null) 
                        ASNImport.progressObject = new Object();
                    (ASNImport.progressObject)[&quot;relations&quot;] = ASNImport.savedRelations;
                    incremental(ASNImport.progressObject);
                }
                if (ASNImport.savedRelations == ASNImport.relationCount) {
                    success();
                }
                keepGoing();
            }, function(p1) {
                failure(&quot;Failed to save Relationship&quot;);
                keepGoing();
            }, repo);
        });
    };
    /**
     *  Handles creating the framework if the createFramework flag was set
     * 
     *  @param {String}                        serverUrl
     *                                         URL Prefix for the framework to be imported
     *  @param {EcIdentity}                    owner
     *                                         EcIdentity that will own the new framework
     *  @param {Callback2&lt;Array&lt;EcCompetency&gt;, EcFramework&gt;} success
     *                                         Callback triggered after the framework is created
     *  @param {Callback1&lt;Object&gt;}             failure
     *                                         Callback triggered if there is an error during the creation of framework
     *  @meberOf ASNImport
     *  @method createFramework
     *  @private
     *  @static
     */
    constructor.createFramework = function(serverUrl, owner, success, failure, repo) {
        ASNImport.importedFramework.name = (((ASNImport.jsonFramework)[&quot;http://purl.org/dc/elements/1.1/title&quot;])[&quot;0&quot;])[&quot;value&quot;];
        ASNImport.importedFramework.description = (((ASNImport.jsonFramework)[&quot;http://purl.org/dc/terms/description&quot;])[&quot;0&quot;])[&quot;value&quot;];
        ASNImport.importedFramework.id = ASNImport.frameworkUrl;
        if (ASNImport.importedFramework.id == null) {
            if (repo == null || repo.selectedServer.indexOf(serverUrl) != -1) 
                ASNImport.importedFramework.generateId(serverUrl);
             else 
                ASNImport.importedFramework.generateShortId(serverUrl);
        }
        if (owner != null) 
            ASNImport.importedFramework.addOwner(owner.ppk.toPk());
        ASNImport.importedFramework.save(function(p1) {
            var compList = [];
            for (var key in ASNImport.competencies) {
                compList.push(ASNImport.competencies[key]);
            }
            if (success != null) 
                success(compList, ASNImport.importedFramework);
        }, function(p1) {
            failure(&quot;Failed to save framework&quot;);
        }, repo);
    };
}, {jsonFramework: &quot;Object&quot;, jsonCompetencies: {name: &quot;Map&quot;, arguments: [null, &quot;Object&quot;]}, importedFramework: &quot;EcFramework&quot;, competencies: {name: &quot;Map&quot;, arguments: [null, &quot;EcCompetency&quot;]}, progressObject: &quot;Object&quot;}, {});
/**
 *  Importer methods to create competencies based on a
 *  Medbiquitous competency XML file
 * 
 *  @author devlin.junker@eduworks.com
 *  @author fritz.ray@eduworks.com
 *  @module org.cassproject
 *  @class MedbiqImport
 *  @static
 *  @extends Importer
 */
var MedbiqImport = function() {
    Importer.call(this);
};
MedbiqImport = stjs.extend(MedbiqImport, Importer, [], function(constructor, prototype) {
    constructor.INCREMENTAL_STEP = 5;
    constructor.medbiqXmlCompetencies = null;
    constructor.progressObject = null;
    constructor.saved = 0;
    /**
     *  Does the legwork of looking for competencies in the XML
     * 
     *  @param {Object} obj
     *                  Parsed XML Object
     *  @memberOf MedbiqImport
     *  @method medbiqXmlLookForCompetencyObject
     *  @private
     *  @static
     */
    constructor.medbiqXmlLookForCompetencyObject = function(obj) {
        if (Importer.isObject(obj) || Importer.isArray(obj)) 
            for (var key in (obj)) {
                if (key == &quot;CompetencyObject&quot;) 
                    MedbiqImport.medbiqXmlParseCompetencyObject((obj)[key]);
                 else 
                    MedbiqImport.medbiqXmlLookForCompetencyObject((obj)[key]);
            }
    };
    /**
     *  Does the legwork of parsing the competencies out of the parsed XML
     * 
     *  @param {Object} obj
     *                  Parsed XML Object
     *  @memberOf MedbiqImport
     *  @method medbiqXmlParseCompetencyObject
     *  @private
     *  @static
     */
    constructor.medbiqXmlParseCompetencyObject = function(obj) {
        if (Importer.isArray(obj)) {
            for (var key in (obj)) {
                MedbiqImport.medbiqXmlParseCompetencyObject((obj)[key]);
            }
        } else {
            var newCompetency = new EcCompetency();
            if ((obj)[&quot;lom&quot;] != null &amp;&amp; ((obj)[&quot;lom&quot;])[&quot;general&quot;] != null) {
                newCompetency.name = ((((obj)[&quot;lom&quot;])[&quot;general&quot;])[&quot;title&quot;])[&quot;string&quot;].toString();
                if ((((obj)[&quot;lom&quot;])[&quot;general&quot;])[&quot;description&quot;] != null) 
                    newCompetency.description = ((((obj)[&quot;lom&quot;])[&quot;general&quot;])[&quot;description&quot;])[&quot;string&quot;].toString();
                if ((((obj)[&quot;lom&quot;])[&quot;general&quot;])[&quot;identifier&quot;] != null) 
                    newCompetency.url = ((((obj)[&quot;lom&quot;])[&quot;general&quot;])[&quot;identifier&quot;])[&quot;entry&quot;].toString();
                if (newCompetency.description == null) 
                    newCompetency.description = &quot;&quot;;
                MedbiqImport.medbiqXmlCompetencies.push(newCompetency);
            }
        }
    };
    /**
     *  Analyzes a Medbiquitous XML file for competencies and saves them for use in the import process
     * 
     *  @param {Object}                         file
     *                                          Medbiquitous XML file
     *  @param {Callback1&lt;Array&lt;EcCompetency&gt;&gt;} success
     *                                          Callback triggered on succesfully analyzing competencies,
     *                                          returns an array of all of the competencies found
     *  @param {Callback1&lt;String&gt;}              [failure]
     *                                          Callback triggered on error analyzing file
     *  @memberOf MedbiqImport
     *  @method analyzeFile
     *  @static
     */
    constructor.analyzeFile = function(file, success, failure) {
        if (file == null) {
            failure(&quot;No file to analyze&quot;);
            return;
        }
        if ((file)[&quot;name&quot;] == null) {
            failure(&quot;Invalid file&quot;);
            return;
        } else if (!((file)[&quot;name&quot;]).endsWith(&quot;.xml&quot;)) {
            failure(&quot;Invalid file type&quot;);
            return;
        }
        var reader = new FileReader();
        reader.onload = function(e) {
            var result = ((e)[&quot;target&quot;])[&quot;result&quot;];
            var jsonObject = new X2JS().xml_str2json(result);
            MedbiqImport.medbiqXmlCompetencies = [];
            MedbiqImport.medbiqXmlLookForCompetencyObject(jsonObject);
            success(MedbiqImport.medbiqXmlCompetencies);
        };
        reader.onerror = function(p1) {
            failure(&quot;Error Reading File&quot;);
        };
        reader.readAsText(file, &quot;UTF-8&quot;);
    };
    /**
     *  Method for actually creating the competencies in the CASS repository after a
     *  Medbiquitous XML file has been parsed. Must be called after analyzeFile
     * 
     *  @param {String}                         serverUrl
     *                                          URL Prefix for the created competencies (and relationships?)
     *  @param {EcIdentity}                     owner
     *                                          EcIdentity that will own the created competencies (and relationships?)
     *  @param {Callback1&lt;Array&lt;EcCompetency&gt;&gt;} success
     *                                          Callback triggered after successfully creating the competencies from the XML file
     *  @param {Callback1&lt;Object&gt;}              [failure]
     *                                          Callback triggered if there is an error while creating the competencies
     *  @param {Callback1&lt;Object&gt;}              [incremental]
     *                                          Callback triggered incrementally while the competencies are being created to show progress,
     *                                          returns an object indicating the number of competencies created so far
     *  @memberOf MedbiqImport
     *  @method importCompetencies
     *  @static
     */
    constructor.importCompetencies = function(serverUrl, owner, success, failure, incremental, repo) {
        MedbiqImport.progressObject = null;
        MedbiqImport.saved = 0;
        for (var i = 0; i &lt; MedbiqImport.medbiqXmlCompetencies.length; i++) {
            var comp = MedbiqImport.medbiqXmlCompetencies[i];
            if (repo == null || repo.selectedServer.indexOf(serverUrl) != -1) 
                comp.generateId(serverUrl);
             else 
                comp.generateShortId(serverUrl);
            if (owner != null) 
                comp.addOwner(owner.ppk.toPk());
            MedbiqImport.saveCompetency(success, failure, incremental, comp, repo);
        }
    };
    constructor.saveCompetency = function(success, failure, incremental, comp, repo) {
        Task.asyncImmediate(function(o) {
            var keepGoing = o;
            var scs = function(p1) {
                MedbiqImport.saved++;
                if (MedbiqImport.saved % MedbiqImport.INCREMENTAL_STEP == 0) {
                    if (MedbiqImport.progressObject == null) 
                        MedbiqImport.progressObject = new Object();
                    (MedbiqImport.progressObject)[&quot;competencies&quot;] = MedbiqImport.saved;
                    incremental(MedbiqImport.progressObject);
                }
                if (MedbiqImport.saved == MedbiqImport.medbiqXmlCompetencies.length) {
                    if (MedbiqImport.progressObject == null) 
                        MedbiqImport.progressObject = new Object();
                    (MedbiqImport.progressObject)[&quot;competencies&quot;] = MedbiqImport.saved;
                    incremental(MedbiqImport.progressObject);
                    success(MedbiqImport.medbiqXmlCompetencies);
                }
                keepGoing();
            };
            var err = function(p1) {
                failure(&quot;Failed to Save Competency&quot;);
                keepGoing();
            };
            comp.save(scs, err, repo);
        });
    };
}, {medbiqXmlCompetencies: {name: &quot;Array&quot;, arguments: [&quot;EcCompetency&quot;]}, progressObject: &quot;Object&quot;}, {});
var TabStructuredImport = function() {};
TabStructuredImport = stjs.extend(TabStructuredImport, null, [], function(constructor, prototype) {
    /**
     *  Method to create competencies (and relationships if the parameters are passed in)
     *  based on a CSV file and references to which columns correspond to which pieces
     *  of data.
     * 
     *  @param {Object}                        text
     *                                         Text to extract competencies from
     *  @param {String}                        serverUrl
     *                                         URL Prefix for the created competencies (and relationships?)
     *  @param {EcIdentity}                    owner
     *                                         EcIdentity that will own the created competencies (and relationships?)
     *  @param {Callback2&lt;Array&lt;EcCompetency&gt;, Array&lt;EcAlignment&gt;&gt;} success
     *                                         Callback triggered after the competencies (and relationships?) have been created
     *  @param {Callback1&lt;Object&gt;}             [failure]
     *                                         Callback triggered if an error during creating the competencies
     *  @param {Callback1&lt;Object&gt;}             [incremental]
     *                                         Callback triggered incrementally during creation of competencies to indicate progress,
     *                                         returns an object indicating the number of competencies (and relationships?) created so far
     *  @param {EcRepository}                  repo
     *                                         Repository to save any new data to, or to use to generate IDs.
     *  @memberOf TabStructuredImport
     *  @method importCompetencies
     *  @static
     */
    constructor.importCompetencies = function(text, serverUrl, owner, success, failure, incremental, repo, hashNameForId) {
        var lines = text.split(&quot;\n&quot;);
        var competencies = new Array();
        var alignments = new Array();
        for (var i = 0; i &lt; lines.length; i++) 
            TabStructuredImport.parseLinesIntoHierarchy(lines, competencies, alignments, i, serverUrl, hashNameForId, repo);
        success(competencies, alignments);
    };
    constructor.parseLinesIntoHierarchy = function(lines, competencies, alignments, index, serverUrl, hashNameForId, repo) {
        var parentI = -1;
        for (var i = index - 1; i &gt;= 0; i--) {
            if (TabStructuredImport.tabs(lines[i]) &lt; TabStructuredImport.tabs(lines[index])) {
                parentI = i;
                break;
            }
        }
        var c = null;
        for (var i = 0; i &lt; competencies.length; i++) {
            if (competencies[i].getName().trim() == lines[index].trim()) {
                c = competencies[i];
                break;
            }
        }
        if (c == null) {
            c = new EcCompetency();
            if (hashNameForId) 
                c.assignId(serverUrl, EcCrypto.md5(lines[index].trim()));
             else if (serverUrl != repo.selectedServer) 
                c.generateShortId(serverUrl);
             else 
                c.generateId(serverUrl);
            c.setName(lines[index]);
            competencies.push(c);
        }
        if (parentI != -1) {
            var parent = null;
            for (var i = 0; i &lt; competencies.length; i++) {
                if (competencies[i].getName().trim() == lines[parentI].trim()) {
                    parent = competencies[i];
                    break;
                }
            }
            if (parent != null &amp;&amp; parent.shortId() != c.shortId()) {
                var a = new EcAlignment();
                if (serverUrl != repo.selectedServer) 
                    a.generateShortId(serverUrl);
                 else 
                    a.generateId(serverUrl);
                a.relationType = EcAlignment.NARROWS;
                a.source = c.shortId();
                a.target = parent.shortId();
                alignments.push(a);
            }
        }
    };
    constructor.tabs = function(line) {
        var tabs = 0;
        for (var i = 0; i &lt; line.length; i++) {
            var c = line.charAt(i);
            if (c == &#x27;\t&#x27; || c == &#x27; &#x27;) 
                tabs++;
             else 
                return tabs;
        }
        return tabs;
    };
}, {}, {});
/**
 *  Importer methods to copy or link to competencies that already
 *  exist in another framework in a CASS instance.
 * 
 *  @author devlin.junker@eduworks.com
 *  @module org.cassproject
 *  @class FrameworkImport
 *  @static
 *  @extends Importer
 */
var FrameworkImport = function() {};
FrameworkImport = stjs.extend(FrameworkImport, null, [], function(constructor, prototype) {
    constructor.savedComp = 0;
    constructor.savedRel = 0;
    constructor.targetUsable = null;
    constructor.competencies = null;
    constructor.relations = null;
    constructor.compMap = null;
    /**
     *  Copies or links competencies that exist in one framework in a CASS instance,
     *  to another different framework in the same CASS instance.
     * 
     *  @param {EcFramework}                    source
     *                                          Framework to copy or link the competencies from
     *  @param {EcFramework}                    target
     *                                          Framework to add the copied or linked competencies to
     *  @param {boolean}                        copy
     *                                          Flag indicating whether or not to copy or link the competencies in the source framework
     *  @param {String}                         serverUrl
     *                                          URL Prefix for the created competencies if copied
     *  @param {EcIdentity}                     owner
     *                                          EcIdentity that will own the created competencies if copied
     *  @param {Callback1&lt;Array&lt;EcCompetency&gt;&gt;} success
     *                                          Callback triggered after succesfully copying or linking all of the competencies,
     *                                          returns an array of the new or linked competencies
     *  @param {Callback1&lt;Object&gt;}              [failure]
     *                                          Callback triggered if an error occurred while creating the competencies
     *  @memberOf FrameworkImport
     *  @method importCompetencies
     *  @static
     */
    constructor.importCompetencies = function(source, target, copy, serverUrl, owner, success, failure, repo) {
        if (source == null) {
            failure(&quot;Source Framework not set&quot;);
            return;
        }
        if (target == null) {
            failure(&quot;Target Framework not Set&quot;);
            return;
        }
        FrameworkImport.targetUsable = target;
        if (source.competency == null || source.competency.length == 0) {
            failure(&quot;Source Has No Competencies&quot;);
            return;
        }
        FrameworkImport.competencies = [];
        FrameworkImport.relations = [];
        if (copy) {
            FrameworkImport.compMap = {};
            FrameworkImport.savedComp = 0;
            FrameworkImport.savedRel = 0;
            for (var i = 0; i &lt; source.competency.length; i++) {
                var id = source.competency[i];
                EcCompetency.get(id, function(comp) {
                    var competency = new EcCompetency();
                    competency.copyFrom(comp);
                    if (repo == null || repo.selectedServer.indexOf(serverUrl) != -1) 
                        competency.generateId(serverUrl);
                     else 
                        competency.generateShortId(serverUrl);
                    FrameworkImport.compMap[comp.shortId()] = competency.shortId();
                    if (owner != null) 
                        competency.addOwner(owner.ppk.toPk());
                    var id = competency.id;
                    Task.asyncImmediate(function(o) {
                        var keepGoing = o;
                        competency.save(function(str) {
                            FrameworkImport.savedComp++;
                            FrameworkImport.targetUsable.addCompetency(id);
                            if (FrameworkImport.savedComp == FrameworkImport.competencies.length) {
                                FrameworkImport.targetUsable.save(function(p1) {
                                    for (var i = 0; i &lt; source.relation.length; i++) {
                                        var id = source.relation[i];
                                        EcAlignment.get(id, function(rel) {
                                            var relation = new EcAlignment();
                                            relation.copyFrom(rel);
                                            if (repo == null || repo.selectedServer.indexOf(serverUrl) != -1) 
                                                relation.generateId(serverUrl);
                                             else 
                                                relation.generateShortId(serverUrl);
                                            relation.source = FrameworkImport.compMap[rel.source];
                                            relation.target = FrameworkImport.compMap[rel.target];
                                            if (owner != null) 
                                                relation.addOwner(owner.ppk.toPk());
                                            var id = relation.id;
                                            Task.asyncImmediate(function(o) {
                                                var keepGoing2 = o;
                                                relation.save(function(str) {
                                                    FrameworkImport.savedRel++;
                                                    FrameworkImport.targetUsable.addRelation(id);
                                                    if (FrameworkImport.savedRel == FrameworkImport.relations.length) {
                                                        FrameworkImport.targetUsable.save(function(p1) {
                                                            success(FrameworkImport.competencies, FrameworkImport.relations);
                                                        }, function(p1) {
                                                            failure(p1);
                                                        }, repo);
                                                    }
                                                    keepGoing2();
                                                }, function(str) {
                                                    failure(&quot;Trouble Saving Copied Competency&quot;);
                                                    keepGoing2();
                                                }, repo);
                                            });
                                            FrameworkImport.relations.push(relation);
                                        }, function(str) {
                                            failure(str);
                                        });
                                    }
                                }, function(p1) {
                                    failure(p1);
                                }, repo);
                            }
                            keepGoing();
                        }, function(str) {
                            failure(&quot;Trouble Saving Copied Competency&quot;);
                            keepGoing();
                        }, repo);
                    });
                    FrameworkImport.competencies.push(competency);
                }, function(str) {
                    failure(str);
                });
            }
        } else {
            for (var i = 0; i &lt; source.competency.length; i++) {
                if (target.competency == null || (target.competency.indexOf(source.competency[i]) == -1 &amp;&amp; target.competency.indexOf(EcRemoteLinkedData.trimVersionFromUrl(source.competency[i])) == -1)) {
                    EcCompetency.get(source.competency[i], function(comp) {
                        FrameworkImport.competencies.push(comp);
                        FrameworkImport.targetUsable.addCompetency(comp.id);
                        if (FrameworkImport.competencies.length == source.competency.length) {
                            delete (FrameworkImport.targetUsable)[&quot;competencyObjects&quot;];
                            FrameworkImport.targetUsable.save(function(p1) {
                                for (var i = 0; i &lt; source.relation.length; i++) {
                                    if (target.relation == null || (target.relation.indexOf(source.relation[i]) == -1 &amp;&amp; target.relation.indexOf(EcRemoteLinkedData.trimVersionFromUrl(source.competency[i])) == -1)) {
                                        EcAlignment.get(source.relation[i], function(relation) {
                                            FrameworkImport.relations.push(relation);
                                            FrameworkImport.targetUsable.addRelation(relation.id);
                                            if (FrameworkImport.relations.length == source.relation.length) {
                                                delete (FrameworkImport.targetUsable)[&quot;competencyObjects&quot;];
                                                Task.asyncImmediate(function(o) {
                                                    var keepGoing = o;
                                                    FrameworkImport.targetUsable.save(function(p1) {
                                                        success(FrameworkImport.competencies, FrameworkImport.relations);
                                                        keepGoing();
                                                    }, function(p1) {
                                                        failure(p1);
                                                        keepGoing();
                                                    }, repo);
                                                });
                                            }
                                        }, function(p1) {
                                            failure(p1);
                                        });
                                    }
                                }
                            }, function(p1) {
                                failure(p1);
                            }, repo);
                        }
                    }, function(p1) {
                        failure(p1);
                    });
                }
            }
        }
    };
}, {targetUsable: &quot;EcFramework&quot;, competencies: {name: &quot;Array&quot;, arguments: [&quot;EcCompetency&quot;]}, relations: {name: &quot;Array&quot;, arguments: [&quot;EcAlignment&quot;]}, compMap: {name: &quot;Map&quot;, arguments: [null, null]}}, {});
/**
 *  Export methods to handle exporting two CSV file , one of competencies
 *  and one of relationships representing a framework
 * 
 *  @author devlin.junker@eduworks.com
 *  @author fritz.ray@eduworks.com
 *  @module org.cassproject
 *  @class CSVExport
 *  @static
 *  @extends Exporter
 */
var CSVExport = function() {
    Exporter.call(this);
};
CSVExport = stjs.extend(CSVExport, Exporter, [], function(constructor, prototype) {
    constructor.frameworkCompetencies = null;
    constructor.frameworkRelations = null;
    constructor.exportObjects = function(objects, fileName, piped) {
        var compExport = new CSVExport.CSVExportProcess();
        compExport.buildExport(objects, piped);
        compExport.downloadCSV(fileName);
    };
    constructor.exportCTDLASN = function(json, name) {
        var objects = [];
        CSVExport.findGraphs(json, objects);
        CSVExport.exportObjects(objects, name + &quot;.csv&quot;, true);
    };
    constructor.findGraphs = function(json, objects) {
        var jsonArray;
        if (!EcArray.isArray(json)) {
            jsonArray = [json];
        } else {
            jsonArray = json;
        }
        for (var j = 0; j &lt; jsonArray.length; j++) {
            var framework = jsonArray[j];
            var graph = (framework)[&quot;@graph&quot;];
            if (graph != null) {
                for (var i = 0; i &lt; graph.length; i++) {
                    var rld = new EcRemoteLinkedData(&quot;https://credreg.net/ctdlasn/schema/context/json&quot;, (graph[i])[&quot;@type&quot;]);
                    rld.copyFrom(graph[i]);
                    objects.push(rld);
                    if ((graph[i])[&quot;@graph&quot;] != null) {
                        CSVExport.findGraphs(graph[i], objects);
                    }
                }
            }
        }
    };
    /**
     *  Method to export the CSV files of competencies and relationships for a framework
     * 
     *  @param {String}            frameworkId
     *                             Id of the framework to export
     *  @param {Callback0}         success
     *                             Callback triggered after both files have been successfully exported
     *  @param {Callback1&lt;String&gt;} failure
     *                             Callback triggered if an error occurs during export
     *  @memberOf CSVExport
     *  @method export
     *  @static
     */
    constructor.exportFramework = function(frameworkId, success, failure) {
        if (frameworkId == null) {
            failure(&quot;Framework not selected.&quot;);
            return;
        }
        CSVExport.frameworkCompetencies = [];
        CSVExport.frameworkRelations = [];
        EcRepository.get(frameworkId, function(data) {
            if (data.isAny(new EcFramework().getTypes())) {
                var fw = new EcFramework();
                fw.copyFrom(data);
                if (fw.competency == null || fw.competency.length == 0) 
                    failure(&quot;No Competencies in Framework&quot;);
                for (var i = 0; i &lt; fw.competency.length; i++) {
                    var competencyUrl = fw.competency[i];
                    EcRepository.get(competencyUrl, function(competency) {
                        CSVExport.frameworkCompetencies.push(competency);
                        if (CSVExport.frameworkCompetencies.length == fw.competency.length) {
                            var compExport = new CSVExport.CSVExportProcess();
                            compExport.buildExport(CSVExport.frameworkCompetencies, false);
                            compExport.downloadCSV(fw.getName() + &quot; - Competencies.csv&quot;);
                        } else {}
                    }, function(s) {
                        CSVExport.frameworkCompetencies.push(null);
                        if (CSVExport.frameworkCompetencies.length == fw.competency.length) {
                            var compExport = new CSVExport.CSVExportProcess();
                            compExport.buildExport(CSVExport.frameworkCompetencies, false);
                            compExport.downloadCSV(fw.getName() + &quot; - Competencies.csv&quot;);
                        } else {}
                    });
                }
                for (var i = 0; i &lt; fw.relation.length; i++) {
                    var relationUrl = fw.relation[i];
                    EcRepository.get(relationUrl, function(relation) {
                        CSVExport.frameworkRelations.push(relation);
                        if (CSVExport.frameworkRelations.length == fw.relation.length) {
                            var compExport = new CSVExport.CSVExportProcess();
                            compExport.buildExport(CSVExport.frameworkRelations, false);
                            compExport.downloadCSV(fw.getName() + &quot; - Relations.csv&quot;);
                            if (success != null &amp;&amp; success != undefined) 
                                success();
                        } else {}
                    }, function(s) {
                        CSVExport.frameworkRelations.push(null);
                        if (CSVExport.frameworkRelations.length == fw.relation.length) {
                            var compExport = new CSVExport.CSVExportProcess();
                            compExport.buildExport(CSVExport.frameworkRelations, false);
                            compExport.downloadCSV(fw.getName() + &quot; - Relations.csv&quot;);
                            if (success != null &amp;&amp; success != undefined) 
                                success();
                        } else {}
                    });
                }
            }
        }, failure);
    };
    constructor.CSVExportProcess = function() {
        this.csvOutput = [];
    };
    constructor.CSVExportProcess = stjs.extend(constructor.CSVExportProcess, null, [], function(constructor, prototype) {
        prototype.csvOutput = null;
        prototype.flattenObject = function(flattenedObject, object, prefix, piped) {
            var data = new EcRemoteLinkedData((object)[&quot;@context&quot;], (object)[&quot;@type&quot;]);
            data.copyFrom(object);
            var tempObj = JSON.parse(data.toJson());
            var props = (tempObj);
            for (var prop in props) {
                var id;
                if (prefix != null &amp;&amp; prefix != undefined &amp;&amp; !piped) 
                    id = prefix + &quot;.&quot; + prop;
                 else 
                    id = prop;
                if (props[prop] != null &amp;&amp; props[prop] != &quot;&quot; &amp;&amp; stjs.isInstanceOf(props[prop].constructor, Object) &amp;&amp; !piped) {
                    this.flattenObject(flattenedObject, props[prop], id, false);
                } else if (props[prop] != null &amp;&amp; props[prop] != &quot;&quot; &amp;&amp; (stjs.isInstanceOf(props[prop].constructor, Object) || EcArray.isArray(props[prop])) &amp;&amp; piped) {
                    var display = &quot;&quot;;
                    var props2 = (props[prop]);
                    for (var prop2 in props2) {
                        display += props2[prop2] + &quot;|&quot;;
                    }
                    display = display.substring(0, display.length - 1);
                    (flattenedObject)[id] = display;
                } else {
                    var display = Thing.getDisplayStringFrom(props[prop]);
                    (flattenedObject)[id] = display;
                }
            }
        };
        prototype.addCSVRow = function(object, piped) {
            var flattenedObject = new EcRemoteLinkedData(object.context, object.type);
            this.flattenObject(flattenedObject, object, null, piped);
            this.csvOutput.push(JSON.parse(flattenedObject.toJson()));
            var props = (JSON.parse(flattenedObject.toJson()));
            for (var prop in props) {
                if (props[prop] != null &amp;&amp; props[prop] != &quot;&quot;) {
                    for (var i = 0; i &lt; this.csvOutput.length; i++) {
                        var row = this.csvOutput[i];
                        if (!(row).hasOwnProperty(prop)) {
                            (row)[prop] = &quot;&quot;;
                        }
                    }
                }
            }
        };
        prototype.buildExport = function(objects, piped) {
            for (var i = 0; i &lt; objects.length; i++) 
                if (objects[i] != null) {
                    var object = objects[i];
                    this.addCSVRow(object, piped);
                }
        };
        prototype.downloadCSV = function(name) {
            var csv = Papa.unparse(this.csvOutput);
            var pom = window.document.createElement(&quot;a&quot;);
            pom.setAttribute(&quot;href&quot;, &quot;data:text/csv;charset=utf-8,&quot; + encodeURIComponent(csv));
            pom.setAttribute(&quot;download&quot;, name);
            if ((window.document)[&quot;createEvent&quot;] != null) {
                var event = ((window.document)[&quot;createEvent&quot;]).call(window.document, &quot;MouseEvents&quot;);
                ((event)[&quot;initEvent&quot;]).call(event, &quot;click&quot;, true, true);
                pom.dispatchEvent(event);
            } else {
                ((pom)[&quot;click&quot;]).call(pom);
            }
        };
    }, {csvOutput: {name: &quot;Array&quot;, arguments: [&quot;Object&quot;]}}, {});
}, {frameworkCompetencies: {name: &quot;Array&quot;, arguments: [&quot;EcRemoteLinkedData&quot;]}, frameworkRelations: {name: &quot;Array&quot;, arguments: [&quot;EcRemoteLinkedData&quot;]}}, {});
/**
 *  Import methods to handle an CSV file of competencies and a
 *  CSV file of relationships and store them in a CASS instance
 * 
 *  @author devlin.junker@eduworks.com
 *  @author fritz.ray@eduworks.com
 *  @module org.cassproject
 *  @class CSVImport
 *  @static
 *  @extends Importer
 */
var CSVImport = function() {};
CSVImport = stjs.extend(CSVImport, null, [], function(constructor, prototype) {
    constructor.INCREMENTAL_STEP = 5;
    constructor.importCsvLookup = null;
    constructor.saved = 0;
    constructor.progressObject = null;
    /**
     *  Analyzes a CSV File to return the column names to the user for specifying
     *  which columns contain which data. This should be called before import.
     * 
     *  @param {Object}            file
     *                             CSV file to be analyzed
     *  @param {Callback1&lt;Object&gt;} success
     *                             Callback triggered after successfully analyzing the CSV file
     *  @param {Callback1&lt;Object&gt;} [failure]
     *                             Callback triggered if there is an error analyzing the CSV file
     *  @memberOf CSVImport
     *  @method analyzeFile
     *  @static
     */
    constructor.analyzeFile = function(file, success, failure) {
        if (file == null) {
            failure(&quot;No file to analyze&quot;);
            return;
        }
        if ((file)[&quot;name&quot;] == null) {
            failure(&quot;Invalid file&quot;);
        } else if (!((file)[&quot;name&quot;]).endsWith(&quot;.csv&quot;)) {
            failure(&quot;Invalid file type&quot;);
        }
        Papa.parse(file, {encoding: &quot;UTF-8&quot;, complete: function(results) {
            var tabularData = (results)[&quot;data&quot;];
            success(tabularData);
        }, error: failure});
    };
    /**
     *  Helper function to transform a competencies oldID to match the new server url
     * 
     *  @param {String}             oldId
     *                              Old ID found in the CSV file
     *  @param {EcRemoteLinkedData} newObject
     *                              New competency being created
     *  @param {String}             selectedServer
     *                              New URL Prefix that the new competency&#x27;s ID should match
     *  @memberOf CSVImport
     *  @method transformId
     *  @private
     *  @static
     */
    constructor.transformId = function(oldId, newObject, selectedServer, repo) {
        if (oldId == null || oldId == &quot;&quot; || oldId.toLowerCase().indexOf(&quot;http&quot;) == -1) 
            newObject.assignId(selectedServer, oldId);
         else {
            newObject.id = oldId;
        }
    };
    /**
     *  Method to create competencies (and relationships if the parameters are passed in)
     *  based on a CSV file and references to which columns correspond to which pieces
     *  of data.
     * 
     *  @param {Object}                        file
     *                                         CSV File to import competencies from
     *  @param {String}                        serverUrl
     *                                         URL Prefix for the created competencies (and relationships?)
     *  @param {EcIdentity}                    owner
     *                                         EcIdentity that will own the created competencies (and relationships?)
     *  @param {int}                           nameIndex
     *                                         Index of the column that contains the competency names
     *  @param {int}                           descriptionIndex
     *                                         Index of the column that contains the competency descriptions
     *  @param {int}                           scopeIndex
     *                                         Index of the column that contains the competency scopes
     *  @param {int}                           idIndex
     *                                         Index of the column that contains the old competency ID (Optional, if not exists pass null or negative)
     *  @param {Object}                        [relations]
     *                                         CSV File to import relationships from (Optional, if not exists pass null)
     *  @param {int}                           [sourceIndex]
     *                                         Index (in relation file) of the column containing the relationship source competency ID (Optional, if not exists pass null or negative)
     *  @param {int}                           [relationTypeIndex]
     *                                         Index (in relation file) of the column containing the relationship type (Optional, if not exists pass null or negative)
     *  @param {int}                           [destIndex]
     *                                         Index (in relation file) of the column containing the relationship destination competency ID (Optional, if not exists pass null or negative)
     *  @param {Callback2&lt;Array&lt;EcCompetency&gt;, Array&lt;EcAlignment&gt;&gt;} success
     *                                         Callback triggered after the competencies (and relationships?) have been created
     *  @param {Callback1&lt;Object&gt;}             [failure]
     *                                         Callback triggered if an error during creating the competencies
     *  @param {Callback1&lt;Object&gt;}             [incremental]
     *                                         Callback triggered incrementally during creation of competencies to indicate progress,
     *                                         returns an object indicating the number of competencies (and relationships?) created so far
     *  @memberOf CSVImport
     *  @method importCompetencies
     *  @static
     */
    constructor.importCompetencies = function(file, serverUrl, owner, nameIndex, descriptionIndex, scopeIndex, idIndex, relations, sourceIndex, relationTypeIndex, destIndex, success, failure, incremental, uniquify, repo) {
        CSVImport.progressObject = null;
        CSVImport.importCsvLookup = new Object();
        if (nameIndex &lt; 0) {
            failure(&quot;Name Index not Set&quot;);
            return;
        }
        var competencies = [];
        Papa.parse(file, {encoding: &quot;UTF-8&quot;, complete: function(results) {
            var tabularData = (results)[&quot;data&quot;];
            var colNames = tabularData[0];
            for (var i = 1; i &lt; tabularData.length; i++) {
                if (tabularData[i].length == 0 || (tabularData[i].length == 1 &amp;&amp; (tabularData[i][0] == null || tabularData[i][0] == undefined || tabularData[i][0] == &quot;&quot;))) {
                    continue;
                }
                if (tabularData[i][nameIndex] == null || tabularData[i][nameIndex] == undefined || tabularData[i][nameIndex] == &quot;&quot;) {
                    continue;
                }
                var competency = new EcCompetency();
                competency.name = tabularData[i][nameIndex];
                if (descriptionIndex &gt;= 0) 
                    competency.description = tabularData[i][descriptionIndex];
                if (scopeIndex &gt;= 0) 
                    competency.scope = tabularData[i][scopeIndex];
                if ((uniquify == undefined || uniquify == null || uniquify == false) &amp;&amp; idIndex != null &amp;&amp; idIndex &gt;= 0) {
                    competency.id = tabularData[i][idIndex];
                    CSVImport.transformId(tabularData[i][idIndex], competency, serverUrl, repo);
                } else {
                    if (repo == null || repo.selectedServer.indexOf(serverUrl) != -1) 
                        competency.generateId(serverUrl);
                     else 
                        competency.generateShortId(serverUrl);
                }
                if (owner != undefined &amp;&amp; owner != null) 
                    competency.addOwner(owner.ppk.toPk());
                var shortId = null;
                if (idIndex != null &amp;&amp; idIndex != undefined &amp;&amp; idIndex &gt;= 0) {
                    var oldId = tabularData[i][idIndex];
                    shortId = EcRemoteLinkedData.trimVersionFromUrl(oldId);
                    (CSVImport.importCsvLookup)[shortId] = competency.shortId();
                }
                if (idIndex != null &amp;&amp; idIndex != undefined &amp;&amp; idIndex &gt;= 0 &amp;&amp; tabularData[i][idIndex] != null &amp;&amp; tabularData[i][idIndex] != &quot;&quot;) {
                    if ((CSVImport.importCsvLookup)[tabularData[i][idIndex]] == null) 
                        (CSVImport.importCsvLookup)[tabularData[i][idIndex]] = competency.shortId();
                }
                (CSVImport.importCsvLookup)[competency.getName()] = competency.shortId();
                for (var idx = 0; idx &lt; tabularData[i].length; idx++) {
                    var name = colNames[idx];
                    if (name == null || name.trim() == &quot;&quot; || name.startsWith(&quot;@&quot;) || name.indexOf(&quot;.&quot;) != -1 || tabularData[i][idx].trim() == &quot;&quot; || idx == nameIndex || idx == descriptionIndex || idx == scopeIndex || idx == idIndex) {
                        continue;
                    } else {
                        (competency)[colNames[idx]] = tabularData[i][idx];
                    }
                }
                competencies.push(competency);
            }
            CSVImport.saved = 0;
            for (var i = 0; i &lt; competencies.length; i++) {
                var comp = competencies[i];
                CSVImport.saveCompetency(comp, incremental, competencies, relations, success, serverUrl, owner, sourceIndex, relationTypeIndex, destIndex, failure, repo);
            }
        }, error: failure});
    };
    constructor.saveCompetency = function(comp, incremental, competencies, relations, success, serverUrl, owner, sourceIndex, relationTypeIndex, destIndex, failure, repo) {
        Task.asyncImmediate(function(o) {
            var keepGoing = o;
            var saveDone = function(results) {
                CSVImport.saved++;
                if (CSVImport.saved % CSVImport.INCREMENTAL_STEP == 0) {
                    if (CSVImport.progressObject == null) 
                        CSVImport.progressObject = new Object();
                    (CSVImport.progressObject)[&quot;competencies&quot;] = CSVImport.saved;
                    incremental(CSVImport.progressObject);
                }
                if (CSVImport.saved == competencies.length) {
                    if (relations == null) 
                        success(competencies, new Array());
                     else 
                        CSVImport.importRelations(serverUrl, owner, relations, sourceIndex, relationTypeIndex, destIndex, competencies, success, failure, incremental, repo);
                }
                keepGoing();
            };
            comp.save(saveDone, saveDone, repo);
        });
    };
    /**
     *  Handles actually importing the relationships from the relationship CSV file
     * 
     *  @param {String}                        serverUrl
     *                                         URL Prefix for the created competencies (and relationships?)
     *  @param {EcIdentity}                    owner
     *                                         EcIdentity that will own the created competencies (and relationships?)
     *  @param {Object}                        file
     *                                         CSV File to import competencies from
     *  @param {int}                           sourceIndex
     *                                         Index (in relation file) of the column containing the relationship source competency ID
     *  @param {int}                           relationTypeIndex
     *                                         Index (in relation file) of the column containing the relationship type
     *  @param {int}                           destIndex
     *                                         Index (in relation file) of the column containing the relationship destination competency ID
     *  @param {Array&lt;EcCompetency&gt;}           competencies
     *                                         Array of newly created competencies
     *  @param {Callback2&lt;Array&lt;EcCompetency&gt;, Array&lt;EcAlignment&gt;&gt;} success
     *                                         Callback triggered after the relationships have been created
     *  @param {Callback1&lt;Object&gt;}             failure
     *                                         Callback triggered if an error during creating the relationships
     *  @param {Callback1&lt;Object&gt;}             incremental
     *                                         Callback triggered incrementally during creation to indicate progress
     *  @memberOf CSVImport
     *  @method importRelations
     *  @private
     *  @static
     */
    constructor.importRelations = function(serverUrl, owner, file, sourceIndex, relationTypeIndex, destIndex, competencies, success, failure, incremental, repo) {
        var relations = new Array();
        if (sourceIndex == null || sourceIndex &lt; 0) {
            failure(&quot;Source Index not Set&quot;);
            return;
        }
        if (relationTypeIndex == null || relationTypeIndex &lt; 0) {
            failure(&quot;Relation Type Index not Set&quot;);
            return;
        }
        if (destIndex == null || destIndex &lt; 0) {
            failure(&quot;Destination Index not Set&quot;);
            return;
        }
        Papa.parse(file, {encoding: &quot;UTF-8&quot;, complete: function(results) {
            var tabularData = (results)[&quot;data&quot;];
            for (var i = 1; i &lt; tabularData.length; i++) {
                var alignment = new EcAlignment();
                var sourceKey = tabularData[i][sourceIndex];
                var relationTypeKey = tabularData[i][relationTypeIndex];
                var destKey = tabularData[i][destIndex];
                if ((CSVImport.importCsvLookup)[sourceKey] == null) 
                    alignment.source = sourceKey;
                 else 
                    alignment.source = (CSVImport.importCsvLookup)[sourceKey];
                if ((CSVImport.importCsvLookup)[destKey] == null) 
                    alignment.target = destKey;
                 else 
                    alignment.target = (CSVImport.importCsvLookup)[destKey];
                alignment.relationType = relationTypeKey;
                if (owner != null) 
                    alignment.addOwner(owner.ppk.toPk());
                if (repo == null || repo.selectedServer.indexOf(serverUrl) != -1) 
                    alignment.generateId(serverUrl);
                 else 
                    alignment.generateShortId(serverUrl);
                relations.push(alignment);
            }
            CSVImport.saved = 0;
            for (var i = 0; i &lt; relations.length; i++) {
                var relation = relations[i];
                CSVImport.saveRelation(relation, incremental, relations, success, competencies, failure, repo);
            }
            if (CSVImport.saved == 0 &amp;&amp; CSVImport.saved == relations.length) {
                success(competencies, relations);
            }
        }, error: failure});
    };
    constructor.saveRelation = function(relation, incremental, relations, success, competencies, failure, repo) {
        Task.asyncImmediate(function(o) {
            var keepGoing = o;
            relation.save(function(results) {
                CSVImport.saved++;
                if (CSVImport.saved % CSVImport.INCREMENTAL_STEP == 0) {
                    if (CSVImport.progressObject == null) 
                        CSVImport.progressObject = new Object();
                    (CSVImport.progressObject)[&quot;relations&quot;] = CSVImport.saved;
                    incremental(CSVImport.progressObject);
                    incremental(CSVImport.saved);
                }
                if (CSVImport.saved == relations.length) {
                    success(competencies, relations);
                }
                keepGoing();
            }, function(results) {
                failure(&quot;Failed to save competency or relation&quot;);
                for (var j = 0; j &lt; competencies.length; j++) {
                    competencies[j]._delete(null, null, null);
                }
                for (var j = 0; j &lt; relations.length; j++) {
                    relations[j]._delete(null, null);
                }
                keepGoing();
            }, repo);
        });
    };
    constructor.hasContextColumn = function(colNames) {
        for (var idx = 0; idx &lt; colNames.length; idx++) {
            if (colNames[idx] == &quot;@context&quot;) {
                return idx;
            }
        }
        return -1;
    };
    constructor.hasTypeColumn = function(colNames) {
        for (var idx = 0; idx &lt; colNames.length; idx++) {
            if (colNames[idx] == &quot;@type&quot;) {
                return idx;
            }
        }
        return -1;
    };
    constructor.expandObject = function(nestedFields, nestedObj, value) {
        if (nestedFields.length == 0) {
            return;
        } else if (nestedFields.length == 1) {
            (nestedObj)[nestedFields[0]] = value;
        } else {
            var key = nestedFields[0];
            if ((nestedObj)[key] == null || (nestedObj)[key] == undefined) 
                (nestedObj)[key] = new Object();
            nestedFields.splice(0, 1);
            CSVImport.expandObject(nestedFields, (nestedObj)[key], value);
        }
    };
    constructor.transformReferences = function(data) {
        var props = (data);
        for (var prop in props) {
            if (props[prop] == null || props[prop] == undefined || Object.prototype.toString.call(props[prop]).indexOf(&quot;String&quot;) == -1) {
                if (EcObject.isObject(props[prop])) {
                    var nested = props[prop];
                    CSVImport.transformReferences(nested);
                    (data)[prop] = nested;
                }
                continue;
            }
            var oldVal = props[prop];
            if ((CSVImport.importCsvLookup)[oldVal] != null &amp;&amp; (CSVImport.importCsvLookup)[oldVal] != undefined &amp;&amp; (CSVImport.importCsvLookup)[oldVal] != &quot;&quot;) {
                (data)[prop] = (CSVImport.importCsvLookup)[oldVal];
            }
        }
    };
    constructor.importData = function(file, serverUrl, owner, success, failure, incremental, idIndex, assignedContext, assignedType, repo) {
        var objects = [];
        var hasAssignedContext = assignedContext != undefined &amp;&amp; assignedContext != null &amp;&amp; assignedContext.trim() != &quot;&quot;;
        var hasAssignedType = assignedType != undefined &amp;&amp; assignedType != null &amp;&amp; assignedType.trim() != &quot;&quot;;
        CSVImport.importCsvLookup = new Object();
        Papa.parse(file, {encoding: &quot;UTF-8&quot;, complete: function(results) {
            var tabularData = (results)[&quot;data&quot;];
            var colNames = tabularData[0];
            var contextIdx = -1;
            var typeIdx = -1;
            if (!hasAssignedContext &amp;&amp; (contextIdx = CSVImport.hasContextColumn(colNames)) == -1) {
                failure(&quot;Was not passed and cannot find column with data context&quot;);
            } else if (!hasAssignedType &amp;&amp; (typeIdx = CSVImport.hasTypeColumn(colNames)) == 1) {
                failure(&quot;Was not passed and cannot find column with data type&quot;);
            }
            for (var i = 1; i &lt; tabularData.length; i++) {
                if (tabularData[i].length == 0 || (tabularData[i].length == 1 &amp;&amp; (tabularData[i][0] == null || tabularData[i][0] == undefined || tabularData[i][0] == &quot;&quot;))) {
                    continue;
                }
                var context = null;
                var type = null;
                if (hasAssignedContext) 
                    context = assignedContext;
                 else 
                    context = tabularData[i][contextIdx];
                if (hasAssignedType) 
                    type = assignedType;
                 else 
                    type = tabularData[i][typeIdx];
                var data = new EcRemoteLinkedData(context, type);
                var nestedObjs = {};
                for (var idx = 0; idx &lt; tabularData[i].length; idx++) {
                    var name = colNames[idx];
                    if (name == &quot;@id&quot; || name == &quot;id&quot;) {
                        data.id = tabularData[i][idx];
                        continue;
                    } else if (name == null || name.trim() == &quot;&quot; || name.startsWith(&quot;@&quot;) || tabularData[i][idx].trim() == &quot;&quot; || idx == contextIdx || idx == typeIdx) {
                        continue;
                    } else if (name.indexOf(&quot;.&quot;) != -1) {
                        var split = (name.split(&quot;.&quot;));
                        if (split.length &gt; 1) {
                            var key = split[0];
                            if (nestedObjs[key] == null || nestedObjs[key] == undefined) 
                                nestedObjs[key] = new Object();
                            split.splice(0, 1);
                            CSVImport.expandObject(split, nestedObjs[key], tabularData[i][idx]);
                            continue;
                        }
                        name = split[0];
                    }
                    var val = tabularData[i][idx];
                    (data)[name] = val;
                }
                for (var key in nestedObjs) {
                    (data)[key] = nestedObjs[key];
                }
                if (owner != null) 
                    data.addOwner(owner.ppk.toPk());
                var fileId = data.id;
                if (idIndex != undefined &amp;&amp; idIndex != null &amp;&amp; idIndex &gt;= 0) {
                    data.id = tabularData[i][idIndex];
                    CSVImport.transformId(tabularData[i][idIndex], data, serverUrl, repo);
                } else {
                    if (repo == null || repo.selectedServer.indexOf(serverUrl) != -1) 
                        data.generateId(serverUrl);
                     else 
                        data.generateShortId(serverUrl);
                }
                var shortId;
                if (idIndex != null &amp;&amp; idIndex != undefined &amp;&amp; idIndex &gt;= 0) {
                    var oldId = tabularData[i][idIndex];
                    shortId = EcRemoteLinkedData.trimVersionFromUrl(oldId);
                    (CSVImport.importCsvLookup)[shortId] = data.shortId();
                }
                if (idIndex != null &amp;&amp; idIndex != undefined &amp;&amp; idIndex &gt;= 0 &amp;&amp; tabularData[i][idIndex] != null &amp;&amp; tabularData[i][idIndex] != &quot;&quot;) {
                    if ((CSVImport.importCsvLookup)[tabularData[i][idIndex]] == null) 
                        (CSVImport.importCsvLookup)[tabularData[i][idIndex]] = data.shortId();
                } else if (fileId != null &amp;&amp; fileId != undefined &amp;&amp; fileId != &quot;&quot;) {
                    if ((CSVImport.importCsvLookup)[fileId] == null) 
                        (CSVImport.importCsvLookup)[fileId] = data.shortId();
                    shortId = EcRemoteLinkedData.trimVersionFromUrl(fileId);
                    if ((CSVImport.importCsvLookup)[shortId] == null) 
                        (CSVImport.importCsvLookup)[shortId] = data.shortId();
                }
                objects.push(data);
            }
            CSVImport.saved = 0;
            for (var i = 0; i &lt; objects.length; i++) {
                var data = objects[i];
                CSVImport.transformReferences(data);
                CSVImport.saveTransformedData(data, incremental, objects, success, failure, repo);
            }
        }, error: failure});
    };
    constructor.saveTransformedData = function(data, incremental, objects, success, failure, repo) {
        Task.asyncImmediate(function(o) {
            var keepGoing = o;
            var scs = function(results) {
                CSVImport.saved++;
                if (CSVImport.saved % CSVImport.INCREMENTAL_STEP == 0) 
                    incremental(CSVImport.saved);
                if (CSVImport.saved == objects.length) 
                    success(objects);
                keepGoing();
            };
            var err = function(results) {
                failure(&quot;Failed to save object&quot;);
                keepGoing();
            };
            if (repo == null) 
                EcRepository.save(data, scs, err);
             else 
                repo.saveTo(data, scs, err);
        });
    };
}, {importCsvLookup: &quot;Object&quot;, progressObject: &quot;Object&quot;}, {});
var CTDLASNCSVImport = function() {};
CTDLASNCSVImport = stjs.extend(CTDLASNCSVImport, null, [], function(constructor, prototype) {
    constructor.analyzeFile = function(file, success, failure) {
        if (file == null) {
            failure(&quot;No file to analyze&quot;);
            return;
        }
        if ((file)[&quot;name&quot;] == null) {
            failure(&quot;Invalid file&quot;);
        } else if (!((file)[&quot;name&quot;]).endsWith(&quot;.csv&quot;)) {
            failure(&quot;Invalid file type&quot;);
        }
        Papa.parse(file, {encoding: &quot;UTF-8&quot;, complete: function(results) {
            var tabularData = (results)[&quot;data&quot;];
            var colNames = tabularData[0];
            var nameToCol = new Object();
            for (var i = 0; i &lt; colNames.length; i++) 
                (nameToCol)[colNames[i]] = i;
            var frameworkCounter = 0;
            var competencyCounter = 0;
            var typeCol = (nameToCol)[&quot;@type&quot;];
            if (typeCol == null) {
                this.error(&quot;No @type in CSV.&quot;);
                return;
            }
            for (var i = 0; i &lt; tabularData.length; i++) {
                if (i == 0) 
                    continue;
                var col = tabularData[i];
                if (col[typeCol] != null &amp;&amp; col[typeCol].trim() == &quot;ceasn:CompetencyFramework&quot;) 
                    frameworkCounter++;
                 else if (col[typeCol] != null &amp;&amp; col[typeCol].trim() == &quot;ceasn:Competency&quot;) 
                    competencyCounter++;
                 else if (col[typeCol] == null || col[typeCol] == &quot;&quot;) 
                    continue;
                 else {
                    this.error(&quot;Found unknown type:&quot; + col[typeCol]);
                    return;
                }
            }
            success(frameworkCounter, competencyCounter);
        }, error: failure});
    };
    constructor.importFrameworksAndCompetencies = function(repo, file, success, failure, ceo) {
        if (file == null) {
            failure(&quot;No file to analyze&quot;);
            return;
        }
        if ((file)[&quot;name&quot;] == null) {
            failure(&quot;Invalid file&quot;);
        } else if (!((file)[&quot;name&quot;]).endsWith(&quot;.csv&quot;)) {
            failure(&quot;Invalid file type&quot;);
        }
        Papa.parse(file, {header: true, encoding: &quot;UTF-8&quot;, complete: function(results) {
            var tabularData = (results)[&quot;data&quot;];
            var frameworks = new Object();
            var frameworkArray = new Array();
            var frameworkRows = new Object();
            var competencies = new Array();
            var competencyRows = new Object();
            var relations = new Array();
            var relationById = new Object();
            new EcAsyncHelper().each(tabularData, function(pretranslatedE, callback0) {
                if ((pretranslatedE)[&quot;@type&quot;] == &quot;ceasn:CompetencyFramework&quot;) {
                    var translator = new EcLinkedData(null, null);
                    translator.copyFrom(pretranslatedE);
                    CTDLASNCSVImport.cleanUpTranslator(translator);
                    translator.recast(&quot;https://schema.cassproject.org/0.4/ceasn2cass&quot;, &quot;https://schema.cassproject.org/0.4&quot;, function(e) {
                        var f = new EcFramework();
                        f.copyFrom(e);
                        if ((e)[&quot;owner&quot;] != null) {
                            var id = new EcIdentity();
                            id.ppk = EcPpk.fromPem((e)[&quot;owner&quot;]);
                            f.addOwner(id.ppk.toPk());
                            EcIdentityManager.addIdentityQuietly(id);
                        }
                        if (ceo != null) 
                            f.addOwner(ceo.ppk.toPk());
                        if (EcFramework.template != null &amp;&amp; (EcFramework.template)[(&quot;schema:dateCreated&quot;)] != null) {
                            CTDLASNCSVImport.setDateCreated(e, f);
                        }
                        (frameworks)[f.id] = f;
                        (frameworkRows)[f.id] = e;
                        (f)[&quot;ceasn:hasChild&quot;] = null;
                        (f)[&quot;ceasn:hasTopChild&quot;] = null;
                        frameworkArray.push(f);
                        f.competency = new Array();
                        f.relation = new Array();
                        callback0();
                    }, failure);
                } else if ((pretranslatedE)[&quot;@type&quot;] == &quot;ceasn:Competency&quot;) {
                    var translator = new EcLinkedData(null, null);
                    translator.copyFrom(pretranslatedE);
                    CTDLASNCSVImport.cleanUpTranslator(translator);
                    translator.recast(&quot;https://schema.cassproject.org/0.4/ceasn2cass&quot;, &quot;https://schema.cassproject.org/0.4&quot;, function(e) {
                        var f = new EcCompetency();
                        f.copyFrom(e);
                        if ((e)[&quot;id&quot;] == null) {
                            callback0();
                            return;
                        }
                        if ((e)[&quot;ceasn:isPartOf&quot;] != null) {
                            ((frameworks)[(e)[&quot;ceasn:isPartOf&quot;]]).competency.push(f.shortId());
                        } else {
                            var parent = e;
                            var done = false;
                             while (!done &amp;&amp; parent != null){
                                if ((parent)[&quot;ceasn:isChildOf&quot;] != null &amp;&amp; (parent)[&quot;ceasn:isChildOf&quot;] != &quot;&quot;) {
                                    parent = (competencyRows)[(parent)[&quot;ceasn:isChildOf&quot;]];
                                } else if ((parent)[&quot;ceasn:isTopChildOf&quot;] != null &amp;&amp; (parent)[&quot;ceasn:isTopChildOf&quot;] != &quot;&quot;) {
                                    parent = (frameworkRows)[(parent)[&quot;ceasn:isTopChildOf&quot;]];
                                    done = true;
                                }
                            }
                            if (!done) {
                                this.error(&quot;Could not find framework:&quot; + (e)[&quot;type&quot;]);
                                return;
                            }
                            if (parent != null) {
                                if ((parent)[&quot;type&quot;] == &quot;Framework&quot;) {
                                    (e)[&quot;ceasn:isPartOf&quot;] = (parent)[&quot;id&quot;];
                                    ((frameworks)[(parent)[&quot;id&quot;]]).competency.push(f.shortId());
                                } else {
                                    this.error(&quot;Object cannot trace to framework:&quot; + (e)[&quot;type&quot;]);
                                    return;
                                }
                            } else {
                                this.error(&quot;Object has no framework:&quot; + (e)[&quot;type&quot;]);
                                return;
                            }
                        }
                        if ((e)[&quot;owner&quot;] == null) {
                            if (((frameworkRows)[(e)[&quot;ceasn:isPartOf&quot;]])[&quot;owner&quot;] != null) 
                                (e)[&quot;owner&quot;] = ((frameworkRows)[(e)[&quot;ceasn:isPartOf&quot;]])[&quot;owner&quot;];
                        }
                        var id = new EcIdentity();
                        if ((e)[&quot;owner&quot;] != null) {
                            id.ppk = EcPpk.fromPem((e)[&quot;owner&quot;]);
                            if (id.ppk != null) 
                                f.addOwner(id.ppk.toPk());
                            EcIdentityManager.addIdentityQuietly(id);
                        }
                        if (ceo != null) 
                            f.addOwner(ceo.ppk.toPk());
                        if (EcCompetency.template != null &amp;&amp; (EcCompetency.template)[(&quot;schema:dateCreated&quot;)] != null) {
                            CTDLASNCSVImport.setDateCreated(e, f);
                        }
                        if ((e)[&quot;ceasn:isChildOf&quot;] != null) {
                            CTDLASNCSVImport.createEachRelation(e, &quot;ceasn:isChildOf&quot;, Relation.NARROWS, repo, ceo, id, relations, relationById, frameworks, -1);
                        }
                        if ((e)[&quot;ceasn:broadAlignment&quot;] != null) {
                            CTDLASNCSVImport.createRelations(e, &quot;ceasn:broadAlignment&quot;, Relation.NARROWS, repo, ceo, id, relations, relationById, frameworks);
                        }
                        if ((e)[&quot;ceasn:narrowAlignment&quot;] != null) {
                            CTDLASNCSVImport.createRelations(e, &quot;ceasn:narrowAlignment&quot;, Relation.NARROWS, repo, ceo, id, relations, relationById, frameworks);
                        }
                        if ((e)[&quot;sameAs&quot;] != null) {
                            CTDLASNCSVImport.createRelations(e, &quot;sameAs&quot;, Relation.IS_EQUIVALENT_TO, repo, ceo, id, relations, relationById, frameworks);
                        }
                        if ((e)[&quot;ceasn:majorAlignment&quot;] != null) {
                            CTDLASNCSVImport.createRelations(e, &quot;ceasn:majorAlignment&quot;, &quot;majorRelated&quot;, repo, ceo, id, relations, relationById, frameworks);
                        }
                        if ((e)[&quot;ceasn:minorAlignment&quot;] != null) {
                            CTDLASNCSVImport.createRelations(e, &quot;ceasn:minorAlignment&quot;, &quot;minorRelated&quot;, repo, ceo, id, relations, relationById, frameworks);
                        }
                        if ((e)[&quot;ceasn:prerequisiteAlignment&quot;] != null) {
                            CTDLASNCSVImport.createRelations(e, &quot;ceasn:prerequisiteAlignment&quot;, Relation.REQUIRES, repo, ceo, id, relations, relationById, frameworks);
                        }
                        (f)[&quot;ceasn:isTopChildOf&quot;] = null;
                        (f)[&quot;ceasn:isChildOf&quot;] = null;
                        (f)[&quot;ceasn:isPartOf&quot;] = null;
                        (f)[&quot;ceasn:broadAlignment&quot;] = null;
                        (f)[&quot;ceasn:narrowAlignment&quot;] = null;
                        (f)[&quot;sameAs&quot;] = null;
                        (f)[&quot;ceasn:majorAlignment&quot;] = null;
                        (f)[&quot;ceasn:minorAlignment&quot;] = null;
                        (f)[&quot;ceasn:prerequisiteAlignment&quot;] = null;
                        (f)[&quot;ceasn:hasChild&quot;] = null;
                        competencies.push(f);
                        (competencyRows)[f.id] = e;
                        callback0();
                    }, failure);
                } else if ((pretranslatedE)[&quot;@type&quot;] == null || (pretranslatedE)[&quot;@type&quot;] == &quot;&quot;) {
                    callback0();
                    return;
                } else {
                    this.error(&quot;Found unknown type:&quot; + (pretranslatedE)[&quot;@type&quot;]);
                    callback0();
                    return;
                }
            }, function(strings) {
                success(frameworkArray, competencies, relations);
            });
        }, error: failure});
    };
    constructor.cleanUpTranslator = function(translator) {
        for (var key in (translator)) {
            if ((translator)[key] == &quot;&quot;) {
                (translator)[key] = null;
            } else if ((translator)[key] != null) {
                var thisKey = (translator)[key];
                if ((typeof thisKey) == &quot;string&quot;) {
                    if (((translator)[key]).trim().length == 0) {
                        (translator)[key] = null;
                    } else if ((thisKey).indexOf(&quot;|&quot;) != -1) {
                        thisKey = (thisKey).split(&quot;|&quot;);
                        (translator)[key] = thisKey;
                        for (var i = 0; i &lt; (thisKey).length; i++) {
                            if ((thisKey)[i] != (thisKey)[i].trim()) {
                                var thisVal = (thisKey)[i].trim();
                                (thisKey)[i] = thisVal;
                            }
                        }
                    }
                }
                if (key != key.trim()) {
                    var trimKey = key.trim();
                    (translator)[trimKey] = (translator)[key];
                    (translator)[key] = null;
                }
            }
        }
    };
    constructor.createRelations = function(e, field, type, repo, ceo, id, relations, relationById, frameworks) {
        if (!EcArray.isArray((e)[field])) {
            var makeArray = Array((e)[field]);
            (e)[field] = makeArray;
        }
        for (var i = 0; i &lt; ((e)[field]).length; i++) {
            CTDLASNCSVImport.createEachRelation(e, field, type, repo, ceo, id, relations, relationById, frameworks, i);
        }
    };
    constructor.createEachRelation = function(e, field, type, repo, ceo, id, relations, relationById, frameworks, i) {
        var r = new EcAlignment();
        r.generateId(repo.selectedServer);
        if (ceo != null) 
            r.addOwner(ceo.ppk.toPk());
        if (id.ppk != null) 
            r.addOwner(id.ppk.toPk());
        r.relationType = type;
        if (field == &quot;ceasn:narrowAlignment&quot;) {
            r.source = ((e)[field])[i];
            r.target = (e)[&quot;id&quot;];
        } else {
            r.source = (e)[&quot;id&quot;];
            if (i != -1) {
                r.target = ((e)[field])[i];
            } else {
                r.target = ((e)[field]);
            }
        }
        relations.push(r);
        (relationById)[r.shortId()] = r;
        ((frameworks)[(e)[&quot;ceasn:isPartOf&quot;]]).relation.push(r.shortId());
    };
    constructor.setDateCreated = function(importObject, object) {
        if ((importObject)[&quot;ceasn:dateCreated&quot;] == null &amp;&amp; (importObject)[&quot;schema:dateCreated&quot;] == null) {
            var timestamp = object.getTimestamp();
            var date;
            if (timestamp != null) {
                date = new Date(parseInt(timestamp)).toISOString();
            } else {
                date = new Date().toISOString();
            }
            (object)[&quot;schema:dateCreated&quot;] = date;
        }
    };
}, {}, {});
var CTDLASNCSVConceptImport = function() {};
CTDLASNCSVConceptImport = stjs.extend(CTDLASNCSVConceptImport, null, [], function(constructor, prototype) {
    constructor.analyzeFile = function(file, success, failure) {
        if (file == null) {
            failure(&quot;No file to analyze&quot;);
            return;
        }
        if ((file)[&quot;name&quot;] == null) {
            failure(&quot;Invalid file&quot;);
        } else if (!((file)[&quot;name&quot;]).endsWith(&quot;.csv&quot;)) {
            failure(&quot;Invalid file type&quot;);
        }
        Papa.parse(file, {encoding: &quot;UTF-8&quot;, complete: function(results) {
            var tabularData = (results)[&quot;data&quot;];
            var colNames = tabularData[0];
            var nameToCol = new Object();
            for (var i = 0; i &lt; colNames.length; i++) 
                (nameToCol)[colNames[i]] = i;
            var conceptSchemeCounter = 0;
            var conceptCounter = 0;
            var typeCol = (nameToCol)[&quot;@type&quot;];
            if (typeCol == null) {
                this.error(&quot;No @type in CSV.&quot;);
                return;
            }
            for (var i = 0; i &lt; tabularData.length; i++) {
                if (i == 0) 
                    continue;
                var col = tabularData[i];
                if (col[typeCol] == &quot;skos:ConceptScheme&quot;) 
                    conceptSchemeCounter++;
                 else if (col[typeCol] == &quot;skos:Concept&quot;) 
                    conceptCounter++;
                 else if (col[typeCol] == null || col[typeCol] == &quot;&quot;) 
                    continue;
                 else {
                    this.error(&quot;Found unknown type:&quot; + col[typeCol]);
                    return;
                }
            }
            success(conceptSchemeCounter, conceptCounter);
        }, error: failure});
    };
    constructor.importFrameworksAndCompetencies = function(repo, file, success, failure, ceo) {
        if (file == null) {
            failure(&quot;No file to analyze&quot;);
            return;
        }
        if ((file)[&quot;name&quot;] == null) {
            failure(&quot;Invalid file&quot;);
        } else if (!((file)[&quot;name&quot;]).endsWith(&quot;.csv&quot;)) {
            failure(&quot;Invalid file type&quot;);
        }
        Papa.parse(file, {header: true, encoding: &quot;UTF-8&quot;, complete: function(results) {
            var tabularData = (results)[&quot;data&quot;];
            var schemeArray = new Array();
            var concepts = new Array();
            new EcAsyncHelper().each(tabularData, function(pretranslatedE, callback0) {
                if ((pretranslatedE)[&quot;@type&quot;] == &quot;skos:ConceptScheme&quot;) {
                    var translator = new EcLinkedData(null, null);
                    translator.copyFrom(pretranslatedE);
                    CTDLASNCSVImport.cleanUpTranslator(translator);
                    if ((translator)[&quot;ceasn:name&quot;] != null) {
                        var name = (translator)[&quot;ceasn:name&quot;];
                        var nameWithLanguage = new Object();
                        (nameWithLanguage)[&quot;en-US&quot;] = name;
                        (translator)[&quot;ceasn:name&quot;] = nameWithLanguage;
                    }
                    translator.recast(&quot;https://schema.cassproject.org/0.4/ceasn2cassConcepts&quot;, &quot;https://schema.cassproject.org/0.4/skos&quot;, function(e) {
                        var f = new EcConceptScheme();
                        f.copyFrom(e);
                        if ((e)[&quot;owner&quot;] != null) {
                            var id = new EcIdentity();
                            id.ppk = EcPpk.fromPem((e)[&quot;owner&quot;]);
                            f.addOwner(id.ppk.toPk());
                            EcIdentityManager.addIdentityQuietly(id);
                        }
                        if (ceo != null) 
                            f.addOwner(ceo.ppk.toPk());
                        (f)[&quot;schema:dateModified&quot;] = new Date().toISOString();
                        if (EcConceptScheme.template != null &amp;&amp; (EcConceptScheme.template)[(&quot;schema:dateCreated&quot;)] != null) {
                            CTDLASNCSVImport.setDateCreated(e, f);
                        }
                        schemeArray.push(f);
                        callback0();
                    }, failure);
                } else if ((pretranslatedE)[&quot;@type&quot;] == &quot;skos:Concept&quot;) {
                    var translator = new EcLinkedData(null, null);
                    translator.copyFrom(pretranslatedE);
                    CTDLASNCSVImport.cleanUpTranslator(translator);
                    if ((translator)[&quot;skos:prefLabel&quot;] != null) {
                        var name = (translator)[&quot;skos:prefLabel&quot;];
                        var nameWithLanguage = new Object();
                        (nameWithLanguage)[&quot;en-US&quot;] = name;
                        (translator)[&quot;skos:prefLabel&quot;] = nameWithLanguage;
                    }
                    translator.recast(&quot;https://schema.cassproject.org/0.4/ceasn2cassConcepts&quot;, &quot;https://schema.cassproject.org/0.4/skos&quot;, function(e) {
                        var f = new EcConcept();
                        f.copyFrom(e);
                        if ((e)[&quot;id&quot;] == null) {
                            callback0();
                            return;
                        }
                        if ((e)[&quot;owner&quot;] != null) {
                            var id = new EcIdentity();
                            id.ppk = EcPpk.fromPem((e)[&quot;owner&quot;]);
                            if (id.ppk != null) 
                                f.addOwner(id.ppk.toPk());
                            EcIdentityManager.addIdentityQuietly(id);
                        }
                        if (ceo != null) 
                            f.addOwner(ceo.ppk.toPk());
                        if (EcConcept.template != null &amp;&amp; (EcConcept.template)[(&quot;schema:dateCreated&quot;)] != null) {
                            CTDLASNCSVImport.setDateCreated(e, f);
                        }
                        if ((e)[&quot;skos:narrower&quot;] != null) {
                            var relation = (e)[&quot;skos:narrower&quot;];
                            if (!EcArray.isArray(relation)) {
                                var array = [relation];
                                (f)[&quot;skos:narrower&quot;] = array;
                            }
                        }
                        if ((e)[&quot;skos:broader&quot;] != null) {
                            var relation = (e)[&quot;skos:broader&quot;];
                            if (!EcArray.isArray(relation)) {
                                var array = [relation];
                                (f)[&quot;skos:broader&quot;] = array;
                            }
                        }
                        if ((e)[&quot;skos:broadMatch&quot;] != null) {
                            var relation = (e)[&quot;skos:broadMatch&quot;];
                            if (!EcArray.isArray(relation)) {
                                var array = [relation];
                                (f)[&quot;skos:broadMatch&quot;] = array;
                            }
                        }
                        if ((e)[&quot;skos:closeMatch&quot;] != null) {
                            var relation = (e)[&quot;skos:closeMatch&quot;];
                            if (!EcArray.isArray(relation)) {
                                var array = [relation];
                                (f)[&quot;skos:closeMatch&quot;] = array;
                            }
                        }
                        if ((e)[&quot;skos:exactMatch&quot;] != null) {
                            var relation = (e)[&quot;skos:exactMatch&quot;];
                            if (!EcArray.isArray(relation)) {
                                var array = [relation];
                                (f)[&quot;skos:exactMatch&quot;] = array;
                            }
                        }
                        if ((e)[&quot;skos:narrowMatch&quot;] != null) {
                            var relation = (e)[&quot;skos:narrowMatch&quot;];
                            if (!EcArray.isArray(relation)) {
                                var array = [relation];
                                (f)[&quot;skos:narrowMatch&quot;] = array;
                            }
                        }
                        if ((e)[&quot;skos:related&quot;] != null) {
                            var relation = (e)[&quot;skos:related&quot;];
                            if (!EcArray.isArray(relation)) {
                                var array = [relation];
                                (f)[&quot;skos:related&quot;] = array;
                            }
                        }
                        if ((e)[&quot;skos:topConceptOf&quot;] != null) {
                            var scheme = (e)[&quot;skos:topConceptOf&quot;];
                            for (var i = 0; i &lt; schemeArray.length; i++) {
                                var schemeObj = schemeArray[i];
                                if (scheme == (schemeObj)[&quot;id&quot;]) {
                                    if ((schemeObj)[&quot;skos:hasTopConcept&quot;] == null) {
                                        var hasTopConcept = new Array();
                                        (schemeObj)[&quot;skos:hasTopConcept&quot;] = hasTopConcept;
                                    }
                                    var conceptId = f.shortId();
                                    EcArray.setAdd((schemeObj)[&quot;skos:hasTopConcept&quot;], conceptId);
                                }
                            }
                        }
                        (f)[&quot;schema:dateModified&quot;] = new Date().toISOString();
                        concepts.push(f);
                        callback0();
                    }, failure);
                } else if ((pretranslatedE)[&quot;@type&quot;] == null || (pretranslatedE)[&quot;@type&quot;] == &quot;&quot;) {
                    callback0();
                    return;
                } else {
                    this.error(&quot;Found unknown type:&quot; + (pretranslatedE)[&quot;@type&quot;]);
                    callback0();
                    return;
                }
            }, function(strings) {
                success(schemeArray, concepts);
            });
        }, error: failure});
    };
}, {}, {});

    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
