<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>org.json-ld.js - CASS Javascript Library</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="http://www.cassproject.org/_/rsrc/1451948061999/config/customLogo.gif?revision=16" title="CASS Javascript Library"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.2</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/EcAes.html">EcAes</a></li>
                                <li><a href="../classes/EcAesCtr.html">EcAesCtr</a></li>
                                <li><a href="../classes/EcAesCtrAsync.html">EcAesCtrAsync</a></li>
                                <li><a href="../classes/EcArray.html">EcArray</a></li>
                                <li><a href="../classes/EcAsyncHelper.html">EcAsyncHelper</a></li>
                                <li><a href="../classes/EcDirectedGraph.html">EcDirectedGraph</a></li>
                                <li><a href="../classes/EcObject.html">EcObject</a></li>
                                <li><a href="../classes/EcPk.html">EcPk</a></li>
                                <li><a href="../classes/EcPpk.html">EcPpk</a></li>
                                <li><a href="../classes/EcRemote.html">EcRemote</a></li>
                                <li><a href="../classes/EcRsaOaep.html">EcRsaOaep</a></li>
                                <li><a href="../classes/Graph.html">Graph</a></li>
                                <li><a href="../classes/Hypergraph.html">Hypergraph</a></li>
                                <li><a href="../classes/Triple.html">Triple</a></li>
                            </ul>
                
                
                            <ul id="api-modules" class="apis modules">
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: org.json-ld.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/*
 Copyright 2015-2016 Eduworks Corporation and other contributing parties.

 Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); you may not use this file except in compliance with the License. You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
*/
var EcLinkedData = function(context, type) {
    this.setContextAndType(context, type);
};
EcLinkedData = stjs.extend(EcLinkedData, null, [], function(constructor, prototype) {
    /**
     *  Represents the @type field in JSON-LD.
     */
    prototype.type = null;
    /**
     *  Represents the @context field in JSON-LD.
     */
    prototype.context = null;
    prototype.setContextAndType = function(context, type) {
        this.context = context;
        this.type = type;
        if (type != null) {
            this.type = type.replace(context, &quot;&quot;);
            if (this.type.startsWith(&quot;/&quot;)) 
                this.type = this.type.substring(1);
        }
    };
    constructor.atProperties = [&quot;id&quot;, &quot;type&quot;, &quot;schema&quot;, &quot;context&quot;, &quot;signature&quot;, &quot;owner&quot;, &quot;reader&quot;, &quot;encryptedType&quot;];
    /**
     *  Determines which fields to serialize into @fields.
     *  
     *  @param s
     *  @return True if property is in the set of atProperties.
     */
    constructor.isAtProperty = function(s) {
        for (var i = 0; i &lt; EcLinkedData.atProperties.length; i++) 
            if (EcLinkedData.atProperties[i].equals(s)) 
                return true;
        return false;
    };
    prototype.toJson = function() {
        var o = this.atIfy();
        return JSON.stringify(o);
    };
    /**
     *  Forces Javascript to encode the object in alphabetical order in order to
     *  make signature based actions more viable. Also places @(at) symbols in
     *  front of appropriate fields.
     *  
     *  @return Serializable JSON object.
     */
    prototype.atIfy = function() {
        return this.atIfyObject(this);
    };
    prototype.atIfyArray = function(o) {
        var a = new Array();
        for (var i = 0; i &lt; o.length; i++) {
            if (EcObject.isObject(o[i])) {
                if (stjs.isInstanceOf(o[i].constructor, EcLinkedData)) 
                    a[i] = this.atIfyObject(o[i]);
            } else if (EcArray.isArray(o[i])) 
                a[i] = this.atIfyArray(o[i]);
             else 
                a[i] = o[i];
        }
        return a;
    };
    prototype.atIfyObject = function(o) {
        var keys = new Array();
        var me = (o);
        for (var key in me) {
            if (EcLinkedData.isAtProperty(key)) 
                key = &quot;@&quot; + key;
            keys.push(key);
        }
        keys.sort(function(a, b) {
            return a.compareTo(b);
        });
        var op = (new Object());
        for (var i = 0; i &lt; keys.length; i++) {
            var key = keys[i];
            var value = me[key.replace(&quot;@&quot;, &quot;&quot;)];
            if (value != null) 
                if (stjs.isInstanceOf(value.constructor, EcLinkedData)) 
                    value = (value).atIfy();
                 else if (EcArray.isArray(value)) 
                    value = this.atIfyArray(value);
            if (value != null) 
                op[key] = value;
             else 
                value = me[key];
            if (value != null) 
                op[key] = value;
        }
        return op;
    };
    /**
     *  Helper function to determine if a piece of data is probably a JSON
     *  object.
     *  
     *  @param probableJson
     *  @return True if is probably JSON. False if not.
     */
    constructor.isProbablyJson = function(probableJson) {
        return probableJson.trim().startsWith(&quot;{&quot;) &amp;&amp; probableJson.trim().endsWith(&quot;}&quot;);
    };
    /**
     *  Uses the object&#x27;s fully qualified type name and compares it to the
     *  provided type.
     *  
     *  @param type
     *             Fully qualified type name uri.
     *  @return True if match, False if not.
     */
    prototype.isA = function(type) {
        var computedType = this.getFullType();
        return computedType.equals(type) || this.type.equals(type);
    };
    /**
     *  Uses the object&#x27;s fully qualified type name and compares it to the
     *  provided type.
     *  
     *  @param type
     *             Fully qualified type name uri.
     *  @return True if match, False if not.
     */
    prototype.isAny = function(type) {
        var computedType = this.getFullType();
        if (type.length == 0) 
            return true;
        for (var i = 0; i &lt; type.length; i++) 
            if (type[i].equals(computedType) || type[i].equals(this.type)) 
                return true;
        return false;
    };
    /**
     *  Gets the fully qualified type name, as JSON-LD allows the &quot;namespace&quot; of
     *  the type to be defined in @context.
     *  
     *  @return Fully qualified type name.
     */
    prototype.getFullType = function() {
        if (this.context == null) 
            return this.type;
        if (this.type.contains(&quot;http&quot;)) 
            return this.type;
        var computedType = this.context;
        if (!computedType.endsWith(&quot;/&quot;)) 
            computedType += &quot;/&quot;;
        computedType += this.type;
        return computedType;
    };
    /**
     *  Also could be called &quot;upcast&quot;, for those in the know.
     *  
     *  Ghetto method of copying properties from some other object. As freshly
     *  deserialized javascript objects do not inherently attach the functions of
     *  their type, it is this or factory hell.
     *  
     *  @param that
     *             The freshly deserialized object, or the object to upcast into
     *             this object.
     */
    prototype.copyFrom = function(that) {
        var me = (this);
        for (var key in me) {
            if ((typeof me[key]) != &quot;function&quot;) 
                delete me[key];
        }
        var you = (that);
        for (var key in you) {
            if ((typeof you[key]) != &quot;function&quot;) 
                me[key.replace(&quot;@&quot;, &quot;&quot;)] = you[key];
        }
        this.upgrade();
        if (!this.isAny(this.getTypes())) 
             throw new RuntimeException(&quot;Incompatible type: &quot; + this.getFullType());
    };
    /**
     *  Upgrades the object if necessary.
     */
    prototype.upgrade = function() {};
    /**
     *  Removes the @ symbol from properties in order to make them more
     *  accessible in Javascript.
     *  
     *  @return This object, with @ properties converted to @-less properties.
     */
    prototype.deAtify = function() {
        var me = (this);
        for (var key in me) {
            if (me[key] == null) {
                var value = me[key];
                if (value != null) 
                    if (stjs.isInstanceOf(value.constructor, EcLinkedData)) 
                        value = (value).deAtify();
                me[key.replace(&quot;@&quot;, &quot;&quot;)] = value;
            }
        }
        return this;
    };
    /**
     *  Gets all versions of JSON-LD type strings for this type of object.
     *  
     *  @return Array of URIs.
     */
    prototype.getTypes = function() {
        var a = new Array();
        if (this.type != null) 
            a.push(this.type);
        return a;
    };
}, {atProperties: {name: &quot;Array&quot;, arguments: [null]}}, {});

    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
